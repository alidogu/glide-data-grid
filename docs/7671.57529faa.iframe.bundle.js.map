{"version":3,"file":"7671.57529faa.iframe.bundle.js","mappings":"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","sources":["webpack://root/./packages/core/src/cells/boolean-cell.tsx","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/bubbles-overlay-editor-style.tsx","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/bubbles-overlay-editor.tsx","webpack://root/./packages/core/src/cells/bubble-cell.tsx","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/drilldown-overlay-editor.tsx","webpack://root/./packages/core/src/cells/drilldown-cell.tsx","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/image-overlay-editor-style.tsx","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/image-overlay-editor.tsx","webpack://root/./packages/core/src/cells/image-cell.tsx","webpack://root/./packages/core/src/cells/loading-cell.tsx","webpack://root/./packages/core/src/internal/markdown-div/private/markdown-container.tsx","webpack://root/./packages/core/src/internal/markdown-div/markdown-div.tsx","webpack://root/./packages/core/src/internal/growing-entry/growing-entry-style.tsx","webpack://root/./packages/core/src/internal/growing-entry/growing-entry.tsx","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/markdown-overlay-editor-style.tsx","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/markdown-overlay-editor.tsx","webpack://root/./packages/core/src/cells/markdown-cell.tsx","webpack://root/./packages/core/src/cells/marker-cell.tsx","webpack://root/./packages/core/src/cells/new-row-cell.tsx","webpack://root/./packages/core/src/cells/number-cell.tsx","webpack://root/./packages/core/src/cells/protected-cell.tsx","webpack://root/./packages/core/src/cells/row-id-cell.tsx","webpack://root/./packages/core/src/cells/text-cell.tsx","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/uri-overlay-editor-style.tsx","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/uri-overlay-editor.tsx","webpack://root/./packages/core/src/cells/uri-cell.tsx","webpack://root/./packages/core/src/cells/index.ts","webpack://root/./packages/core/src/common/browser-detect.ts","webpack://root/./packages/core/src/common/image-window-loader.ts","webpack://root/./packages/core/src/common/math.ts","webpack://root/./packages/core/src/common/render-state-provider.ts","webpack://root/./packages/core/src/common/styles.ts","webpack://root/./packages/core/src/common/support.ts","webpack://root/./packages/core/src/common/utils.tsx","webpack://root/./packages/core/src/data-editor/copy-paste.ts","webpack://root/./packages/core/src/data-editor/data-editor-fns.ts","webpack://root/./packages/core/src/internal/data-grid/cell-set.ts","webpack://root/./packages/core/src/internal/data-grid/color-parser.ts","webpack://root/./packages/core/src/internal/data-grid/data-grid-types.ts","webpack://root/./packages/core/src/internal/data-grid/data-grid-sprites.ts","webpack://root/./packages/core/src/internal/data-grid/render/data-grid-render.walk.ts","webpack://root/./packages/core/src/internal/data-grid/render/data-grid-render.cells.ts","webpack://root/./packages/core/src/internal/data-grid/render/data-grid-render.header.ts","webpack://root/./packages/core/src/internal/data-grid/render/data-grid-render.lines.ts","webpack://root/./packages/core/src/internal/data-grid/render/data-grid-render.blit.ts","webpack://root/./packages/core/src/internal/data-grid/render/data-grid.render.rings.ts","webpack://root/./packages/core/src/internal/data-grid/render/data-grid-render.ts","webpack://root/./packages/core/src/internal/data-grid/animation-manager.ts","webpack://root/./packages/core/src/internal/data-grid/use-animation-queue.ts","webpack://root/./packages/core/src/internal/data-grid/data-grid.tsx","webpack://root/./packages/core/src/internal/data-grid/event-args.ts","webpack://root/./packages/core/src/internal/data-grid/render/data-grid-lib.ts","webpack://root/./packages/core/src/internal/data-grid/render/draw-checkbox.ts","webpack://root/./packages/core/src/stories/story-utils.tsx","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/bubbles-overlay-editor-style.tsx?0842","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/drilldown-overlay-editor.tsx?9b3b","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/image-overlay-editor-style.tsx?cd4e","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/markdown-overlay-editor-style.tsx?1292","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/uri-overlay-editor-style.tsx?1393","webpack://root/./packages/core/src/internal/growing-entry/growing-entry-style.tsx?d1c3","webpack://root/./packages/core/src/internal/markdown-div/private/markdown-container.tsx?d89f","webpack://root/./packages/core/src/stories/story-utils.tsx?2b3b","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/bubbles-overlay-editor-style.tsx?7407","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/drilldown-overlay-editor.tsx?1f3e","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/image-overlay-editor-style.tsx?1397","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/markdown-overlay-editor-style.tsx?7418","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/uri-overlay-editor-style.tsx?a195","webpack://root/./packages/core/src/internal/growing-entry/growing-entry-style.tsx?5d90","webpack://root/./packages/core/src/internal/markdown-div/private/markdown-container.tsx?2249","webpack://root/./packages/core/src/stories/story-utils.tsx?252e"],"sourcesContent":["import { getSquareWidth, getSquareXPosFromAlign, getSquareBB, pointIsWithinBB } from \"../common/utils.js\";\nimport { toggleBoolean } from \"../data-editor/data-editor-fns.js\";\nimport {\n    GridCellKind,\n    type BooleanCell,\n    booleanCellIsEditable,\n    BooleanEmpty,\n    BooleanIndeterminate,\n} from \"../internal/data-grid/data-grid-types.js\";\nimport { drawCheckbox } from \"../internal/data-grid/render/draw-checkbox.js\";\nimport type { BaseDrawArgs, InternalCellRenderer } from \"./cell-types.js\";\n\nconst defaultCellMaxSize = 20;\n\nexport const booleanCellRenderer: InternalCellRenderer<BooleanCell> = {\n    getAccessibilityString: c => c.data?.toString() ?? \"false\",\n    kind: GridCellKind.Boolean,\n    needsHover: true,\n    useLabel: false,\n    needsHoverPosition: true,\n    measure: () => 50,\n    draw: a => drawBoolean(a, a.cell.data, booleanCellIsEditable(a.cell), a.cell.maxSize ?? defaultCellMaxSize),\n    onDelete: c => ({\n        ...c,\n        data: false,\n    }),\n    onClick: e => {\n        const { cell, posX: pointerX, posY: pointerY, bounds, theme } = e;\n        const { width, height, x: cellX, y: cellY } = bounds;\n        const maxWidth = cell.maxSize ?? defaultCellMaxSize;\n        const cellCenterY = Math.floor(bounds.y + height / 2);\n        const checkBoxWidth = getSquareWidth(maxWidth, height, theme.cellVerticalPadding);\n        const posX = getSquareXPosFromAlign(\n            cell.contentAlign ?? \"center\",\n            cellX,\n            width,\n            theme.cellHorizontalPadding,\n            checkBoxWidth\n        );\n        const bb = getSquareBB(posX, cellCenterY, checkBoxWidth);\n        const checkBoxClicked = pointIsWithinBB(cellX + pointerX, cellY + pointerY, bb);\n\n        if (booleanCellIsEditable(cell) && checkBoxClicked) {\n            return {\n                ...cell,\n                data: toggleBoolean(cell.data),\n            };\n        }\n        return undefined;\n    },\n    onPaste: (toPaste, cell) => {\n        let newVal: boolean | BooleanEmpty | BooleanIndeterminate = BooleanEmpty;\n        if (toPaste.toLowerCase() === \"true\") {\n            newVal = true;\n        } else if (toPaste.toLowerCase() === \"false\") {\n            newVal = false;\n        } else if (toPaste.toLowerCase() === \"indeterminate\") {\n            newVal = BooleanIndeterminate;\n        }\n        return newVal === cell.data\n            ? undefined\n            : {\n                  ...cell,\n                  data: newVal,\n              };\n    },\n};\n\nfunction drawBoolean(\n    args: BaseDrawArgs,\n    data: boolean | BooleanEmpty | BooleanIndeterminate,\n    canEdit: boolean,\n    maxSize?: number\n) {\n    if (!canEdit && data === BooleanEmpty) {\n        return;\n    }\n    const {\n        ctx,\n        hoverAmount,\n        theme,\n        rect,\n        highlighted,\n        hoverX,\n        hoverY,\n        cell: { contentAlign },\n    } = args;\n    const { x, y, width: w, height: h } = rect;\n\n    const hoverEffect = 0.35;\n\n    let alpha = canEdit ? 1 - hoverEffect + hoverEffect * hoverAmount : 0.4;\n    if (data === BooleanEmpty) {\n        alpha *= hoverAmount;\n    }\n    if (alpha === 0) {\n        return;\n    }\n    ctx.globalAlpha = alpha;\n\n    drawCheckbox(ctx, theme, data, x, y, w, h, highlighted, hoverX, hoverY, maxSize, contentAlign);\n\n    ctx.globalAlpha = 1;\n}\n","import { styled } from \"@linaria/react\";\n\nconst BUBBLE_HEIGHT = 20;\n\nexport const BubblesOverlayEditorStyle = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    margin-top: auto;\n    margin-bottom: auto;\n\n    .boe-bubble {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        border-radius: var(--gdg-rounding-radius, ${BUBBLE_HEIGHT / 2}px);\n\n        padding: 0 8px;\n        height: ${BUBBLE_HEIGHT}px;\n        background-color: var(--gdg-bg-bubble);\n        color: var(--gdg-text-dark);\n        margin: 2px;\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n`;\n","import * as React from \"react\";\nimport { BubblesOverlayEditorStyle } from \"./bubbles-overlay-editor-style.js\";\n\ninterface Props {\n    readonly bubbles: readonly string[];\n}\n\nconst BubblesOverlayEditor: React.FunctionComponent<Props> = p => {\n    const { bubbles } = p;\n    return (\n        <BubblesOverlayEditorStyle>\n            {bubbles.map((b, i) => (\n                <div key={i} className=\"boe-bubble\">\n                    {b}\n                </div>\n            ))}\n            <textarea className=\"gdg-input\" autoFocus={true} />\n        </BubblesOverlayEditorStyle>\n    );\n};\nexport default BubblesOverlayEditor;\n","/* eslint-disable react/display-name */\nimport * as React from \"react\";\nimport BubblesOverlayEditor from \"../internal/data-grid-overlay-editor/private/bubbles-overlay-editor.js\";\nimport { getMiddleCenterBias, measureTextCached, roundedRect } from \"../internal/data-grid/render/data-grid-lib.js\";\nimport { GridCellKind, type BubbleCell } from \"../internal/data-grid/data-grid-types.js\";\nimport type { BaseDrawArgs, InternalCellRenderer } from \"./cell-types.js\";\nimport { makeAccessibilityStringForArray } from \"../common/utils.js\";\n\nexport const bubbleCellRenderer: InternalCellRenderer<BubbleCell> = {\n    getAccessibilityString: c => makeAccessibilityStringForArray(c.data),\n    kind: GridCellKind.Bubble,\n    needsHover: false,\n    useLabel: false,\n    needsHoverPosition: false,\n    measure: (ctx, cell, t) =>\n        cell.data.reduce((acc, data) => ctx.measureText(data).width + acc + 20, 0) + 2 * t.cellHorizontalPadding - 4,\n    draw: a => drawBubbles(a, a.cell.data),\n    provideEditor: () => p => {\n        const { value } = p;\n        return <BubblesOverlayEditor bubbles={value.data} />;\n    },\n    onPaste: () => undefined,\n};\n\nconst itemMargin = 4;\n\nfunction drawBubbles(args: BaseDrawArgs, data: readonly string[]) {\n    const { rect, theme, ctx, highlighted } = args;\n    const { x, y, width: w, height: h } = rect;\n    const bubbleHeight = 20;\n    const bubblePad = 8;\n    const bubbleMargin = itemMargin;\n    let renderX = x + theme.cellHorizontalPadding;\n\n    const renderBoxes: { x: number; width: number }[] = [];\n    for (const s of data) {\n        if (renderX > x + w) break;\n        const textWidth = measureTextCached(s, ctx, theme.baseFontFull).width;\n        renderBoxes.push({\n            x: renderX,\n            width: textWidth,\n        });\n\n        renderX += textWidth + bubblePad * 2 + bubbleMargin;\n    }\n\n    ctx.beginPath();\n    for (const rectInfo of renderBoxes) {\n        roundedRect(\n            ctx,\n            rectInfo.x,\n            y + (h - bubbleHeight) / 2,\n            rectInfo.width + bubblePad * 2,\n            bubbleHeight,\n            theme.roundingRadius ?? bubbleHeight / 2\n        );\n    }\n    ctx.fillStyle = highlighted ? theme.bgBubbleSelected : theme.bgBubble;\n    ctx.fill();\n\n    for (const [i, rectInfo] of renderBoxes.entries()) {\n        ctx.beginPath();\n        ctx.fillStyle = theme.textBubble;\n        ctx.fillText(data[i], rectInfo.x + bubblePad, y + h / 2 + getMiddleCenterBias(ctx, theme));\n    }\n}\n","import type { DrilldownCellData } from \"../../data-grid/data-grid-types.js\";\nimport * as React from \"react\";\nimport { styled } from \"@linaria/react\";\n\nconst DrilldownOverlayEditorStyle = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n\n    .doe-bubble {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        padding: 0 8px;\n        height: 24px;\n\n        background-color: var(--gdg-bg-cell);\n        color: var(--gdg-text-dark);\n        margin: 2px;\n\n        border-radius: var(--gdg-rounding-radius, 6px);\n\n        box-shadow:\n            0 0 1px rgba(62, 65, 86, 0.4),\n            0 1px 3px rgba(62, 65, 86, 0.4);\n\n        img {\n            height: 16px;\n            object-fit: contain;\n\n            margin-right: 4px;\n        }\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n`;\n\ninterface Props {\n    readonly drilldowns: readonly DrilldownCellData[];\n}\n\nconst DrilldownOverlayEditor: React.FunctionComponent<Props> = p => {\n    const { drilldowns } = p;\n    return (\n        <DrilldownOverlayEditorStyle>\n            {drilldowns.map((d, i) => (\n                <div key={i} className=\"doe-bubble\">\n                    {d.img !== undefined && <img src={d.img} />}\n                    <div>{d.text}</div>\n                </div>\n            ))}\n        </DrilldownOverlayEditorStyle>\n    );\n};\nexport default DrilldownOverlayEditor;\n","/* eslint-disable react/display-name */\nimport * as React from \"react\";\nimport DrilldownOverlayEditor from \"../internal/data-grid-overlay-editor/private/drilldown-overlay-editor.js\";\nimport {\n    getEmHeight,\n    getMiddleCenterBias,\n    measureTextCached,\n    roundedRect,\n} from \"../internal/data-grid/render/data-grid-lib.js\";\nimport { GridCellKind, type DrilldownCell, type DrilldownCellData } from \"../internal/data-grid/data-grid-types.js\";\nimport type { BaseDrawArgs, InternalCellRenderer } from \"./cell-types.js\";\nimport { makeAccessibilityStringForArray } from \"../common/utils.js\";\n\nexport const drilldownCellRenderer: InternalCellRenderer<DrilldownCell> = {\n    getAccessibilityString: c => makeAccessibilityStringForArray(c.data.map(d => d.text)),\n    kind: GridCellKind.Drilldown,\n    needsHover: false,\n    useLabel: false,\n    needsHoverPosition: false,\n    measure: (ctx, cell, t) =>\n        cell.data.reduce(\n            (acc, data) => ctx.measureText(data.text).width + acc + 20 + (data.img !== undefined ? 18 : 0),\n            0\n        ) +\n        2 * t.cellHorizontalPadding -\n        4,\n    draw: a => drawDrilldownCell(a, a.cell.data),\n    provideEditor: () => p => {\n        const { value } = p;\n        return <DrilldownOverlayEditor drilldowns={value.data} />;\n    },\n    onPaste: () => undefined,\n};\n\nconst itemMargin = 4;\n\nconst drilldownCache: {\n    [key: string]: HTMLCanvasElement;\n} = {};\n\nfunction getAndCacheDrilldownBorder(\n    bgCell: string,\n    border: string,\n    height: number,\n    rounding: number\n): {\n    el: HTMLCanvasElement;\n    height: number;\n    width: number;\n    middleWidth: number;\n    sideWidth: number;\n    dpr: number;\n    padding: number;\n} | null {\n    const dpr = Math.ceil(window.devicePixelRatio);\n    const shadowBlur = 5;\n    const targetHeight = height - shadowBlur * 2;\n    const middleWidth = 4;\n\n    const innerHeight = height * dpr;\n    const sideWidth = rounding + shadowBlur;\n    const targetWidth = rounding * 3;\n    const innerWidth = (targetWidth + shadowBlur * 2) * dpr;\n\n    const key = `${bgCell},${border},${dpr},${height}`;\n    if (drilldownCache[key] !== undefined) {\n        return {\n            el: drilldownCache[key],\n            height: innerHeight,\n            width: innerWidth,\n            middleWidth: middleWidth * dpr,\n            sideWidth: sideWidth * dpr,\n            padding: shadowBlur * dpr,\n            dpr,\n        };\n    }\n\n    const canvas = document.createElement(\"canvas\");\n    const ctx = canvas.getContext(\"2d\"); // alpha needed\n\n    if (ctx === null) return null;\n\n    canvas.width = innerWidth;\n    canvas.height = innerHeight;\n\n    ctx.scale(dpr, dpr);\n\n    drilldownCache[key] = canvas;\n\n    ctx.beginPath();\n    roundedRect(ctx, shadowBlur, shadowBlur, targetWidth, targetHeight, rounding);\n\n    ctx.shadowColor = \"rgba(24, 25, 34, 0.4)\";\n    ctx.shadowBlur = 1;\n    ctx.fillStyle = bgCell;\n    ctx.fill();\n\n    ctx.shadowColor = \"rgba(24, 25, 34, 0.3)\";\n    ctx.shadowOffsetY = 1;\n    ctx.shadowBlur = 5;\n    ctx.fillStyle = bgCell;\n    ctx.fill();\n\n    ctx.shadowOffsetY = 0;\n    ctx.shadowBlur = 0;\n    ctx.shadowBlur = 0;\n\n    ctx.beginPath();\n    roundedRect(ctx, shadowBlur + 0.5, shadowBlur + 0.5, targetWidth, targetHeight, rounding);\n\n    ctx.strokeStyle = border;\n    ctx.lineWidth = 1;\n    ctx.stroke();\n\n    return {\n        el: canvas,\n        height: innerHeight,\n        width: innerWidth,\n        sideWidth: sideWidth * dpr,\n        middleWidth: rounding * dpr,\n        padding: shadowBlur * dpr,\n        dpr,\n    };\n}\n\nfunction drawDrilldownCell(args: BaseDrawArgs, data: readonly DrilldownCellData[]) {\n    const { rect, theme, ctx, imageLoader, col, row } = args;\n    const { x, width: w } = rect;\n\n    const font = theme.baseFontFull;\n    const emHeight = getEmHeight(ctx, font);\n    const h = Math.min(rect.height, Math.max(16, Math.ceil(emHeight * theme.lineHeight) * 2));\n    const y = Math.floor(rect.y + (rect.height - h) / 2);\n\n    const bubbleHeight = h - 10;\n    const bubblePad = 8;\n    const bubbleMargin = itemMargin;\n    let renderX = x + theme.cellHorizontalPadding;\n    const rounding = theme.roundingRadius ?? 6;\n\n    const tileMap = getAndCacheDrilldownBorder(theme.bgCell, theme.drilldownBorder, h, rounding);\n\n    const renderBoxes: { x: number; width: number }[] = [];\n    for (const el of data) {\n        if (renderX > x + w) break;\n        const textMetrics = measureTextCached(el.text, ctx, font);\n        const textWidth = textMetrics.width;\n        let imgWidth = 0;\n        if (el.img !== undefined) {\n            const img = imageLoader.loadOrGetImage(el.img, col, row);\n            if (img !== undefined) {\n                imgWidth = bubbleHeight - 8 + 4;\n            }\n        }\n        const renderWidth = textWidth + imgWidth + bubblePad * 2;\n        renderBoxes.push({\n            x: renderX,\n            width: renderWidth,\n        });\n\n        renderX += renderWidth + bubbleMargin;\n    }\n\n    if (tileMap !== null) {\n        const { el, height, middleWidth, sideWidth, width, dpr, padding } = tileMap;\n        const outerSideWidth = sideWidth / dpr;\n        const outerPadding = padding / dpr;\n        for (const rectInfo of renderBoxes) {\n            const rx = Math.floor(rectInfo.x);\n            const rw = Math.floor(rectInfo.width);\n            const outerMiddleWidth = rw - (outerSideWidth - outerPadding) * 2;\n            ctx.imageSmoothingEnabled = false;\n\n            ctx.drawImage(el, 0, 0, sideWidth, height, rx - outerPadding, y, outerSideWidth, h);\n            if (outerMiddleWidth > 0)\n                ctx.drawImage(\n                    el,\n                    sideWidth,\n                    0,\n                    middleWidth,\n                    height,\n                    rx + (outerSideWidth - outerPadding),\n                    y,\n                    outerMiddleWidth,\n                    h\n                );\n            ctx.drawImage(\n                el,\n                width - sideWidth,\n                0,\n                sideWidth,\n                height,\n                rx + rw - (outerSideWidth - outerPadding),\n                y,\n                outerSideWidth,\n                h\n            );\n            ctx.imageSmoothingEnabled = true;\n        }\n    }\n\n    ctx.beginPath();\n\n    for (const [i, rectInfo] of renderBoxes.entries()) {\n        const d = data[i];\n        let drawX = rectInfo.x + bubblePad;\n\n        if (d.img !== undefined) {\n            const img = imageLoader.loadOrGetImage(d.img, col, row);\n            if (img !== undefined) {\n                const imgSize = bubbleHeight - 8;\n                let srcX = 0;\n                let srcY = 0;\n                let srcWidth = img.width;\n                let srcHeight = img.height;\n\n                if (srcWidth > srcHeight) {\n                    // landscape\n                    srcX += (srcWidth - srcHeight) / 2;\n                    srcWidth = srcHeight;\n                } else if (srcHeight > srcWidth) {\n                    //portrait\n                    srcY += (srcHeight - srcWidth) / 2;\n                    srcHeight = srcWidth;\n                }\n                ctx.beginPath();\n                roundedRect(ctx, drawX, y + h / 2 - imgSize / 2, imgSize, imgSize, theme.roundingRadius ?? 3);\n                ctx.save();\n                ctx.clip();\n                ctx.drawImage(img, srcX, srcY, srcWidth, srcHeight, drawX, y + h / 2 - imgSize / 2, imgSize, imgSize);\n                ctx.restore();\n\n                drawX += imgSize + 4;\n            }\n        }\n\n        ctx.beginPath();\n        ctx.fillStyle = theme.textBubble;\n        ctx.fillText(d.text, drawX, y + h / 2 + getMiddleCenterBias(ctx, theme));\n    }\n}\n","import { styled } from \"@linaria/react\";\n\nexport const ImageOverlayEditorStyle = styled.div`\n    display: flex;\n\n    height: 100%;\n\n    .gdg-centering-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        height: 100%;\n\n        img,\n        canvas {\n            max-height: calc(100vh - var(--overlay-top) - 20px);\n            object-fit: contain;\n            user-select: none;\n        }\n\n        canvas {\n            max-width: 380px;\n        }\n    }\n\n    .gdg-edit-icon {\n        position: absolute;\n        top: 12px;\n        right: 0;\n        width: 48px;\n        height: 48px;\n        color: var(--gdg-accent-color);\n\n        cursor: pointer;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        > * {\n            width: 24px;\n            height: 24px;\n        }\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n`;\n","import * as React from \"react\";\nimport { ImageOverlayEditorStyle } from \"./image-overlay-editor-style.js\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport { EditPencil } from \"../../../common/utils.js\";\n\n/** @category Types */\nexport interface OverlayImageEditorProps {\n    readonly urls: readonly string[];\n    readonly canWrite: boolean;\n    readonly onCancel: () => void;\n    readonly onChange: (newImage: string) => void;\n    readonly onEditClick?: () => void;\n    readonly renderImage?: (url: string) => React.ReactNode;\n}\n\n/** @category Renderers */\nexport const ImageOverlayEditor: React.FunctionComponent<OverlayImageEditorProps> = p => {\n    const { urls, canWrite, onEditClick, renderImage } = p;\n\n    const filtered = urls.filter(u => u !== \"\");\n\n    if (filtered.length === 0) {\n        return null;\n    }\n\n    const allowMove = filtered.length > 1;\n    return (\n        <ImageOverlayEditorStyle data-testid=\"GDG-default-image-overlay-editor\">\n            <Carousel\n                showArrows={allowMove}\n                showThumbs={false}\n                swipeable={allowMove}\n                emulateTouch={allowMove}\n                infiniteLoop={allowMove}>\n                {filtered.map(url => {\n                    const innerContent = renderImage?.(url) ?? <img draggable={false} src={url} />;\n                    return (\n                        <div className=\"gdg-centering-container\" key={url}>\n                            {innerContent}\n                        </div>\n                    );\n                })}\n            </Carousel>\n            {canWrite && onEditClick && (\n                <button className=\"gdg-edit-icon\" onClick={onEditClick}>\n                    <EditPencil />\n                </button>\n            )}\n        </ImageOverlayEditorStyle>\n    );\n};\n","/* eslint-disable react/display-name */\nimport * as React from \"react\";\nimport { ImageOverlayEditor } from \"../internal/data-grid-overlay-editor/private/image-overlay-editor.js\";\nimport { roundedRect } from \"../internal/data-grid/render/data-grid-lib.js\";\nimport { GridCellKind, type BaseGridCell, type ImageCell } from \"../internal/data-grid/data-grid-types.js\";\nimport type { BaseDrawArgs, InternalCellRenderer } from \"./cell-types.js\";\n\nexport const imageCellRenderer: InternalCellRenderer<ImageCell> = {\n    getAccessibilityString: c => c.data.join(\", \"),\n    kind: GridCellKind.Image,\n    needsHover: false,\n    useLabel: false,\n    needsHoverPosition: false,\n    draw: a =>\n        drawImage(\n            a,\n            a.cell.displayData ?? a.cell.data,\n            a.cell.rounding ?? a.theme.roundingRadius ?? 4,\n            a.cell.contentAlign\n        ),\n    measure: (_ctx, cell) => cell.data.length * 50,\n    onDelete: c => ({\n        ...c,\n        data: [],\n    }),\n    provideEditor: () => p => {\n        const { value, onFinishedEditing, imageEditorOverride } = p;\n\n        const ImageEditor = imageEditorOverride ?? ImageOverlayEditor;\n\n        return (\n            <ImageEditor\n                urls={value.data}\n                canWrite={value.readonly !== false}\n                onCancel={onFinishedEditing}\n                onChange={newImage => {\n                    onFinishedEditing({\n                        ...value,\n                        data: [newImage],\n                    });\n                }}\n            />\n        );\n    },\n    onPaste: (toPaste, cell) => {\n        toPaste = toPaste.trim();\n        const fragments = toPaste.split(\",\");\n        const uris = fragments\n            .map(f => {\n                try {\n                    new URL(f);\n                    return f;\n                } catch {\n                    return undefined;\n                }\n            })\n            .filter(x => x !== undefined) as string[];\n\n        if (uris.length === cell.data.length && uris.every((u, i) => u === cell.data[i])) return undefined;\n        return {\n            ...cell,\n            data: uris,\n        };\n    },\n};\n\nconst itemMargin = 4;\n\nexport function drawImage(\n    args: BaseDrawArgs,\n    data: readonly string[],\n    rounding: number,\n    contentAlign?: BaseGridCell[\"contentAlign\"]\n) {\n    const { rect, col, row, theme, ctx, imageLoader } = args;\n    const { x, y, height: h, width: w } = rect;\n\n    const imgHeight = h - theme.cellVerticalPadding * 2;\n    const images: (HTMLImageElement | ImageBitmap)[] = [];\n    let totalWidth = 0;\n    // eslint-disable-next-line unicorn/no-for-loop\n    for (let index = 0; index < data.length; index++) {\n        const i = data[index];\n        if (i.length === 0) continue;\n        const img = imageLoader.loadOrGetImage(i, col, row);\n\n        if (img !== undefined) {\n            images[index] = img;\n            const imgWidth = img.width * (imgHeight / img.height);\n            totalWidth += imgWidth + itemMargin;\n        }\n    }\n\n    if (totalWidth === 0) return;\n    totalWidth -= itemMargin;\n\n    let drawX = x + theme.cellHorizontalPadding;\n    if (contentAlign === \"right\") drawX = Math.floor(x + w - theme.cellHorizontalPadding - totalWidth);\n    else if (contentAlign === \"center\") drawX = Math.floor(x + w / 2 - totalWidth / 2);\n\n    for (const img of images) {\n        if (img === undefined) continue; //array is sparse\n        const imgWidth = img.width * (imgHeight / img.height);\n        if (rounding > 0) {\n            ctx.beginPath();\n            roundedRect(ctx, drawX, y + theme.cellVerticalPadding, imgWidth, imgHeight, rounding);\n            ctx.save();\n            ctx.clip();\n        }\n        ctx.drawImage(img, drawX, y + theme.cellVerticalPadding, imgWidth, imgHeight);\n        if (rounding > 0) {\n            ctx.restore();\n        }\n\n        drawX += imgWidth + itemMargin;\n    }\n}\n","import { withAlpha } from \"../internal/data-grid/color-parser.js\";\nimport { roundedRect } from \"../internal/data-grid/render/data-grid-lib.js\";\nimport { GridCellKind, type LoadingCell } from \"../internal/data-grid/data-grid-types.js\";\nimport type { InternalCellRenderer } from \"./cell-types.js\";\n\n// returns a \"random\" number between -1 and 1\nfunction getRandomNumber(x: number, y: number): number {\n    let seed = x * 49_632 + y * 325_176;\n\n    // Inline Xorshift algorithm\n    seed ^= seed << 13;\n    seed ^= seed >> 17;\n    seed ^= seed << 5;\n\n    // eslint-disable-next-line unicorn/number-literal-case\n    return (seed / 0xff_ff_ff_ff) * 2;\n}\n\nexport const loadingCellRenderer: InternalCellRenderer<LoadingCell> = {\n    getAccessibilityString: () => \"\",\n    kind: GridCellKind.Loading,\n    needsHover: false,\n    useLabel: false,\n    needsHoverPosition: false,\n    measure: () => 120,\n    draw: a => {\n        const { cell, col, row, ctx, rect, theme } = a;\n        if (cell.skeletonWidth === undefined || cell.skeletonWidth === 0) {\n            return;\n        }\n\n        let width = cell.skeletonWidth;\n        if (cell.skeletonWidthVariability !== undefined && cell.skeletonWidthVariability > 0) {\n            width += Math.round(getRandomNumber(col, row) * cell.skeletonWidthVariability);\n        }\n\n        const hpad = theme.cellHorizontalPadding;\n        const rectHeight = cell.skeletonHeight ?? Math.min(18, rect.height - 2 * theme.cellVerticalPadding);\n\n        roundedRect(\n            ctx,\n            rect.x + hpad,\n            rect.y + (rect.height - rectHeight) / 2,\n            width,\n            rectHeight,\n            theme.roundingRadius ?? 3\n        );\n        ctx.fillStyle = withAlpha(theme.textDark, 0.1);\n        ctx.fill();\n    },\n    onPaste: () => undefined,\n};\n","import { styled } from \"@linaria/react\";\n\nexport const MarkdownContainer = styled.div`\n    word-break: break-word;\n    -webkit-touch-callout: default;\n    padding-top: 6px;\n\n    > * {\n        margin: 0;\n    }\n\n    & *:last-child {\n        margin-bottom: 0;\n    }\n\n    & p img {\n        width: 100%;\n    }\n`;\n","import React from \"react\";\nimport { marked } from \"marked\";\n\nimport { MarkdownContainer } from \"./private/markdown-container.js\";\n\n/** @category Renderers */\nexport interface MarkdownDivProps {\n    contents: string;\n    createNode?: (content: string) => DocumentFragment;\n}\n\n/** @category Renderers */\nexport default class MarkdownDiv<TProps extends MarkdownDivProps, TState> extends React.PureComponent<TProps, TState> {\n    private targetElement: HTMLElement | null = null;\n\n    private renderMarkdownIntoDiv() {\n        const { targetElement, props } = this;\n        if (targetElement === null) return;\n\n        const { contents, createNode } = props;\n\n        const innerHTML: string = (marked as any)(contents);\n\n        const childRange = document.createRange();\n        childRange.selectNodeContents(targetElement);\n        childRange.deleteContents();\n\n        let newChild: DocumentFragment | undefined = createNode?.(innerHTML);\n        if (newChild === undefined) {\n            const childDoc = document.createElement(\"template\");\n            childDoc.innerHTML = innerHTML;\n            newChild = childDoc.content;\n        }\n        targetElement.append(newChild);\n\n        const tags = targetElement.getElementsByTagName(\"a\");\n        for (const tag of tags) {\n            tag.target = \"_blank\";\n            tag.rel = \"noreferrer noopener\";\n        }\n    }\n\n    private containerRefHook = (element: HTMLElement | null) => {\n        this.targetElement = element;\n        this.renderMarkdownIntoDiv();\n    };\n\n    public render() {\n        // Doing this in the ref hook works great when we first render, but never again.\n        // This only works great after the first render, but not in the first render.\n        // Putting the two together makes the full solution.\n        this.renderMarkdownIntoDiv();\n        return <MarkdownContainer ref={this.containerRefHook as any} />;\n    }\n}\n","import { styled } from \"@linaria/react\";\n\nexport const InputBox = styled.textarea`\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n\n    border-radius: 0px;\n\n    resize: none;\n    white-space: pre-wrap;\n    min-width: 100%;\n    overflow: hidden;\n    border: 0;\n    background-color: transparent;\n\n    ::placeholder {\n        color: var(--gdg-text-light);\n    }\n\n    font-size: var(--gdg-editor-font-size);\n    line-height: 16px;\n    font-family: var(--gdg-font-family);\n    -webkit-text-fill-color: var(--gdg-text-dark);\n    color: var(--gdg-text-dark);\n    padding: 0;\n    margin: 0;\n\n    .gdg-invalid & {\n        text-decoration: underline;\n        text-decoration-color: #d60606;\n    }\n`;\n\nexport const ShadowBox = styled.div`\n    visibility: hidden;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n\n    width: max-content;\n    max-width: 100%;\n\n    min-width: 100%;\n\n    font-size: var(--gdg-editor-font-size);\n    line-height: 16px;\n    font-family: var(--gdg-font-family);\n    color: var(--gdg-text-dark);\n    padding: 0;\n    margin: 0;\n\n    padding-bottom: 2px;\n`;\n\nexport const GrowingEntryStyle = styled.div`\n    position: relative;\n    margin-top: 6px;\n`;\n","import * as React from \"react\";\n\nimport { GrowingEntryStyle, ShadowBox, InputBox } from \"./growing-entry-style.js\";\nimport { assert } from \"../../common/support.js\";\nimport type { SelectionRange } from \"../data-grid/data-grid-types.js\";\n\ninterface Props\n    extends React.DetailedHTMLProps<React.TextareaHTMLAttributes<HTMLTextAreaElement>, HTMLTextAreaElement> {\n    readonly placeholder?: string;\n    readonly highlight: boolean;\n    readonly altNewline?: boolean;\n    readonly validatedSelection?: SelectionRange;\n}\n\nlet globalInputID = 0;\n\n/** @category Renderers */\nexport const GrowingEntry: React.FunctionComponent<Props> = (props: Props) => {\n    const { placeholder, value, onKeyDown, highlight, altNewline, validatedSelection, ...rest } = props;\n    const { onChange, className } = rest;\n\n    const inputRef = React.useRef<HTMLTextAreaElement | null>(null);\n\n    const useText = value ?? \"\";\n\n    assert(onChange !== undefined, \"GrowingEntry must be a controlled input area\");\n\n    // 10 million id's aught to be enough for anybody\n    const [inputID] = React.useState(() => \"input-box-\" + (globalInputID = (globalInputID + 1) % 10_000_000));\n\n    React.useEffect(() => {\n        const ta = inputRef.current;\n        if (ta === null) return;\n\n        if (ta.disabled) return;\n        const length = useText.toString().length;\n        ta.focus();\n        ta.setSelectionRange(highlight ? 0 : length, length);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    React.useLayoutEffect(() => {\n        if (validatedSelection !== undefined) {\n            const range = typeof validatedSelection === \"number\" ? [validatedSelection, null] : validatedSelection;\n            inputRef.current?.setSelectionRange(range[0], range[1]);\n        }\n    }, [validatedSelection]);\n\n    const onKeyDownInner = React.useCallback<NonNullable<typeof onKeyDown>>(\n        e => {\n            if (e.key === \"Enter\" && e.shiftKey && altNewline === true) {\n                return;\n            }\n            onKeyDown?.(e);\n        },\n        [altNewline, onKeyDown]\n    );\n\n    return (\n        <GrowingEntryStyle className=\"gdg-growing-entry\">\n            <ShadowBox className={className}>{useText + \"\\n\"}</ShadowBox>\n            <InputBox\n                {...rest}\n                className={(className ?? \"\") + \" gdg-input\"}\n                id={inputID}\n                ref={inputRef}\n                onKeyDown={onKeyDownInner}\n                value={useText}\n                placeholder={placeholder}\n                dir=\"auto\"\n            />\n        </GrowingEntryStyle>\n    );\n};\n","import { GrowingEntryStyle } from \"../../growing-entry/growing-entry-style.js\";\nimport { styled } from \"@linaria/react\";\n\ninterface Props {\n    targetWidth: number;\n}\n\nexport const MarkdownOverlayEditorStyle = styled.div<Props>`\n    min-width: ${p => p.targetWidth}px;\n    width: 100%;\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    position: relative;\n    color: var(--gdg-text-dark);\n\n    ${GrowingEntryStyle} {\n        flex-shrink: 1;\n        min-width: 0;\n    }\n\n    .gdg-spacer {\n        flex: 1;\n    }\n\n    .gdg-edit-icon {\n        position: relative;\n        cursor: pointer;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        color: var(--gdg-accent-color);\n\n        padding: 0;\n\n        height: 24px;\n        width: 24px;\n        flex-shrink: 0;\n\n        transition: all \"0.125s ease\";\n\n        border-radius: 6px;\n\n        > * {\n            width: 16px;\n            height: 16px;\n        }\n    }\n\n    .gdg-edit-hover {\n        :hover {\n            background-color: var(--gdg-accent-light);\n            transition: background-color 150ms;\n        }\n    }\n\n    .gdg-checkmark-hover {\n        :hover {\n            color: #ffffff;\n            background-color: var(--gdg-accent-color);\n        }\n    }\n\n    .gdg-md-edit-textarea {\n        position: relative;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n        margin-top: 25px;\n        opacity: 0;\n        padding: 0;\n    }\n\n    .gdg-ml-6 {\n        margin-left: 6px;\n    }\n`;\n","import * as React from \"react\";\nimport MarkdownDiv from \"../../markdown-div/markdown-div.js\";\nimport { GrowingEntry } from \"../../growing-entry/growing-entry.js\";\nimport { MarkdownOverlayEditorStyle } from \"./markdown-overlay-editor-style.js\";\nimport { EditPencil, Checkmark } from \"../../../common/utils.js\";\nimport type { MarkdownCell, Rectangle, SelectionRange } from \"../../data-grid/data-grid-types.js\";\n\ninterface Props {\n    readonly targetRect: Rectangle;\n    readonly onChange: (ev: React.ChangeEvent<HTMLTextAreaElement>) => void;\n    readonly forceEditMode: boolean;\n    readonly onFinish: (newValue?: MarkdownCell | undefined) => void;\n    readonly validatedSelection?: SelectionRange;\n\n    readonly value: MarkdownCell;\n\n    createNode?: (content: string) => DocumentFragment;\n}\n\nexport const MarkdownOverlayEditor: React.FunctionComponent<Props> = p => {\n    const { value, onChange, forceEditMode, createNode, targetRect, onFinish, validatedSelection } = p;\n\n    const markdown = value.data;\n    const readonly = value.readonly === true;\n\n    const [editMode, setEditMode] = React.useState<boolean>(markdown === \"\" || forceEditMode);\n    const onEditClick = React.useCallback(() => {\n        setEditMode(e => !e);\n    }, []);\n    const addLeftPad = markdown ? \"gdg-ml-6\" : \"\";\n\n    if (editMode) {\n        return (\n            <MarkdownOverlayEditorStyle targetWidth={targetRect.width - 20}>\n                <GrowingEntry\n                    autoFocus={true}\n                    highlight={false}\n                    validatedSelection={validatedSelection}\n                    value={markdown}\n                    onKeyDown={e => {\n                        if (e.key === \"Enter\") e.stopPropagation();\n                    }}\n                    onChange={onChange}\n                />\n                <div className={`gdg-edit-icon gdg-checkmark-hover ${addLeftPad}`} onClick={() => onFinish(value)}>\n                    <Checkmark />\n                </div>\n            </MarkdownOverlayEditorStyle>\n        );\n    }\n    return (\n        <MarkdownOverlayEditorStyle targetWidth={targetRect.width}>\n            <MarkdownDiv contents={markdown} createNode={createNode} />\n            {!readonly && (\n                <>\n                    <div className=\"spacer\" />\n                    <div className={`gdg-edit-icon gdg-edit-hover ${addLeftPad}`} onClick={onEditClick}>\n                        <EditPencil />\n                    </div>\n                </>\n            )}\n            <textarea className=\"gdg-md-edit-textarea gdg-input\" autoFocus={true} />\n        </MarkdownOverlayEditorStyle>\n    );\n};\n","/* eslint-disable react/display-name */\nimport * as React from \"react\";\nimport { MarkdownOverlayEditor } from \"../internal/data-grid-overlay-editor/private/markdown-overlay-editor.js\";\nimport { drawTextCell, prepTextCell } from \"../internal/data-grid/render/data-grid-lib.js\";\nimport { GridCellKind, type MarkdownCell } from \"../internal/data-grid/data-grid-types.js\";\nimport type { InternalCellRenderer } from \"./cell-types.js\";\n\nexport const markdownCellRenderer: InternalCellRenderer<MarkdownCell> = {\n    getAccessibilityString: c => c.data?.toString() ?? \"\",\n    kind: GridCellKind.Markdown,\n    needsHover: false,\n    needsHoverPosition: false,\n    drawPrep: prepTextCell,\n    measure: (ctx, cell, t) => {\n        const firstLine = cell.data.split(\"\\n\")[0];\n        return ctx.measureText(firstLine).width + 2 * t.cellHorizontalPadding;\n    },\n    draw: a => drawTextCell(a, a.cell.data, a.cell.contentAlign),\n    onDelete: c => ({\n        ...c,\n        data: \"\",\n    }),\n    provideEditor: () => p => {\n        const { onChange, value, target, onFinishedEditing, markdownDivCreateNode, forceEditMode, validatedSelection } =\n            p;\n        return (\n            <MarkdownOverlayEditor\n                onFinish={onFinishedEditing}\n                targetRect={target}\n                value={value}\n                validatedSelection={validatedSelection}\n                onChange={e =>\n                    onChange({\n                        ...value,\n                        data: e.target.value,\n                    })\n                }\n                forceEditMode={forceEditMode}\n                createNode={markdownDivCreateNode}\n            />\n        );\n    },\n    onPaste: (toPaste, cell) => (toPaste === cell.data ? undefined : { ...cell, data: toPaste }),\n};\n","import { getMiddleCenterBias } from \"../internal/data-grid/render/data-grid-lib.js\";\nimport { InnerGridCellKind, type MarkerCell } from \"../internal/data-grid/data-grid-types.js\";\nimport { drawCheckbox } from \"../internal/data-grid/render/draw-checkbox.js\";\nimport type { BaseDrawArgs, InternalCellRenderer, PrepResult } from \"./cell-types.js\";\n\nexport const markerCellRenderer: InternalCellRenderer<MarkerCell> = {\n    getAccessibilityString: c => c.row.toString(),\n    kind: InnerGridCellKind.Marker,\n    needsHover: true,\n    needsHoverPosition: false,\n    drawPrep: prepMarkerRowCell,\n    measure: () => 44,\n    draw: a =>\n        drawMarkerRowCell(a, a.cell.row, a.cell.checked, a.cell.markerKind, a.cell.drawHandle, a.cell.checkboxStyle),\n    onClick: e => {\n        const { bounds, cell, posX: x, posY: y } = e;\n        const { width, height } = bounds;\n\n        const centerX = cell.drawHandle ? 7 + (width - 7) / 2 : width / 2;\n        const centerY = height / 2;\n\n        if (Math.abs(x - centerX) <= 10 && Math.abs(y - centerY) <= 10) {\n            return {\n                ...cell,\n                checked: !cell.checked,\n            };\n        }\n        return undefined;\n    },\n    onPaste: () => undefined,\n};\n\nfunction prepMarkerRowCell(args: BaseDrawArgs, lastPrep: PrepResult | undefined): Partial<PrepResult> {\n    const { ctx, theme } = args;\n    const newFont = theme.markerFontFull;\n    const result: Partial<PrepResult> = lastPrep ?? {};\n    if (result?.font !== newFont) {\n        ctx.font = newFont;\n        result.font = newFont;\n    }\n    result.deprep = deprepMarkerRowCell;\n    ctx.textAlign = \"center\";\n    return result;\n}\n\nfunction deprepMarkerRowCell(args: Pick<BaseDrawArgs, \"ctx\">) {\n    const { ctx } = args;\n    ctx.textAlign = \"start\";\n}\n\nfunction drawMarkerRowCell(\n    args: BaseDrawArgs,\n    index: number,\n    checked: boolean,\n    markerKind: \"checkbox\" | \"both\" | \"number\" | \"checkbox-visible\",\n    drawHandle: boolean,\n    style: \"circle\" | \"square\"\n) {\n    const { ctx, rect, hoverAmount, theme } = args;\n    const { x, y, width, height } = rect;\n    const checkedboxAlpha = checked ? 1 : markerKind === \"checkbox-visible\" ? 0.6 + 0.4 * hoverAmount : hoverAmount;\n    if (markerKind !== \"number\" && checkedboxAlpha > 0) {\n        ctx.globalAlpha = checkedboxAlpha;\n        const offsetAmount = 7 * (checked ? hoverAmount : 1);\n        drawCheckbox(\n            ctx,\n            theme,\n            checked,\n            drawHandle ? x + offsetAmount : x,\n            y,\n            drawHandle ? width - offsetAmount : width,\n            height,\n            true,\n            undefined,\n            undefined,\n            18,\n            \"center\",\n            style\n        );\n        if (drawHandle) {\n            ctx.globalAlpha = hoverAmount;\n            ctx.beginPath();\n            for (const xOffset of [3, 6]) {\n                for (const yOffset of [-5, -1, 3]) {\n                    ctx.rect(x + xOffset, y + height / 2 + yOffset, 2, 2);\n                }\n            }\n\n            ctx.fillStyle = theme.textLight;\n            ctx.fill();\n            ctx.beginPath();\n        }\n        ctx.globalAlpha = 1;\n    }\n    if (markerKind === \"number\" || (markerKind === \"both\" && !checked)) {\n        const text = index.toString();\n        const fontStyle = theme.markerFontFull;\n\n        const start = x + width / 2;\n        if (markerKind === \"both\" && hoverAmount !== 0) {\n            ctx.globalAlpha = 1 - hoverAmount;\n        }\n        ctx.fillStyle = theme.textLight;\n        ctx.font = fontStyle;\n        ctx.fillText(text, start, y + height / 2 + getMiddleCenterBias(ctx, fontStyle));\n        if (hoverAmount !== 0) {\n            ctx.globalAlpha = 1;\n        }\n    }\n}\n","import { getMiddleCenterBias } from \"../internal/data-grid/render/data-grid-lib.js\";\nimport { InnerGridCellKind, type NewRowCell } from \"../internal/data-grid/data-grid-types.js\";\nimport type { BaseDrawArgs, InternalCellRenderer } from \"./cell-types.js\";\n\nexport const newRowCellRenderer: InternalCellRenderer<NewRowCell> = {\n    getAccessibilityString: () => \"\",\n    kind: InnerGridCellKind.NewRow,\n    needsHover: true,\n    needsHoverPosition: false,\n    measure: () => 200,\n    draw: a => drawNewRowCell(a, a.cell.hint, a.cell.icon),\n    onPaste: () => undefined,\n};\n\nfunction drawNewRowCell(args: BaseDrawArgs, data: string, icon?: string) {\n    const { ctx, rect, hoverAmount, theme, spriteManager } = args;\n    const { x, y, width: w, height: h } = rect;\n    ctx.beginPath();\n    ctx.globalAlpha = hoverAmount;\n    ctx.rect(x + 1, y + 1, w, h - 2);\n    ctx.fillStyle = theme.bgHeaderHovered;\n    ctx.fill();\n    ctx.globalAlpha = 1;\n    ctx.beginPath();\n\n    const alwaysShowIcon = data !== \"\";\n\n    let textX = 0;\n\n    if (icon !== undefined) {\n        const padding = 8;\n        const size = h - padding;\n        const px = x + padding / 2;\n        const py = y + padding / 2;\n\n        spriteManager.drawSprite(icon, \"normal\", ctx, px, py, size, theme, alwaysShowIcon ? 1 : hoverAmount);\n        textX = size;\n    } else {\n        textX = 24;\n        const finalLineSize = 12;\n        const lineSize = alwaysShowIcon ? finalLineSize : hoverAmount * finalLineSize;\n        const xTranslate = alwaysShowIcon ? 0 : (1 - hoverAmount) * finalLineSize * 0.5;\n\n        const padPlus = theme.cellHorizontalPadding + 4;\n        if (lineSize > 0) {\n            ctx.moveTo(x + padPlus + xTranslate, y + h / 2);\n            ctx.lineTo(x + padPlus + xTranslate + lineSize, y + h / 2);\n            ctx.moveTo(x + padPlus + xTranslate + lineSize * 0.5, y + h / 2 - lineSize * 0.5);\n            ctx.lineTo(x + padPlus + xTranslate + lineSize * 0.5, y + h / 2 + lineSize * 0.5);\n            ctx.lineWidth = 2;\n            ctx.strokeStyle = theme.bgIconHeader;\n            ctx.lineCap = \"round\";\n            ctx.stroke();\n        }\n    }\n\n    ctx.fillStyle = theme.textMedium;\n    ctx.fillText(data, textX + x + theme.cellHorizontalPadding + 0.5, y + h / 2 + getMiddleCenterBias(ctx, theme));\n    ctx.beginPath();\n}\n","/* eslint-disable react/display-name */\nimport * as React from \"react\";\nimport { drawTextCell, prepTextCell } from \"../internal/data-grid/render/data-grid-lib.js\";\nimport { GridCellKind, type NumberCell } from \"../internal/data-grid/data-grid-types.js\";\nimport type { InternalCellRenderer } from \"./cell-types.js\";\n\nconst NumberOverlayEditor = React.lazy(\n    async () => await import(\"../internal/data-grid-overlay-editor/private/number-overlay-editor.js\")\n);\n\nexport const numberCellRenderer: InternalCellRenderer<NumberCell> = {\n    getAccessibilityString: c => c.data?.toString() ?? \"\",\n    kind: GridCellKind.Number,\n    needsHover: false,\n    needsHoverPosition: false,\n    useLabel: true,\n    drawPrep: prepTextCell,\n    draw: a => drawTextCell(a, a.cell.displayData, a.cell.contentAlign),\n    measure: (ctx, cell, theme) => ctx.measureText(cell.displayData).width + theme.cellHorizontalPadding * 2,\n    onDelete: c => ({\n        ...c,\n        data: undefined,\n    }),\n    provideEditor: () => p => {\n        const { isHighlighted, onChange, value, validatedSelection } = p;\n        return (\n            <React.Suspense fallback={null}>\n                <NumberOverlayEditor\n                    highlight={isHighlighted}\n                    disabled={value.readonly === true}\n                    value={value.data}\n                    fixedDecimals={value.fixedDecimals}\n                    allowNegative={value.allowNegative}\n                    thousandSeparator={value.thousandSeparator}\n                    decimalSeparator={value.decimalSeparator}\n                    validatedSelection={validatedSelection}\n                    onChange={x =>\n                        onChange({\n                            ...value,\n                            data: Number.isNaN(x.floatValue ?? 0) ? 0 : x.floatValue,\n                        })\n                    }\n                />\n            </React.Suspense>\n        );\n    },\n    onPaste: (toPaste, cell, details) => {\n        const newNumber =\n            typeof details.rawValue === \"number\"\n                ? details.rawValue\n                : Number.parseFloat(typeof details.rawValue === \"string\" ? details.rawValue : toPaste);\n        if (Number.isNaN(newNumber) || cell.data === newNumber) return undefined;\n        return { ...cell, data: newNumber, displayData: details.formattedString ?? cell.displayData };\n    },\n};\n","import { degreesToRadians } from \"../common/utils.js\";\nimport { GridCellKind, type ProtectedCell } from \"../internal/data-grid/data-grid-types.js\";\nimport type { BaseDrawArgs, InternalCellRenderer } from \"./cell-types.js\";\n\nexport const protectedCellRenderer: InternalCellRenderer<ProtectedCell> = {\n    getAccessibilityString: () => \"\",\n    measure: () => 108,\n    kind: GridCellKind.Protected,\n    needsHover: false,\n    needsHoverPosition: false,\n    draw: drawProtectedCell,\n    onPaste: () => undefined,\n};\n\nfunction drawProtectedCell(args: BaseDrawArgs) {\n    const { ctx, theme, rect } = args;\n    const { x, y, height: h } = rect;\n\n    ctx.beginPath();\n\n    const radius = 2.5;\n    let xStart = x + theme.cellHorizontalPadding + radius;\n    const center = y + h / 2;\n    const p = Math.cos(degreesToRadians(30)) * radius;\n    const q = Math.sin(degreesToRadians(30)) * radius;\n\n    for (let i = 0; i < 12; i++) {\n        ctx.moveTo(xStart, center - radius);\n        ctx.lineTo(xStart, center + radius);\n\n        ctx.moveTo(xStart + p, center - q);\n        ctx.lineTo(xStart - p, center + q);\n\n        ctx.moveTo(xStart - p, center - q);\n        ctx.lineTo(xStart + p, center + q);\n        xStart += 8;\n    }\n    ctx.lineWidth = 1.1;\n    ctx.lineCap = \"square\";\n    ctx.strokeStyle = theme.textLight;\n    ctx.stroke();\n}\n","import React from \"react\";\nimport { GrowingEntry } from \"../internal/growing-entry/growing-entry.js\";\nimport { drawTextCell, prepTextCell } from \"../internal/data-grid/render/data-grid-lib.js\";\nimport { GridCellKind, type RowIDCell } from \"../internal/data-grid/data-grid-types.js\";\nimport type { InternalCellRenderer } from \"./cell-types.js\";\n\nexport const rowIDCellRenderer: InternalCellRenderer<RowIDCell> = {\n    getAccessibilityString: c => c.data?.toString() ?? \"\",\n    kind: GridCellKind.RowID,\n    needsHover: false,\n    needsHoverPosition: false,\n    drawPrep: (a, b) => prepTextCell(a, b, a.theme.textLight),\n    draw: a => drawTextCell(a, a.cell.data, a.cell.contentAlign),\n    measure: (ctx, cell, theme) => ctx.measureText(cell.data).width + theme.cellHorizontalPadding * 2,\n    // eslint-disable-next-line react/display-name\n    provideEditor: () => p => {\n        const { isHighlighted, onChange, value, validatedSelection } = p;\n        return (\n            <GrowingEntry\n                highlight={isHighlighted}\n                autoFocus={value.readonly !== true}\n                disabled={value.readonly !== false}\n                value={value.data}\n                validatedSelection={validatedSelection}\n                onChange={e =>\n                    onChange({\n                        ...value,\n                        data: e.target.value,\n                    })\n                }\n            />\n        );\n    },\n    onPaste: () => undefined,\n};\n","/* eslint-disable react/display-name */\nimport * as React from \"react\";\nimport { GrowingEntry } from \"../internal/growing-entry/growing-entry.js\";\nimport {\n    drawTextCell,\n    measureTextCached,\n    prepTextCell,\n    roundedRect,\n} from \"../internal/data-grid/render/data-grid-lib.js\";\nimport { GridCellKind, type TextCell } from \"../internal/data-grid/data-grid-types.js\";\nimport type { InternalCellRenderer } from \"./cell-types.js\";\nimport { withAlpha } from \"../internal/data-grid/color-parser.js\";\n\nexport const textCellRenderer: InternalCellRenderer<TextCell> = {\n    getAccessibilityString: c => c.data?.toString() ?? \"\",\n    kind: GridCellKind.Text,\n    needsHover: textCell => textCell.hoverEffect === true,\n    needsHoverPosition: false,\n    drawPrep: prepTextCell,\n    useLabel: true,\n    draw: a => {\n        const { cell, hoverAmount, hyperWrapping, ctx, rect, theme, overrideCursor } = a;\n        const { displayData, contentAlign, hoverEffect, allowWrapping } = cell;\n        if (hoverEffect === true && hoverAmount > 0) {\n            ctx.textBaseline = \"alphabetic\";\n            const padX = theme.cellHorizontalPadding;\n            const padY = theme.cellVerticalPadding;\n            const m = measureTextCached(displayData, ctx, theme.baseFontFull, \"alphabetic\");\n            const maxH = rect.height - padY;\n            const h = Math.min(maxH, m.actualBoundingBoxAscent * 2.5);\n            ctx.beginPath();\n            roundedRect(\n                ctx,\n                rect.x + padX / 2,\n                rect.y + (rect.height - h) / 2 + 1,\n                m.width + padX * 3,\n                h - 1,\n                theme.roundingRadius ?? 4\n            );\n            ctx.globalAlpha = hoverAmount;\n            ctx.fillStyle = withAlpha(theme.textDark, 0.1);\n            ctx.fill();\n\n            // restore\n            ctx.globalAlpha = 1;\n            ctx.fillStyle = theme.textDark;\n            ctx.textBaseline = \"middle\";\n\n            overrideCursor?.(\"text\");\n        }\n        drawTextCell(a, displayData, contentAlign, allowWrapping, hyperWrapping);\n    },\n    measure: (ctx, cell, t) => {\n        const lines = cell.displayData.split(\"\\n\", cell.allowWrapping === true ? undefined : 1);\n        let maxLineWidth = 0;\n        for (const line of lines) {\n            maxLineWidth = Math.max(maxLineWidth, ctx.measureText(line).width);\n        }\n        return maxLineWidth + 2 * t.cellHorizontalPadding;\n    },\n    onDelete: c => ({\n        ...c,\n        data: \"\",\n    }),\n    provideEditor: cell => ({\n        disablePadding: cell.allowWrapping === true,\n        editor: p => {\n            const { isHighlighted, onChange, value, validatedSelection } = p;\n            return (\n                <GrowingEntry\n                    style={cell.allowWrapping === true ? { padding: \"3px 8.5px\" } : undefined}\n                    highlight={isHighlighted}\n                    autoFocus={value.readonly !== true}\n                    disabled={value.readonly === true}\n                    altNewline={true}\n                    value={value.data}\n                    validatedSelection={validatedSelection}\n                    onChange={e =>\n                        onChange({\n                            ...value,\n                            data: e.target.value,\n                        })\n                    }\n                />\n            );\n        },\n    }),\n    onPaste: (toPaste, cell, details) =>\n        toPaste === cell.data\n            ? undefined\n            : { ...cell, data: toPaste, displayData: details.formattedString ?? cell.displayData },\n};\n","import { styled } from \"@linaria/react\";\n\nexport const UriOverlayEditorStyle = styled.div`\n    display: flex;\n\n    flex-grow: 1;\n\n    align-items: center;\n\n    min-height: 21px;\n\n    .gdg-link-area {\n        flex-grow: 1;\n        flex-shrink: 1;\n\n        cursor: pointer;\n\n        margin-right: 8px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n\n        color: var(--gdg-link-color);\n        text-decoration: underline !important;\n    }\n\n    .gdg-edit-icon {\n        flex-shrink: 0;\n        width: 32px;\n        color: var(--gdg-accent-color);\n\n        cursor: pointer;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        > * {\n            width: 24px;\n            height: 24px;\n        }\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n`;\n","import { EditPencil } from \"../../../common/utils.js\";\nimport * as React from \"react\";\nimport { GrowingEntry } from \"../../growing-entry/growing-entry.js\";\nimport { UriOverlayEditorStyle } from \"./uri-overlay-editor-style.js\";\nimport type { SelectionRange } from \"../../data-grid/data-grid-types.js\";\n\ninterface Props {\n    readonly uri: string;\n    readonly onChange: (ev: React.ChangeEvent<HTMLTextAreaElement>) => void;\n    readonly forceEditMode: boolean;\n    readonly readonly: boolean;\n    readonly preview: string;\n    readonly validatedSelection?: SelectionRange;\n}\n\nconst UriOverlayEditor: React.FunctionComponent<Props> = p => {\n    const { uri, onChange, forceEditMode, readonly, validatedSelection, preview } = p;\n\n    const [editMode, setEditMode] = React.useState<boolean>(uri === \"\" || forceEditMode);\n\n    const onEditClick = React.useCallback(() => {\n        setEditMode(true);\n    }, []);\n\n    if (editMode) {\n        return (\n            <GrowingEntry\n                validatedSelection={validatedSelection}\n                highlight={true}\n                autoFocus={true}\n                value={uri}\n                onChange={onChange}\n            />\n        );\n    }\n\n    return (\n        <UriOverlayEditorStyle>\n            <a className=\"gdg-link-area\" href={uri} target=\"_blank\" rel=\"noopener noreferrer\">\n                {preview}\n            </a>\n            {!readonly && (\n                <div className=\"gdg-edit-icon\" onClick={onEditClick}>\n                    <EditPencil />\n                </div>\n            )}\n            <textarea className=\"gdg-input\" autoFocus={true} />\n        </UriOverlayEditorStyle>\n    );\n};\n\nexport default UriOverlayEditor;\n","/* eslint-disable react/display-name */\nimport * as React from \"react\";\nimport UriOverlayEditor from \"../internal/data-grid-overlay-editor/private/uri-overlay-editor.js\";\nimport {\n    drawTextCell,\n    getMeasuredTextCache,\n    getMiddleCenterBias,\n    measureTextCached,\n    prepTextCell,\n} from \"../internal/data-grid/render/data-grid-lib.js\";\nimport {\n    GridCellKind,\n    type BaseGridCell,\n    type Rectangle,\n    type UriCell,\n} from \"../internal/data-grid/data-grid-types.js\";\nimport type { InternalCellRenderer } from \"./cell-types.js\";\nimport type { FullTheme } from \"../common/styles.js\";\nimport { pointInRect } from \"../common/math.js\";\n\nfunction getTextRect(\n    metrics: TextMetrics,\n    rect: Rectangle,\n    theme: FullTheme,\n    contentAlign: BaseGridCell[\"contentAlign\"]\n): Rectangle {\n    let x = theme.cellHorizontalPadding;\n    const y = rect.height / 2 - metrics.actualBoundingBoxAscent / 2;\n    const width = metrics.width;\n    const height = metrics.actualBoundingBoxAscent;\n\n    if (contentAlign === \"right\") {\n        x = rect.width - width - theme.cellHorizontalPadding;\n    } else if (contentAlign === \"center\") {\n        x = rect.width / 2 - width / 2;\n    }\n\n    return { x, y, width, height };\n}\n\nexport const uriCellRenderer: InternalCellRenderer<UriCell> = {\n    getAccessibilityString: c => c.data?.toString() ?? \"\",\n    kind: GridCellKind.Uri,\n    needsHover: uriCell => uriCell.hoverEffect === true,\n    needsHoverPosition: true,\n    useLabel: true,\n    drawPrep: prepTextCell,\n    draw: a => {\n        const { cell, theme, overrideCursor, hoverX, hoverY, rect, ctx } = a;\n        const txt = cell.displayData ?? cell.data;\n        const isLinky = cell.hoverEffect === true;\n        if (overrideCursor !== undefined && isLinky && hoverX !== undefined && hoverY !== undefined) {\n            const m = measureTextCached(txt, ctx, theme.baseFontFull);\n            const textRect = getTextRect(m, rect, theme, cell.contentAlign);\n\n            const { x, y, width: w, height: h } = textRect;\n\n            // check if hoverX and hoverY inside the box\n            if (hoverX >= x - 4 && hoverX <= x - 4 + w + 8 && hoverY >= y - 4 && hoverY <= y - 4 + h + 8) {\n                const middleCenterBias = getMiddleCenterBias(ctx, theme.baseFontFull);\n                overrideCursor(\"pointer\");\n                const underlineOffset = 5;\n                const drawY = y - middleCenterBias;\n\n                ctx.beginPath();\n                ctx.moveTo(rect.x + x, Math.floor(rect.y + drawY + h + underlineOffset) + 0.5);\n                ctx.lineTo(rect.x + x + w, Math.floor(rect.y + drawY + h + underlineOffset) + 0.5);\n\n                ctx.strokeStyle = theme.linkColor;\n                ctx.stroke();\n\n                ctx.save();\n                ctx.fillStyle = a.cellFillColor;\n                drawTextCell({ ...a, rect: { ...rect, x: rect.x - 1 } }, txt, cell.contentAlign);\n                drawTextCell({ ...a, rect: { ...rect, x: rect.x - 2 } }, txt, cell.contentAlign);\n                drawTextCell({ ...a, rect: { ...rect, x: rect.x + 1 } }, txt, cell.contentAlign);\n                drawTextCell({ ...a, rect: { ...rect, x: rect.x + 2 } }, txt, cell.contentAlign);\n                ctx.restore();\n            }\n        }\n\n        ctx.fillStyle = isLinky ? theme.linkColor : theme.textDark;\n        drawTextCell(a, txt, cell.contentAlign);\n    },\n    onClick: a => {\n        const { cell, bounds, posX, posY, theme } = a;\n        const txt = cell.displayData ?? cell.data;\n        if (cell.hoverEffect !== true || cell.onClickUri === undefined) return;\n\n        const m = getMeasuredTextCache(txt, theme.baseFontFull);\n        if (m === undefined) return;\n        const textRect = getTextRect(m, bounds, theme, cell.contentAlign);\n        const didClick = pointInRect(\n            {\n                x: textRect.x - 4,\n                y: textRect.y - 4,\n                width: textRect.width + 8,\n                height: textRect.height + 8,\n            },\n            posX,\n            posY\n        );\n        if (didClick) {\n            cell.onClickUri(a);\n        }\n        return undefined;\n    },\n    measure: (ctx, cell, theme) =>\n        ctx.measureText(cell.displayData ?? cell.data).width + theme.cellHorizontalPadding * 2,\n    onDelete: c => ({\n        ...c,\n        data: \"\",\n    }),\n    provideEditor: cell => p => {\n        const { onChange, value, forceEditMode, validatedSelection } = p;\n        return (\n            <UriOverlayEditor\n                forceEditMode={forceEditMode || (cell.hoverEffect === true && cell.onClickUri !== undefined)}\n                uri={value.data}\n                preview={value.displayData ?? value.data}\n                validatedSelection={validatedSelection}\n                readonly={value.readonly === true}\n                onChange={e =>\n                    onChange({\n                        ...value,\n                        data: e.target.value,\n                    })\n                }\n            />\n        );\n    },\n    onPaste: (toPaste, cell, details) =>\n        toPaste === cell.data\n            ? undefined\n            : { ...cell, data: toPaste, displayData: details.formattedString ?? cell.displayData },\n};\n","import { type InnerGridCell } from \"../internal/data-grid/data-grid-types.js\";\nimport { booleanCellRenderer } from \"./boolean-cell.js\";\nimport { bubbleCellRenderer } from \"./bubble-cell.js\";\nimport type { InternalCellRenderer } from \"./cell-types.js\";\nimport { drilldownCellRenderer } from \"./drilldown-cell.js\";\nimport { imageCellRenderer } from \"./image-cell.js\";\nimport { loadingCellRenderer } from \"./loading-cell.js\";\nimport { markdownCellRenderer } from \"./markdown-cell.js\";\nimport { markerCellRenderer } from \"./marker-cell.js\";\nimport { newRowCellRenderer } from \"./new-row-cell.js\";\nimport { numberCellRenderer } from \"./number-cell.js\";\nimport { protectedCellRenderer } from \"./protected-cell.js\";\nimport { rowIDCellRenderer } from \"./row-id-cell.js\";\nimport { textCellRenderer } from \"./text-cell.js\";\nimport { uriCellRenderer } from \"./uri-cell.js\";\n\nexport const AllCellRenderers = [\n    markerCellRenderer,\n    newRowCellRenderer,\n    booleanCellRenderer,\n    bubbleCellRenderer,\n    drilldownCellRenderer,\n    imageCellRenderer,\n    loadingCellRenderer,\n    markdownCellRenderer,\n    numberCellRenderer,\n    protectedCellRenderer,\n    rowIDCellRenderer,\n    textCellRenderer,\n    uriCellRenderer,\n] as InternalCellRenderer<InnerGridCell>[];\n","class Lazy<T> {\n    private fn: () => T;\n    private val: T | undefined;\n    constructor(fn: () => T) {\n        this.fn = fn;\n    }\n\n    public get value() {\n        return this.val ?? (this.val = this.fn());\n    }\n}\n\nfunction lazy<T>(fn: () => T) {\n    return new Lazy(fn);\n}\n\n// next.js apps don't have window available at import time, so this will fail if its not lazy.\nexport const browserIsFirefox = lazy(() => window.navigator.userAgent.includes(\"Firefox\"));\nexport const browserIsSafari = lazy(\n    () =>\n        window.navigator.userAgent.includes(\"Mac OS\") &&\n        window.navigator.userAgent.includes(\"Safari\") &&\n        !window.navigator.userAgent.includes(\"Chrome\")\n);\nexport const browserIsOSX = lazy(() => window.navigator.platform.toLowerCase().startsWith(\"mac\"));\n","import { CellSet } from \"../internal/data-grid/cell-set.js\";\nimport throttle from \"lodash/throttle.js\";\nimport { packColRowToNumber, unpackNumberToColRow, WindowingTrackerBase } from \"./render-state-provider.js\";\nimport type { ImageWindowLoader } from \"../internal/data-grid/image-window-loader-interface.js\";\n\ninterface LoadResult {\n    img: HTMLImageElement | undefined;\n    cancel: () => void;\n    url: string;\n    cells: number[];\n}\n\nconst imgPool: HTMLImageElement[] = [];\n\nclass ImageWindowLoaderImpl extends WindowingTrackerBase implements ImageWindowLoader {\n    private imageLoaded: (locations: CellSet) => void = () => undefined;\n    private loadedLocations: [number, number][] = [];\n\n    private cache: Record<string, LoadResult> = {};\n\n    public setCallback(imageLoaded: (locations: CellSet) => void) {\n        this.imageLoaded = imageLoaded;\n    }\n\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    private sendLoaded = throttle(() => {\n        this.imageLoaded(new CellSet(this.loadedLocations));\n        this.loadedLocations = [];\n    }, 20);\n\n    protected clearOutOfWindow = () => {\n        const keys = Object.keys(this.cache);\n        for (const key of keys) {\n            const obj = this.cache[key];\n\n            let keep = false;\n            for (let j = 0; j < obj.cells.length; j++) {\n                const packed = obj.cells[j];\n                if (this.isInWindow(packed)) {\n                    keep = true;\n                    break;\n                }\n            }\n\n            if (keep) {\n                obj.cells = obj.cells.filter(this.isInWindow);\n            } else {\n                obj.cancel();\n                delete this.cache[key];\n            }\n        }\n    };\n\n    private loadImage(url: string, col: number, row: number, key: string) {\n        let loaded = false;\n        const img = imgPool.pop() ?? new Image();\n\n        let canceled = false;\n        const result: LoadResult = {\n            img: undefined,\n            cells: [packColRowToNumber(col, row)],\n            url,\n            cancel: () => {\n                if (canceled) return;\n                canceled = true;\n                if (imgPool.length < 12) {\n                    imgPool.unshift(img); // never retain more than 12\n                } else if (!loaded) {\n                    img.src = \"\";\n                }\n            },\n        };\n\n        const loadPromise = new Promise(r => img.addEventListener(\"load\", () => r(null)));\n        // use request animation time to avoid paying src set costs during draw calls\n        requestAnimationFrame(async () => {\n            try {\n                img.src = url;\n                await loadPromise;\n                await img.decode();\n                const toWrite = this.cache[key];\n                if (toWrite !== undefined && !canceled) {\n                    toWrite.img = img;\n                    for (const packed of toWrite.cells) {\n                        this.loadedLocations.push(unpackNumberToColRow(packed));\n                    }\n                    loaded = true;\n                    this.sendLoaded();\n                }\n            } catch {\n                result.cancel();\n            }\n        });\n        this.cache[key] = result;\n    }\n\n    public loadOrGetImage(url: string, col: number, row: number): HTMLImageElement | ImageBitmap | undefined {\n        const key = url;\n\n        const current = this.cache[key];\n        if (current !== undefined) {\n            const packed = packColRowToNumber(col, row);\n            if (!current.cells.includes(packed)) {\n                current.cells.push(packed);\n            }\n            return current.img;\n        } else {\n            this.loadImage(url, col, row, key);\n        }\n        return undefined;\n    }\n}\n\nexport default ImageWindowLoaderImpl;\n","/* eslint-disable unicorn/prefer-ternary */\nimport { itemIsInRect } from \"../internal/data-grid/render/data-grid-lib.js\";\nimport type { FillHandleDirection, Rectangle } from \"../internal/data-grid/data-grid-types.js\";\n\nexport function getClosestRect(\n    rect: Rectangle,\n    px: number,\n    py: number,\n    allowedDirections: FillHandleDirection\n): Rectangle | undefined {\n    if (allowedDirections === \"any\") return combineRects(rect, { x: px, y: py, width: 1, height: 1 });\n    if (allowedDirections === \"vertical\") px = rect.x;\n    if (allowedDirections === \"horizontal\") py = rect.y;\n    // Check if the point is inside the rectangle\n    if (itemIsInRect([px, py], rect)) {\n        return undefined;\n    }\n\n    // Calculate distances to the closest edges\n    const distanceToLeft = px - rect.x;\n    const distanceToRight = rect.x + rect.width - px;\n    const distanceToTop = py - rect.y + 1;\n    const distanceToBottom = rect.y + rect.height - py;\n\n    // Find the minimum distance\n    const minDistance = Math.min(\n        allowedDirections === \"vertical\" ? Number.MAX_SAFE_INTEGER : distanceToLeft,\n        allowedDirections === \"vertical\" ? Number.MAX_SAFE_INTEGER : distanceToRight,\n        allowedDirections === \"horizontal\" ? Number.MAX_SAFE_INTEGER : distanceToTop,\n        allowedDirections === \"horizontal\" ? Number.MAX_SAFE_INTEGER : distanceToBottom\n    );\n\n    // eslint-disable-next-line unicorn/prefer-switch\n    if (minDistance === distanceToBottom) {\n        return { x: rect.x, y: rect.y + rect.height, width: rect.width, height: py - rect.y - rect.height + 1 };\n    } else if (minDistance === distanceToTop) {\n        return { x: rect.x, y: py, width: rect.width, height: rect.y - py };\n    } else if (minDistance === distanceToRight) {\n        return { x: rect.x + rect.width, y: rect.y, width: px - rect.x - rect.width + 1, height: rect.height };\n    } else {\n        return { x: px, y: rect.y, width: rect.x - px, height: rect.height };\n    }\n}\n\nexport function intersectRect(\n    x1: number,\n    y1: number,\n    w1: number,\n    h1: number,\n    x2: number,\n    y2: number,\n    w2: number,\n    h2: number\n) {\n    return x1 <= x2 + w2 && x2 <= x1 + w1 && y1 <= y2 + h2 && y2 <= y1 + h1;\n}\n\nexport function pointInRect(rect: Rectangle, x: number, y: number): boolean {\n    return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n}\n\nexport function combineRects(a: Rectangle, b: Rectangle): Rectangle {\n    const x = Math.min(a.x, b.x);\n    const y = Math.min(a.y, b.y);\n    const width = Math.max(a.x + a.width, b.x + b.width) - x;\n    const height = Math.max(a.y + a.height, b.y + b.height) - y;\n    return { x, y, width, height };\n}\n\nexport function rectContains(a: Rectangle, b: Rectangle): boolean {\n    return a.x <= b.x && a.y <= b.y && a.x + a.width >= b.x + b.width && a.y + a.height >= b.y + b.height;\n}\n\n/**\n * This function is absolutely critical for the performance of the fill handle and highlight regions. If you don't\n * hug rectanges when they are dashed and they are huge you will get giant GPU stalls. The reason for the mod is\n * if you don't respect the dash stroke size you will get weird artificts as the rectangle changes sizes (the dashes\n * won't line up from one frame to the next)\n */\nexport function hugRectToTarget(rect: Rectangle, width: number, height: number, mod: number): Rectangle | undefined {\n    // Combine checks for early return\n    if (\n        rect.x > width ||\n        rect.y > height ||\n        (rect.x < 0 && rect.y < 0 && rect.x + rect.width > width && rect.y + rect.height > height)\n    ) {\n        return undefined;\n    }\n\n    // Direct return if the rectangle is completely within bounds\n    if (rect.x >= 0 && rect.y >= 0 && rect.x + rect.width <= width && rect.y + rect.height <= height) {\n        return rect;\n    }\n\n    // Pre-compute constants for boundaries, we are giving ourselves slop here because we don't want to have weird\n    // issues when scaling is applied. 4px is more than enough slop.\n    const leftMax = -4;\n    const topMax = -4;\n    const rightMax = width + 4;\n    const bottomMax = height + 4;\n\n    // Pre-compute boundary overflows\n    const leftOverflow = leftMax - rect.x;\n    const rightOverflow = rect.x + rect.width - rightMax;\n    const topOverflow = topMax - rect.y;\n    const bottomOverflow = rect.y + rect.height - bottomMax;\n\n    // Adjust if necessary, using simplified calculations\n    const left = leftOverflow > 0 ? rect.x + Math.floor(leftOverflow / mod) * mod : rect.x;\n    const right = rightOverflow > 0 ? rect.x + rect.width - Math.floor(rightOverflow / mod) * mod : rect.x + rect.width;\n    const top = topOverflow > 0 ? rect.y + Math.floor(topOverflow / mod) * mod : rect.y;\n    const bottom =\n        bottomOverflow > 0 ? rect.y + rect.height - Math.floor(bottomOverflow / mod) * mod : rect.y + rect.height;\n\n    return { x: left, y: top, width: right - left, height: bottom - top };\n}\n\ninterface SplitRect {\n    rect: Rectangle;\n    clip: Rectangle;\n}\n\nexport function splitRectIntoRegions(\n    rect: Rectangle,\n    splitIndicies: readonly [number, number, number, number],\n    width: number,\n    height: number,\n    splitLocations: readonly [number, number, number, number]\n): SplitRect[] {\n    const [lSplit, tSplit, rSplit, bSplit] = splitIndicies;\n    const [lClip, tClip, rClip, bClip] = splitLocations;\n    const { x: inX, y: inY, width: inW, height: inH } = rect;\n\n    const result: SplitRect[] = [];\n\n    if (inW <= 0 || inH <= 0) return result;\n\n    const inRight = inX + inW;\n    const inBottom = inY + inH;\n\n    // The goal is to split the inbound rect into up to 9 regions based on the provided split indicies which are\n    // more or less cut lines. The cut lines are whole numbers as is the rect. We are dividing cells on a table.\n    // In theory there can be up to 9 regions returned, so we need to be careful to make sure we get them all and\n    // not return any empty regions.\n\n    // compute some handy values\n    const isOverLeft = inX < lSplit;\n    const isOverTop = inY < tSplit;\n    const isOverRight = inX + inW > rSplit;\n    const isOverBottom = inY + inH > bSplit;\n\n    const isOverCenterVert =\n        (inX >= lSplit && inX < rSplit) ||\n        (inRight > lSplit && inRight <= rSplit) ||\n        (inX < lSplit && inRight > rSplit);\n    const isOverCenterHoriz =\n        (inY >= tSplit && inY < bSplit) ||\n        (inBottom > tSplit && inBottom <= bSplit) ||\n        (inY < tSplit && inBottom > bSplit);\n\n    const isOverCenter = isOverCenterVert && isOverCenterHoriz;\n\n    // center\n    if (isOverCenter) {\n        const x = Math.max(inX, lSplit);\n        const y = Math.max(inY, tSplit);\n        const right = Math.min(inRight, rSplit);\n        const bottom = Math.min(inBottom, bSplit);\n        result.push({\n            rect: { x, y, width: right - x, height: bottom - y },\n            clip: {\n                x: lClip,\n                y: tClip,\n                width: rClip - lClip + 1,\n                height: bClip - tClip + 1,\n            },\n        });\n    }\n\n    // top left\n    if (isOverLeft && isOverTop) {\n        const x = inX;\n        const y = inY;\n        const right = Math.min(inRight, lSplit);\n        const bottom = Math.min(inBottom, tSplit);\n        result.push({\n            rect: {\n                x,\n                y,\n                width: right - x,\n                height: bottom - y,\n            },\n            clip: {\n                x: 0,\n                y: 0,\n                width: lClip + 1,\n                height: tClip + 1,\n            },\n        });\n    }\n\n    // top center\n    if (isOverTop && isOverCenterVert) {\n        const x = Math.max(inX, lSplit);\n        const y = inY;\n        const right = Math.min(inRight, rSplit);\n        const bottom = Math.min(inBottom, tSplit);\n        result.push({\n            rect: {\n                x,\n                y,\n                width: right - x,\n                height: bottom - y,\n            },\n            clip: {\n                x: lClip,\n                y: 0,\n                width: rClip - lClip + 1,\n                height: tClip + 1,\n            },\n        });\n    }\n\n    // top right\n    if (isOverTop && isOverRight) {\n        const x = Math.max(inX, rSplit);\n        const y = inY;\n        const right = inRight;\n        const bottom = Math.min(inBottom, tSplit);\n        result.push({\n            rect: {\n                x,\n                y,\n                width: right - x,\n                height: bottom - y,\n            },\n            clip: {\n                x: rClip,\n                y: 0,\n                width: width - rClip + 1,\n                height: tClip + 1,\n            },\n        });\n    }\n\n    // center left\n    if (isOverLeft && isOverCenterHoriz) {\n        const x = inX;\n        const y = Math.max(inY, tSplit);\n        const right = Math.min(inRight, lSplit);\n        const bottom = Math.min(inBottom, bSplit);\n        result.push({\n            rect: {\n                x,\n                y,\n                width: right - x,\n                height: bottom - y,\n            },\n            clip: {\n                x: 0,\n                y: tClip,\n                width: lClip + 1,\n                height: bClip - tClip + 1,\n            },\n        });\n    }\n\n    // center right\n    if (isOverRight && isOverCenterHoriz) {\n        const x = Math.max(inX, rSplit);\n        const y = Math.max(inY, tSplit);\n        const right = inRight;\n        const bottom = Math.min(inBottom, bSplit);\n        result.push({\n            rect: {\n                x,\n                y,\n                width: right - x,\n                height: bottom - y,\n            },\n            clip: {\n                x: rClip,\n                y: tClip,\n                width: width - rClip + 1,\n                height: bClip - tClip + 1,\n            },\n        });\n    }\n\n    // bottom left\n    if (isOverLeft && isOverBottom) {\n        const x = inX;\n        const y = Math.max(inY, bSplit);\n        const right = Math.min(inRight, lSplit);\n        const bottom = inBottom;\n        result.push({\n            rect: {\n                x,\n                y,\n                width: right - x,\n                height: bottom - y,\n            },\n            clip: {\n                x: 0,\n                y: bClip,\n                width: lClip + 1,\n                height: height - bClip + 1,\n            },\n        });\n    }\n\n    // bottom center\n    if (isOverBottom && isOverCenterVert) {\n        const x = Math.max(inX, lSplit);\n        const y = Math.max(inY, bSplit);\n        const right = Math.min(inRight, rSplit);\n        const bottom = inBottom;\n        result.push({\n            rect: {\n                x,\n                y,\n                width: right - x,\n                height: bottom - y,\n            },\n            clip: {\n                x: lClip,\n                y: bClip,\n                width: rClip - lClip + 1,\n                height: height - bClip + 1,\n            },\n        });\n    }\n\n    // bottom right\n    if (isOverRight && isOverBottom) {\n        const x = Math.max(inX, rSplit);\n        const y = Math.max(inY, bSplit);\n        const right = inRight;\n        const bottom = inBottom;\n        result.push({\n            rect: {\n                x,\n                y,\n                width: right - x,\n                height: bottom - y,\n            },\n            clip: {\n                x: rClip,\n                y: bClip,\n                width: width - rClip + 1,\n                height: height - bClip + 1,\n            },\n        });\n    }\n\n    return result;\n}\n","import type { Item, Rectangle } from \"../internal/data-grid/data-grid-types.js\";\nimport { deepEqual } from \"./support.js\";\n\n// max safe int 2^53 - 1 (minus 1 omitted from here on)\n// max safe columns is 2^21 or 2,097,151\n// max safe rows is 2^32 or 4,294,967,295\n// If 3 rows render as an inch, then the max safe height is 1,431,655,765 inches or 22,426,868 miles\n// the distance to the moon is 238,900 miles, so this would give you a data grid that goes to the moon and back 94 times\n// seems fine\nconst rowShift = 1 << 21;\n\nexport function packColRowToNumber(col: number, row: number) {\n    return (row + 2) * rowShift + col;\n}\n\nexport function unpackCol(packed: number): number {\n    return packed % rowShift;\n}\n\nexport function unpackRow(packed: number): number {\n    return Math.floor(packed / rowShift) - 2;\n}\n\nexport function unpackNumberToColRow(packed: number): [number, number] {\n    const col = unpackCol(packed);\n    const row = unpackRow(packed);\n    return [col, row];\n}\n\nexport abstract class WindowingTrackerBase {\n    public visibleWindow: Rectangle = {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n    };\n\n    public freezeCols: number = 0;\n    public freezeRows: number[] = [];\n\n    protected isInWindow = (packed: number) => {\n        const col = unpackCol(packed);\n        const row = unpackRow(packed);\n        const w = this.visibleWindow;\n        const colInWindow = (col >= w.x && col <= w.x + w.width) || col < this.freezeCols;\n        const rowInWindow = (row >= w.y && row <= w.y + w.height) || this.freezeRows.includes(row);\n        return colInWindow && rowInWindow;\n    };\n\n    protected abstract clearOutOfWindow: () => void;\n\n    public setWindow(newWindow: Rectangle, freezeCols: number, freezeRows: number[]): void {\n        if (\n            this.visibleWindow.x === newWindow.x &&\n            this.visibleWindow.y === newWindow.y &&\n            this.visibleWindow.width === newWindow.width &&\n            this.visibleWindow.height === newWindow.height &&\n            this.freezeCols === freezeCols &&\n            deepEqual(this.freezeRows, freezeRows)\n        )\n            return;\n        this.visibleWindow = newWindow;\n        this.freezeCols = freezeCols;\n        this.freezeRows = freezeRows;\n        this.clearOutOfWindow();\n    }\n}\n\nexport class RenderStateProvider extends WindowingTrackerBase {\n    private cache: Map<number, any> = new Map();\n\n    public setValue = (location: Item, state: any): void => {\n        this.cache.set(packColRowToNumber(location[0], location[1]), state);\n    };\n\n    public getValue = (location: Item): any => {\n        return this.cache.get(packColRowToNumber(location[0], location[1]));\n    };\n\n    protected clearOutOfWindow = () => {\n        for (const [key] of this.cache.entries()) {\n            if (!this.isInWindow(key)) {\n                this.cache.delete(key);\n            }\n        }\n    };\n}\n","import React from \"react\";\nimport { blend } from \"../internal/data-grid/color-parser.js\";\n\n// theme variable precidence\n\n/** @category Theme */\nexport function makeCSSStyle(theme: Theme): Record<string, string> {\n    return {\n        \"--gdg-accent-color\": theme.accentColor,\n        \"--gdg-accent-fg\": theme.accentFg,\n        \"--gdg-accent-light\": theme.accentLight,\n        \"--gdg-text-dark\": theme.textDark,\n        \"--gdg-text-medium\": theme.textMedium,\n        \"--gdg-text-light\": theme.textLight,\n        \"--gdg-text-bubble\": theme.textBubble,\n        \"--gdg-bg-icon-header\": theme.bgIconHeader,\n        \"--gdg-fg-icon-header\": theme.fgIconHeader,\n        \"--gdg-text-header\": theme.textHeader,\n        \"--gdg-text-group-header\": theme.textGroupHeader ?? theme.textHeader,\n        \"--gdg-text-header-selected\": theme.textHeaderSelected,\n        \"--gdg-bg-cell\": theme.bgCell,\n        \"--gdg-bg-cell-medium\": theme.bgCellMedium,\n        \"--gdg-bg-header\": theme.bgHeader,\n        \"--gdg-bg-header-has-focus\": theme.bgHeaderHasFocus,\n        \"--gdg-bg-header-hovered\": theme.bgHeaderHovered,\n        \"--gdg-bg-bubble\": theme.bgBubble,\n        \"--gdg-bg-bubble-selected\": theme.bgBubbleSelected,\n        \"--gdg-bg-search-result\": theme.bgSearchResult,\n        \"--gdg-border-color\": theme.borderColor,\n        \"--gdg-horizontal-border-color\": theme.horizontalBorderColor ?? theme.borderColor,\n        \"--gdg-drilldown-border\": theme.drilldownBorder,\n        \"--gdg-link-color\": theme.linkColor,\n        \"--gdg-cell-horizontal-padding\": `${theme.cellHorizontalPadding}px`,\n        \"--gdg-cell-vertical-padding\": `${theme.cellVerticalPadding}px`,\n        \"--gdg-header-font-style\": theme.headerFontStyle,\n        \"--gdg-base-font-style\": theme.baseFontStyle,\n        \"--gdg-marker-font-style\": theme.markerFontStyle,\n        \"--gdg-font-family\": theme.fontFamily,\n        \"--gdg-editor-font-size\": theme.editorFontSize,\n        ...(theme.resizeIndicatorColor === undefined\n            ? {}\n            : { \"--gdg-resize-indicator-color\": theme.resizeIndicatorColor }),\n        ...(theme.headerBottomBorderColor === undefined\n            ? {}\n            : { \"--gdg-header-bottom-border-color\": theme.headerBottomBorderColor }),\n        ...(theme.roundingRadius === undefined ? {} : { \"--gdg-rounding-radius\": `${theme.roundingRadius}px` }),\n    };\n}\n\n/** @category Theme */\nexport interface Theme {\n    accentColor: string;\n    accentFg: string;\n    accentLight: string;\n    textDark: string;\n    textMedium: string;\n    textLight: string;\n    textBubble: string;\n    bgIconHeader: string;\n    fgIconHeader: string;\n    textHeader: string;\n    textGroupHeader?: string;\n    textHeaderSelected: string;\n    bgCell: string;\n    bgCellMedium: string;\n    bgHeader: string;\n    bgHeaderHasFocus: string;\n    bgHeaderHovered: string;\n    bgBubble: string;\n    bgBubbleSelected: string;\n    bgSearchResult: string;\n    borderColor: string;\n    drilldownBorder: string;\n    linkColor: string;\n    cellHorizontalPadding: number;\n    cellVerticalPadding: number;\n    headerFontStyle: string;\n    headerIconSize: number;\n    baseFontStyle: string;\n    markerFontStyle: string;\n    fontFamily: string;\n    editorFontSize: string;\n    lineHeight: number;\n\n    resizeIndicatorColor?: string;\n    horizontalBorderColor?: string;\n    headerBottomBorderColor?: string;\n    roundingRadius?: number;\n}\n\nconst dataEditorBaseTheme: Theme = {\n    accentColor: \"#4F5DFF\",\n    accentFg: \"#FFFFFF\",\n    accentLight: \"rgba(62, 116, 253, 0.1)\",\n\n    textDark: \"#313139\",\n    textMedium: \"#737383\",\n    textLight: \"#B2B2C0\",\n    textBubble: \"#313139\",\n\n    bgIconHeader: \"#737383\",\n    fgIconHeader: \"#FFFFFF\",\n    textHeader: \"#313139\",\n    textGroupHeader: \"#313139BB\",\n    textHeaderSelected: \"#FFFFFF\",\n\n    bgCell: \"#FFFFFF\",\n    bgCellMedium: \"#FAFAFB\",\n    bgHeader: \"#F7F7F8\",\n    bgHeaderHasFocus: \"#E9E9EB\",\n    bgHeaderHovered: \"#EFEFF1\",\n\n    bgBubble: \"#EDEDF3\",\n    bgBubbleSelected: \"#FFFFFF\",\n\n    bgSearchResult: \"#fff9e3\",\n\n    borderColor: \"rgba(115, 116, 131, 0.16)\",\n    drilldownBorder: \"rgba(0, 0, 0, 0)\",\n\n    linkColor: \"#353fb5\",\n\n    cellHorizontalPadding: 8,\n    cellVerticalPadding: 3,\n\n    headerIconSize: 18,\n\n    headerFontStyle: \"600 13px\",\n    baseFontStyle: \"13px\",\n    markerFontStyle: \"9px\",\n    fontFamily:\n        \"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif\",\n    editorFontSize: \"13px\",\n    lineHeight: 1.4, //unitless scaler depends on your font\n};\n\nexport interface FullTheme extends Theme {\n    headerFontFull: string;\n    baseFontFull: string;\n    markerFontFull: string;\n}\n\n/** @category Theme */\nexport function getDataEditorTheme(): Theme {\n    return dataEditorBaseTheme;\n}\n\n/** @category Theme */\nexport const ThemeContext = React.createContext<Theme>(dataEditorBaseTheme);\n/** @category Hooks */\nexport function useTheme(): Theme {\n    return React.useContext(ThemeContext);\n}\n\nexport function mergeAndRealizeTheme(theme: Theme, ...overlays: Partial<Theme | undefined>[]): FullTheme {\n    const merged: any = { ...theme };\n\n    for (const overlay of overlays) {\n        if (overlay !== undefined) {\n            for (const key in overlay) {\n                // eslint-disable-next-line no-prototype-builtins\n                if (overlay.hasOwnProperty(key)) {\n                    if (key === \"bgCell\") {\n                        merged[key] = blend(overlay[key] as string, merged[key]);\n                    } else {\n                        merged[key] = (overlay as any)[key];\n                    }\n                }\n            }\n        }\n    }\n\n    if (\n        merged.headerFontFull === undefined ||\n        theme.fontFamily !== merged.fontFamily ||\n        theme.headerFontStyle !== merged.headerFontStyle\n    ) {\n        merged.headerFontFull = `${merged.headerFontStyle} ${merged.fontFamily}`;\n    }\n\n    if (\n        merged.baseFontFull === undefined ||\n        theme.fontFamily !== merged.fontFamily ||\n        theme.baseFontStyle !== merged.baseFontStyle\n    ) {\n        merged.baseFontFull = `${merged.baseFontStyle} ${merged.fontFamily}`;\n    }\n\n    if (\n        merged.markerFontFull === undefined ||\n        theme.fontFamily !== merged.fontFamily ||\n        theme.markerFontStyle !== merged.markerFontStyle\n    ) {\n        merged.markerFontFull = `${merged.markerFontStyle} ${merged.fontFamily}`;\n    }\n\n    return merged;\n}\n","export function proveType<T>(_val: T) {\n    // do nothing, just prove the compiler thinks the types match\n}\n\nfunction panic(message: string = \"This should not happen\"): never {\n    throw new Error(message);\n}\n\nexport function assert(fact: boolean, message: string = \"Assertion failed\"): asserts fact {\n    if (fact) return;\n    return panic(message);\n}\n\nexport function assertNever(_never: never, msg?: string): never {\n    return panic(msg ?? \"Hell froze over\");\n}\nexport function maybe<T>(fn: () => T, defaultValue: T) {\n    try {\n        return fn();\n    } catch {\n        return defaultValue;\n    }\n}\n\n// The following code is licensed under the MIT license to Luke Edwards\n// Original license and code can be found here: https://github.com/lukeed/dequal/blob/master/license\n// I have merely \"ported\" it to be TS (any any any) and directly included it for convenience.\nconst has = Object.prototype.hasOwnProperty;\n// eslint-disable-next-line sonarjs/cognitive-complexity\nexport function deepEqual(foo: any, bar: any): boolean {\n    let ctor: any, len: number;\n    if (foo === bar) return true;\n\n    // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n    if (foo && bar && (ctor = foo.constructor) === bar.constructor) {\n        if (ctor === Date) return foo.getTime() === bar.getTime();\n        if (ctor === RegExp) return foo.toString() === bar.toString();\n\n        if (ctor === Array) {\n            if ((len = foo.length) === bar.length) {\n                while (len-- && deepEqual(foo[len], bar[len]));\n            }\n            return len === -1;\n        }\n\n        // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n        if (!ctor || typeof foo === \"object\") {\n            len = 0;\n            // eslint-disable-next-line guard-for-in\n            for (ctor in foo) {\n                if (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n                if (!(ctor in bar) || !deepEqual(foo[ctor], bar[ctor])) return false;\n            }\n            return Object.keys(bar).length === len;\n        }\n    }\n\n    return foo !== foo && bar !== bar;\n}\n\n/**\n * This is a type that takes a type and makes all of its properties required.\n * This is useful for forcing a an object to have all properties defined from the get go, which helps V8 optimize it.\n */\nexport type FullyDefined<T> = {\n    [K in keyof Required<T>]: T[K];\n};\n","import * as React from \"react\";\nimport debounce from \"lodash/debounce.js\";\nimport { deepEqual } from \"./support.js\";\n\nexport function useEventListener<K extends keyof HTMLElementEventMap>(\n    eventName: K,\n    handler: (this: HTMLElement, ev: HTMLElementEventMap[K]) => any,\n    element: HTMLElement | Window | null,\n    passive: boolean,\n    capture = false\n) {\n    // Create a ref that stores handler\n    const savedHandler = React.useRef<(this: HTMLElement, ev: HTMLElementEventMap[K]) => any>();\n\n    // Update ref.current value if handler changes.\n    // This allows our effect below to always get latest handler ...\n    // ... without us needing to pass it in effect deps array ...\n    // ... and potentially cause effect to re-run every render.\n    savedHandler.current = handler;\n    React.useEffect(\n        () => {\n            // Make sure element supports addEventListener\n            if (element === null || element.addEventListener === undefined) return;\n            const el = element as HTMLElement;\n\n            // Create event listener that calls handler function stored in ref\n            const eventListener = (event: HTMLElementEventMap[K]) => {\n                savedHandler.current?.call(el, event);\n            };\n\n            el.addEventListener(eventName, eventListener, { passive, capture });\n\n            // Remove event listener on cleanup\n            return () => {\n                el.removeEventListener(eventName, eventListener, { capture });\n            };\n        },\n        [eventName, element, passive, capture] // Re-run if eventName or element changes\n    );\n}\n\nexport function whenDefined<T>(obj: any, result: T) {\n    return obj === undefined ? undefined : result;\n}\n\nconst PI = Math.PI;\nexport function degreesToRadians(degrees: number) {\n    return (degrees * PI) / 180;\n}\n\nexport const getSquareBB = (posX: number, posY: number, squareSideLength: number) => ({\n    x1: posX - squareSideLength / 2,\n    y1: posY - squareSideLength / 2,\n    x2: posX + squareSideLength / 2,\n    y2: posY + squareSideLength / 2,\n});\n\nexport const getSquareXPosFromAlign = (\n    alignment: \"left\" | \"center\" | \"right\",\n    containerX: number,\n    containerWidth: number,\n    horizontalPadding: number,\n    squareWidth: number\n) => {\n    switch (alignment) {\n        case \"left\":\n            return Math.floor(containerX) + horizontalPadding + squareWidth / 2;\n        case \"center\":\n            return Math.floor(containerX + containerWidth / 2);\n        case \"right\":\n            return Math.floor(containerX + containerWidth) - horizontalPadding - squareWidth / 2;\n    }\n};\nexport const getSquareWidth = (maxSize: number, containerHeight: number, verticalPadding: number) =>\n    Math.min(maxSize, containerHeight - verticalPadding * 2);\n\ntype BoundingBox = { x1: number; y1: number; x2: number; y2: number };\nexport const pointIsWithinBB = (x: number, y: number, bb: BoundingBox) =>\n    bb.x1 <= x && x <= bb.x2 && bb.y1 <= y && y <= bb.y2;\n\n/**\n * The input provided to a sprite function.\n *\n * @category Columns\n */\nexport interface SpriteProps {\n    fgColor: string;\n    bgColor: string;\n}\n\nexport const EditPencil: React.FunctionComponent<Partial<SpriteProps>> = (props: Partial<SpriteProps>) => {\n    const fg = props.fgColor ?? \"currentColor\";\n    return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n                d=\"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929\"\n                stroke={fg}\n                strokeWidth=\"1.5\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                fill=\"none\"\n                vectorEffect=\"non-scaling-stroke\"\n            />\n            <path\n                d=\"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z\"\n                stroke={fg}\n                strokeWidth=\"1.5\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                fill=\"none\"\n                vectorEffect=\"non-scaling-stroke\"\n            />\n        </svg>\n    );\n};\n\nexport const Checkmark: React.FunctionComponent<Partial<SpriteProps>> = (props: Partial<SpriteProps>) => {\n    const fg = props.fgColor ?? \"currentColor\";\n\n    return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n                d=\"M19 6L10.3802 17L5.34071 11.8758\"\n                vectorEffect=\"non-scaling-stroke\"\n                stroke={fg}\n                strokeWidth=\"1.5\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </svg>\n    );\n};\n\nexport function useDebouncedMemo<T>(factory: () => T, deps: React.DependencyList | undefined, time: number): T {\n    const [state, setState] = React.useState(factory);\n\n    const mountedRef = React.useRef(true);\n    React.useEffect(\n        () => () => {\n            mountedRef.current = false;\n        },\n        []\n    );\n\n    const debouncedSetState = React.useRef<typeof setState>(\n        debounce(x => {\n            if (mountedRef.current) {\n                setState(x);\n            }\n        }, time)\n    );\n\n    React.useLayoutEffect(() => {\n        if (mountedRef.current) {\n            debouncedSetState.current(() => factory());\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, deps);\n\n    return state;\n}\n\n// Shamelessly inline direction to avoid conflicts with 1.0 and 2.0.\nconst rtlRange = \"\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC\";\nconst ltrRange =\n    \"A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\" +\n    \"\\u00F8-\\u02B8\\u0300-\\u0590\\u0800-\\u1FFF\\u200E\\u2C00-\\uFB1C\" +\n    \"\\uFE00-\\uFE6F\\uFEFD-\\uFFFF\";\n\n/* eslint-disable no-misleading-character-class */\nconst rtl = new RegExp(\"^[^\" + ltrRange + \"]*[\" + rtlRange + \"]\");\n/* eslint-enable no-misleading-character-class */\n\nexport function direction(value: string): \"rtl\" | \"not-rtl\" {\n    return rtl.test(value) ? \"rtl\" : \"not-rtl\";\n}\n\nlet scrollbarWidthCache: number | undefined = undefined;\nexport function getScrollBarWidth(): number {\n    if (typeof document === \"undefined\") return 0;\n    if (scrollbarWidthCache !== undefined) return scrollbarWidthCache;\n    const inner = document.createElement(\"p\");\n    inner.style.width = \"100%\";\n    inner.style.height = \"200px\";\n\n    const outer = document.createElement(\"div\");\n    outer.id = \"testScrollbar\";\n\n    outer.style.position = \"absolute\";\n    outer.style.top = \"0px\";\n    outer.style.left = \"0px\";\n    outer.style.visibility = \"hidden\";\n    outer.style.width = \"200px\";\n    outer.style.height = \"150px\";\n    outer.style.overflow = \"hidden\";\n    outer.append(inner);\n\n    document.body.append(outer);\n    const w1 = inner.offsetWidth;\n    outer.style.overflow = \"scroll\";\n    let w2 = inner.offsetWidth;\n    if (w1 === w2) {\n        w2 = outer.clientWidth;\n    }\n\n    outer.remove();\n\n    scrollbarWidthCache = w1 - w2;\n    return scrollbarWidthCache;\n}\n\n// Dear future reader,\n// This dumb hook is to make sure if the inputState changes, that effectively behaves like an instant \"setState\" call.\n// This is useful in a wide variety of situations. I'm too dumb to know if this is a good idea or a really dumb one.\n// I can't tell. It's like poes law but for code.\n//\n// I'm sorry.\nconst empty = Symbol();\nexport function useStateWithReactiveInput<T>(inputState: T): [T, React.Dispatch<React.SetStateAction<T>>, () => void] {\n    // When [0] is not empty we will return it, [1] is always the last value we saw\n    const inputStateRef = React.useRef<[T | typeof empty, T]>([empty, inputState]);\n    if (inputStateRef.current[1] !== inputState) {\n        // it changed, we must use thee!\n        inputStateRef.current[0] = inputState;\n    }\n    inputStateRef.current[1] = inputState;\n\n    const [state, setState] = React.useState(inputState);\n    // crimes against humanity here\n    const [, forceRender] = React.useState<{} | undefined>();\n    const setStateOuter = React.useCallback<typeof setState>(nv => {\n        // this takes care of the case where the inputState was set, then setState gets called again but back to what\n        // the state was before the inputState changed. Since the useState effect wont trigger a render in this case\n        // we need to be very naughty and force it to see the change. Technically this may not be needed some chunk of\n        // the time (in fact most of it) but checking for it is likely to be more expensive than just over-doing it\n        const s = inputStateRef.current[0];\n        if (s !== empty) {\n            nv = typeof nv === \"function\" ? (nv as (pv: T) => T)(s) : nv;\n            if (nv === s) return; // they are setting it to what the inputState is anyway so we can just do nothing\n        }\n        if (s !== empty) forceRender({});\n        setState(pv => {\n            if (typeof nv === \"function\") {\n                return (nv as (pv: T) => T)(s === empty ? pv : s);\n            }\n            return nv;\n        });\n        inputStateRef.current[0] = empty;\n    }, []);\n\n    const onEmpty = React.useCallback(() => {\n        inputStateRef.current[0] = empty;\n        forceRender({});\n    }, []);\n\n    return [inputStateRef.current[0] === empty ? state : inputStateRef.current[0], setStateOuter, onEmpty];\n}\n\nexport function makeAccessibilityStringForArray(arr: readonly string[]): string {\n    // this is basically just .join(\", \") but checks to make sure it is not going to allocate\n    // a string that is so large it might crash the browser\n    if (arr.length === 0) {\n        return \"\";\n    }\n\n    let index = 0;\n    let count = 0;\n    for (const str of arr) {\n        count += str.length;\n        if (count > 10_000) break;\n        index++;\n    }\n    return arr.slice(0, index).join(\", \");\n}\n\nexport function useDeepMemo<T>(value: T): T {\n    const ref = React.useRef<T>(value);\n\n    if (!deepEqual(value, ref.current)) {\n        ref.current = value;\n    }\n\n    return ref.current;\n}\n","/* eslint-disable sonarjs/no-duplicate-string */\nimport { assertNever } from \"../common/support.js\";\nimport {\n    GridCellKind,\n    type GridCell,\n    BooleanEmpty,\n    BooleanIndeterminate,\n} from \"../internal/data-grid/data-grid-types.js\";\n\ntype StringArrayCellBuffer = {\n    formatted: string[];\n    rawValue: string[];\n    format: \"string-array\";\n};\n\ntype BasicCellBuffer = {\n    formatted: string;\n    rawValue: string | number | boolean | BooleanEmpty | BooleanIndeterminate | undefined;\n    format: \"string\" | \"number\" | \"boolean\" | \"url\";\n};\nexport type CellBuffer = StringArrayCellBuffer | BasicCellBuffer;\nexport type CopyBuffer = CellBuffer[][];\n\nfunction convertCellToBuffer(cell: GridCell): CellBuffer {\n    if (cell.copyData !== undefined) {\n        return {\n            formatted: cell.copyData,\n            rawValue: cell.copyData,\n            format: \"string\",\n        };\n    }\n    switch (cell.kind) {\n        case GridCellKind.Boolean:\n            return {\n                formatted:\n                    cell.data === true\n                        ? \"TRUE\"\n                        : cell.data === false\n                        ? \"FALSE\"\n                        : cell.data === BooleanIndeterminate\n                        ? \"INDETERMINATE\"\n                        : \"\",\n                rawValue: cell.data,\n                format: \"boolean\",\n            };\n        case GridCellKind.Custom:\n            return {\n                formatted: cell.copyData,\n                rawValue: cell.copyData,\n                format: \"string\",\n            };\n        case GridCellKind.Image:\n        case GridCellKind.Bubble:\n            return {\n                formatted: cell.data,\n                rawValue: cell.data,\n                format: \"string-array\",\n            };\n        case GridCellKind.Drilldown:\n            return {\n                formatted: cell.data.map(x => x.text),\n                rawValue: cell.data.map(x => x.text),\n                format: \"string-array\",\n            };\n        case GridCellKind.Text:\n            return {\n                formatted: cell.displayData ?? cell.data,\n                rawValue: cell.data,\n                format: \"string\",\n            };\n        case GridCellKind.Uri:\n            return {\n                formatted: cell.displayData ?? cell.data,\n                rawValue: cell.data,\n                format: \"url\",\n            };\n        case GridCellKind.Markdown:\n        case GridCellKind.RowID:\n            return {\n                formatted: cell.data,\n                rawValue: cell.data,\n                format: \"string\",\n            };\n        case GridCellKind.Number:\n            return {\n                formatted: cell.displayData,\n                rawValue: cell.data,\n                format: \"number\",\n            };\n        case GridCellKind.Loading:\n            return {\n                formatted: \"#LOADING\",\n                rawValue: \"\",\n                format: \"string\",\n            };\n        case GridCellKind.Protected:\n            return {\n                formatted: \"************\",\n                rawValue: \"\",\n                format: \"string\",\n            };\n        default:\n            assertNever(cell);\n    }\n}\n\nfunction createBufferFromGridCells(\n    cells: readonly (readonly GridCell[])[],\n    columnIndexes: readonly number[]\n): CopyBuffer {\n    const copyBuffer: CopyBuffer = cells.map((row, index) => {\n        const mappedIndex = columnIndexes[index];\n        return row.map(cell => {\n            if (cell.span !== undefined && cell.span[0] !== mappedIndex)\n                return {\n                    formatted: \"\",\n                    rawValue: \"\",\n                    format: \"string\",\n                };\n            return convertCellToBuffer(cell);\n        });\n    });\n    return copyBuffer;\n}\n\nfunction escapeIfNeeded(str: string, withComma: boolean): string {\n    if ((withComma ? /[\\t\\n\",]/ : /[\\t\\n\"]/).test(str)) {\n        str = `\"${str.replace(/\"/g, '\"\"')}\"`;\n    }\n    return str;\n}\n\nfunction createTextBuffer(copyBuffer: CopyBuffer): string {\n    const lines: string[] = [];\n    for (const row of copyBuffer) {\n        const line: string[] = [];\n        for (const cell of row) {\n            if (cell.format === \"url\") {\n                line.push(cell.rawValue?.toString() ?? \"\");\n            } else if (cell.format === \"string-array\") {\n                line.push(cell.formatted.map(x => escapeIfNeeded(x, true)).join(\",\"));\n            } else {\n                line.push(escapeIfNeeded(cell.formatted, false));\n            }\n        }\n        lines.push(line.join(\"\\t\"));\n    }\n    return lines.join(\"\\n\");\n}\n\nfunction formatHtmlTextContent(text: string): string {\n    // The following formatting for the `html` variable ensures that when pasting,\n    // spaces are preserved in both Google Sheets and Excel. This is done by:\n    // 1. Replacing tabs with four spaces for consistency. Also google sheets disallows any tabs.\n    // 2. Wrapping each space with a span element to prevent them from being collapsed or ignored during the\n    //    paste operation\n    return text.replace(/\\t/g, \"    \").replace(/ {2,}/g, match => \"<span> </span>\".repeat(match.length));\n}\n\nfunction formatHtmlAttributeContent(attrText: string): string {\n    // Escape all quotes, lt, gt, and other special characters\n    return (\n        '\"' + attrText.replace(/&/g, \"&amp;\").replace(/\"/g, \"&quot;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\") + '\"'\n    );\n}\n\nfunction restoreHtmlEntities(str: string): string {\n    // Unescape all quotes, lt, gt, and other special characters\n    return str\n        .replace(/&quot;/g, '\"')\n        .replace(/&lt;/g, \"<\")\n        .replace(/&gt;/g, \">\")\n        .replace(/&amp;/g, \"&\");\n}\n\nfunction createHtmlBuffer(copyBuffer: CopyBuffer): string {\n    const lines: string[] = [];\n    lines.push(`<style type=\"text/css\"><!--br {mso-data-placement:same-cell;}--></style>`, \"<table><tbody>\");\n    for (const row of copyBuffer) {\n        lines.push(\"<tr>\");\n        for (const cell of row) {\n            const formatStr = `gdg-format=\"${cell.format}\"`;\n            if (cell.format === \"url\") {\n                lines.push(\n                    `<td ${formatStr}><a href=\"${cell.rawValue}\">${formatHtmlTextContent(cell.formatted)}</a></td>`\n                );\n            } else {\n                if (cell.format === \"string-array\") {\n                    lines.push(\n                        `<td ${formatStr}><ol>${cell.formatted\n                            .map(\n                                (x, ind) =>\n                                    `<li gdg-raw-value=${formatHtmlAttributeContent(cell.rawValue[ind])}>` +\n                                    formatHtmlTextContent(x) +\n                                    \"</li>\"\n                            )\n                            .join(\"\")}</ol></td>`\n                    );\n                } else {\n                    lines.push(\n                        `<td gdg-raw-value=${formatHtmlAttributeContent(\n                            cell.rawValue?.toString() ?? \"\"\n                        )} ${formatStr}>${formatHtmlTextContent(cell.formatted)}</td>`\n                    );\n                }\n            }\n        }\n        lines.push(\"</tr>\");\n    }\n    lines.push(\"</tbody></table>\");\n    return lines.join(\"\");\n}\n\n// This function encodes grid cells to a table object.\n// Each td in the table contains one of 3 things\n// - A string directly and the td has a `gdg-raw-value` attribute with the raw value\n// - An anchor tag with a href and the text is the formatted value\n// - An ordered list with each item containing a `gdg-raw-value` attribute with the raw value\nexport function getCopyBufferContents(\n    cells: readonly (readonly GridCell[])[],\n    columnIndexes: readonly number[]\n): {\n    readonly textPlain: string;\n    readonly textHtml: string;\n} {\n    const copyBuffer = createBufferFromGridCells(cells, columnIndexes);\n    const textPlain = createTextBuffer(copyBuffer);\n    const textHtml = createHtmlBuffer(copyBuffer);\n    return {\n        textPlain,\n        textHtml,\n    };\n}\n\nexport function decodeHTML(html: string): CopyBuffer | undefined {\n    const fragment = document.createElement(\"html\");\n    // we dont want to retain the pasted non-breaking spaces\n    fragment.innerHTML = html.replace(/&nbsp;/g, \" \");\n    const tableEl = fragment.querySelector(\"table\");\n    if (tableEl === null) return undefined;\n    const walkEl: Element[] = [tableEl];\n    const result: CellBuffer[][] = [];\n    let current: CellBuffer[] | undefined;\n\n    while (walkEl.length > 0) {\n        const el = walkEl.pop();\n\n        if (el === undefined) break;\n\n        if (el instanceof HTMLTableElement || el.nodeName === \"TBODY\") {\n            walkEl.push(...[...el.children].reverse());\n        } else if (el instanceof HTMLTableRowElement) {\n            if (current !== undefined) {\n                result.push(current);\n            }\n            current = [];\n            walkEl.push(...[...el.children].reverse());\n        } else if (el instanceof HTMLTableCellElement) {\n            // be careful not to use innerText here as its behavior is not well defined for non DOM attached nodes\n            const clone: HTMLTableCellElement = el.cloneNode(true) as HTMLTableCellElement;\n\n            // Apple numbers seems to always wrap the cell in a p tag and a font tag. It also puts both <br> and \\n\n            // linebreak markers in the code. This is both unneeded and causes issues with the paste code.\n            const firstTagIsPara = clone.children.length === 1 && clone.children[0].nodeName === \"P\";\n            const para = firstTagIsPara ? clone.children[0] : null;\n            const isAppleNumbers = para?.children.length === 1 && para.children[0].nodeName === \"FONT\";\n\n            const brs = clone.querySelectorAll(\"br\");\n            for (const br of brs) {\n                br.replaceWith(\"\\n\");\n            }\n\n            const attributeValue = clone.getAttribute(\"gdg-raw-value\");\n            const formatValue = (clone.getAttribute(\"gdg-format\") ?? \"string\") as any; // fix me at some point\n            if (clone.querySelector(\"a\") !== null) {\n                current?.push({\n                    // raw value is the href\n                    rawValue: clone.querySelector(\"a\")?.getAttribute(\"href\") ?? \"\",\n                    formatted: clone.textContent ?? \"\",\n                    format: formatValue,\n                });\n            } else if (clone.querySelector(\"ol\") !== null) {\n                const rawValues = clone.querySelectorAll(\"li\");\n                current?.push({\n                    rawValue: [...rawValues].map(x => x.getAttribute(\"gdg-raw-value\") ?? \"\"),\n                    formatted: [...rawValues].map(x => x.textContent ?? \"\"),\n                    format: \"string-array\",\n                });\n            } else if (attributeValue !== null) {\n                current?.push({\n                    rawValue: restoreHtmlEntities(attributeValue),\n                    formatted: clone.textContent ?? \"\",\n                    format: formatValue,\n                });\n            } else {\n                let textContent = clone.textContent ?? \"\";\n                if (isAppleNumbers) {\n                    // replace any newline not preceded by a newline\n                    textContent = textContent.replace(/\\n(?!\\n)/g, \"\");\n                }\n\n                current?.push({\n                    rawValue: textContent ?? \"\",\n                    formatted: textContent ?? \"\",\n                    format: formatValue,\n                });\n            }\n        }\n    }\n\n    if (current !== undefined) {\n        result.push(current);\n    }\n\n    return result;\n}\n","import type { DataGridSearchProps } from \"../internal/data-grid-search/data-grid-search.js\";\nimport { type GridCell, type GridSelection, type Rectangle } from \"../internal/data-grid/data-grid-types.js\";\nimport { getCopyBufferContents, type CopyBuffer } from \"./copy-paste.js\";\n\nexport function expandSelection(\n    newVal: GridSelection,\n    getCellsForSelection: DataGridSearchProps[\"getCellsForSelection\"],\n    rowMarkerOffset: number,\n    spanRangeBehavior: \"allowPartial\" | \"default\",\n    abortController: AbortController\n): GridSelection {\n    const origVal = newVal;\n    if (spanRangeBehavior === \"allowPartial\" || newVal.current === undefined || getCellsForSelection === undefined)\n        return newVal;\n    let isFilled = false;\n    do {\n        if (newVal?.current === undefined) break;\n        const r: Rectangle = newVal.current?.range;\n        const cells: (readonly GridCell[])[] = [];\n        if (r.width > 2) {\n            const leftCells = getCellsForSelection(\n                {\n                    x: r.x,\n                    y: r.y,\n                    width: 1,\n                    height: r.height,\n                },\n                abortController.signal\n            );\n\n            if (typeof leftCells === \"function\") {\n                return origVal;\n            }\n\n            cells.push(...leftCells);\n\n            const rightCells = getCellsForSelection(\n                {\n                    x: r.x + r.width - 1,\n                    y: r.y,\n                    width: 1,\n                    height: r.height,\n                },\n                abortController.signal\n            );\n\n            if (typeof rightCells === \"function\") {\n                return origVal;\n            }\n\n            cells.push(...rightCells);\n        } else {\n            const rCells = getCellsForSelection(\n                {\n                    x: r.x,\n                    y: r.y,\n                    width: r.width,\n                    height: r.height,\n                },\n                abortController.signal\n            );\n            if (typeof rCells === \"function\") {\n                return origVal;\n            }\n            cells.push(...rCells);\n        }\n\n        let left = r.x - rowMarkerOffset;\n        let right = r.x + r.width - 1 - rowMarkerOffset;\n        for (const row of cells) {\n            for (const cell of row) {\n                if (cell.span === undefined) continue;\n                left = Math.min(cell.span[0], left);\n                right = Math.max(cell.span[1], right);\n            }\n        }\n\n        if (left === r.x - rowMarkerOffset && right === r.x + r.width - 1 - rowMarkerOffset) {\n            isFilled = true;\n        } else {\n            newVal = {\n                current: {\n                    cell: newVal.current.cell ?? [0, 0],\n                    range: {\n                        x: left + rowMarkerOffset,\n                        y: r.y,\n                        width: right - left + 1,\n                        height: r.height,\n                    },\n                    rangeStack: newVal.current.rangeStack,\n                },\n                columns: newVal.columns,\n                rows: newVal.rows,\n            };\n        }\n    } while (!isFilled);\n    return newVal;\n}\n\nfunction descape(s: string): string {\n    if (s.startsWith('\"') && s.endsWith('\"')) {\n        s = s.slice(1, -1).replace(/\"\"/g, '\"');\n    }\n    return s;\n}\n\nexport function unquote(str: string): CopyBuffer {\n    const enum State {\n        None,\n        inString,\n        inStringPostQuote,\n    }\n\n    const result: string[][] = [];\n    let current: string[] = [];\n\n    let start = 0;\n    let state = State.None;\n    str = str.replace(/\\r\\n/g, \"\\n\");\n    let index = 0;\n    for (const char of str) {\n        switch (state) {\n            case State.None:\n                if (char === \"\\t\" || char === \"\\n\") {\n                    current.push(str.slice(start, index));\n                    start = index + 1;\n\n                    if (char === \"\\n\") {\n                        result.push(current);\n                        current = [];\n                    }\n                } else if (char === `\"`) {\n                    state = State.inString;\n                }\n                break;\n            case State.inString:\n                if (char === `\"`) {\n                    state = State.inStringPostQuote;\n                }\n                break;\n            case State.inStringPostQuote:\n                if (char === '\"') {\n                    state = State.inString;\n                } else if (char === \"\\t\" || char === \"\\n\") {\n                    current.push(descape(str.slice(start, index)));\n                    start = index + 1;\n\n                    if (char === \"\\n\") {\n                        result.push(current);\n                        current = [];\n                    }\n                    state = State.None;\n                } else {\n                    state = State.None;\n                }\n                break;\n        }\n\n        index++;\n    }\n    if (start < str.length) {\n        current.push(descape(str.slice(start, str.length)));\n    }\n    result.push(current);\n    return result.map(r => r.map(c => ({ rawValue: c, formatted: c, format: \"string\" })));\n}\n\nexport function copyToClipboard(\n    cells: readonly (readonly GridCell[])[],\n    columnIndexes: readonly number[],\n    e?: ClipboardEvent\n) {\n    const copyBuffer = getCopyBufferContents(cells, columnIndexes);\n\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    const copyWithWriteText = (s: string) => {\n        void window.navigator.clipboard?.writeText(s);\n    };\n\n    const copyWithWrite = (s: string, html: string): boolean => {\n        if (window.navigator.clipboard?.write === undefined) return false;\n        void window.navigator.clipboard.write([\n            new ClipboardItem({\n                // eslint-disable-next-line sonarjs/no-duplicate-string\n                \"text/plain\": new Blob([s], { type: \"text/plain\" }),\n                \"text/html\": new Blob([html], {\n                    type: \"text/html\",\n                }),\n            }),\n        ]);\n        return true;\n    };\n\n    const copyWithClipboardData = (s: string, html: string) => {\n        try {\n            if (e === undefined || e.clipboardData === null) throw new Error(\"No clipboard data\");\n\n            // This might fail if we had to await the thunk\n            e?.clipboardData?.setData(\"text/plain\", s);\n            e?.clipboardData?.setData(\"text/html\", html);\n        } catch {\n            if (!copyWithWrite(s, html)) {\n                copyWithWriteText(s);\n            }\n        }\n    };\n\n    if (window.navigator.clipboard?.write !== undefined || e?.clipboardData !== undefined) {\n        void copyWithClipboardData(copyBuffer.textPlain, copyBuffer.textHtml);\n    } else {\n        void copyWithWriteText(copyBuffer.textPlain);\n    }\n\n    e?.preventDefault();\n}\n\n/**\n * Checkbox behavior:\n *\n * true + click -> unchecked\n * false + click -> checked\n * indeterminate + click -> checked\n * empty + click -> checked\n */\nexport function toggleBoolean(data: boolean | null | undefined): boolean | null | undefined {\n    return data !== true;\n}\n","import { packColRowToNumber, unpackNumberToColRow, unpackRow } from \"../../common/render-state-provider.js\";\nimport type { Item, Rectangle } from \"./data-grid-types.js\";\n\nexport class CellSet {\n    private readonly cells: Set<number>;\n\n    constructor(items: Item[] = []) {\n        this.cells = new Set<number>(items.map(x => packColRowToNumber(x[0], x[1])));\n    }\n\n    public add(cell: Item): void {\n        this.cells.add(packColRowToNumber(cell[0], cell[1]));\n    }\n\n    public has(cell: Item | undefined): boolean {\n        if (cell === undefined) return false;\n        return this.cells.has(packColRowToNumber(cell[0], cell[1]));\n    }\n\n    public remove(cell: Item): void {\n        this.cells.delete(packColRowToNumber(cell[0], cell[1]));\n    }\n\n    public clear(): void {\n        this.cells.clear();\n    }\n\n    public get size(): number {\n        return this.cells.size;\n    }\n\n    public hasHeader(): boolean {\n        for (const cellNumber of this.cells) {\n            const row = unpackRow(cellNumber);\n            if (row < 0) return true;\n        }\n        return false;\n    }\n\n    public hasItemInRectangle(rect: Rectangle): boolean {\n        for (let row = rect.y; row < rect.y + rect.height; row++) {\n            for (let col = rect.x; col < rect.x + rect.width; col++) {\n                if (this.cells.has(packColRowToNumber(col, row))) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    public hasItemInRegion(rect: readonly (Rectangle & { when?: boolean })[]): boolean {\n        for (const r of rect) {\n            if (this.hasItemInRectangle(r)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public *values(): IterableIterator<Item> {\n        for (const cellNumber of this.cells) {\n            yield unpackNumberToColRow(cellNumber);\n        }\n    }\n}\n","// Shamelessly stolen from https://github.com/ricokahler/color2k\n// We don't need all the color functions but we deeply appreciate their work.\n\nconst cache: {\n    [color: string]: [number, number, number, number];\n} = {};\n\nlet div: HTMLDivElement | null = null;\n\nfunction createDiv() {\n    const d = document.createElement(\"div\");\n    d.style.opacity = \"0\";\n    d.style.pointerEvents = \"none\";\n    d.style.position = \"fixed\";\n    // div must be mounted for `getComputedStyle` to work\n    document.body.append(d);\n    return d;\n}\n\n/** @category Drawing */\nexport function parseToRgba(color: string): readonly [number, number, number, number] {\n    // normalize the color\n    const normalizedColor = color.toLowerCase().trim();\n\n    if (cache[normalizedColor] !== undefined) return cache[normalizedColor];\n\n    div = div || createDiv();\n\n    div.style.color = \"#000\";\n    div.style.color = normalizedColor;\n    const control = getComputedStyle(div).color;\n\n    div.style.color = \"#fff\";\n    div.style.color = normalizedColor;\n    const computedColor = getComputedStyle(div).color;\n\n    if (computedColor !== control) return [0, 0, 0, 1];\n\n    let result = computedColor\n        // eslint-disable-next-line unicorn/better-regex\n        .replace(/[^\\d.,]/g, \"\")\n        .split(\",\")\n        .map(Number.parseFloat) as [number, number, number, number];\n\n    if (result.length < 4) {\n        result.push(1);\n    }\n    result = result.map(x => {\n        const isNaN = Number.isNaN(x);\n        if (process.env.NODE_ENV !== \"production\" && isNaN) {\n            // eslint-disable-next-line no-console\n            console.warn(\"Could not parse color\", color);\n        }\n        return isNaN ? 0 : x;\n    }) as typeof result;\n\n    cache[normalizedColor] = result;\n    return result;\n}\n\n/** @category Drawing */\nexport function withAlpha(color: string, alpha: number): string {\n    const [r, g, b] = parseToRgba(color);\n    return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n}\n\nconst blendResultCache = new Map<string, string>();\n\nexport function blendCache(color: string, background: string | undefined): string {\n    const cacheKey = `${color}-${background}`;\n\n    const maybe = blendResultCache.get(cacheKey);\n    if (maybe !== undefined) return maybe;\n\n    const result = blend(color, background);\n    blendResultCache.set(cacheKey, result);\n    return result;\n}\n\n/** @category Drawing */\nexport function blend(color: string, background: string | undefined): string {\n    if (background === undefined) return color;\n    const [r, g, b, a] = parseToRgba(color);\n    if (a === 1) return color;\n    const [br, bg, bb, ba] = parseToRgba(background);\n    const ao = a + ba * (1 - a);\n    // (xaA + xaB·(1−aA))/aR\n    const ro = (a * r + ba * br * (1 - a)) / ao;\n    const go = (a * g + ba * bg * (1 - a)) / ao;\n    const bo = (a * b + ba * bb * (1 - a)) / ao;\n    return `rgba(${ro}, ${go}, ${bo}, ${ao})`;\n}\n\n/** @category Drawing */\nexport function interpolateColors(leftColor: string, rightColor: string, val: number): string {\n    // toot toot im a GPU\n    if (val <= 0) return leftColor;\n    if (val >= 1) return rightColor;\n\n    // Parse to rgba returns straight alpha colors, for interpolation we want pre-multiplied alpha\n    // FIXME: This can be faster if instead of makign an array we just use variables. No memory allocation.\n    const left = [...parseToRgba(leftColor)];\n    left[0] = left[0] * left[3];\n    left[1] = left[1] * left[3];\n    left[2] = left[2] * left[3];\n    const right = [...parseToRgba(rightColor)];\n    right[0] = right[0] * right[3];\n    right[1] = right[1] * right[3];\n    right[2] = right[2] * right[3];\n\n    const hScaler = val;\n    const nScaler = 1 - val;\n\n    const a = left[3] * nScaler + right[3] * hScaler;\n    // now we need to divide the alpha back out to get linear alpha back for the final result\n    const r = Math.floor((left[0] * nScaler + right[0] * hScaler) / a);\n    const g = Math.floor((left[1] * nScaler + right[1] * hScaler) / a);\n    const b = Math.floor((left[2] * nScaler + right[2] * hScaler) / a);\n    return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n * Returns a number (float) representing the luminance of a color.\n *\n * @category Drawing\n */\nexport function getLuminance(color: string): number {\n    if (color === \"transparent\") return 0;\n\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    function f(x: number) {\n        const channel = x / 255;\n        return channel <= 0.040_45 ? channel / 12.92 : Math.pow((channel + 0.055) / 1.055, 2.4);\n    }\n\n    const [r, g, b] = parseToRgba(color);\n    return 0.2126 * f(r) + 0.7152 * f(g) + 0.0722 * f(b);\n}\n","import type { Theme } from \"../../common/styles.js\";\nimport { assertNever, proveType } from \"../../common/support.js\";\nimport has from \"lodash/has.js\";\nimport type React from \"react\";\nimport type { CSSProperties } from \"react\";\nimport type { SpriteManager } from \"./data-grid-sprites.js\";\nimport type { OverlayImageEditorProps } from \"../data-grid-overlay-editor/private/image-overlay-editor.js\";\nimport type { ImageWindowLoader } from \"./image-window-loader-interface.js\";\nimport type { BaseGridMouseEventArgs } from \"./event-args.js\";\n\n// Thoughts:\n// rows/columns are called out as selected, but when selected they must also be added\n// to the range. Handling delete events may have different desired outcomes depending on\n// how the range came to be selected. The rows/columns properties retain this essential\n// information.\n/** @category Selection */\nexport interface GridSelection {\n    readonly current?: {\n        readonly cell: Item;\n        readonly range: Readonly<Rectangle>;\n        readonly rangeStack: readonly Readonly<Rectangle>[]; // lowest to highest, does not include range\n    };\n    readonly columns: CompactSelection;\n    readonly rows: CompactSelection;\n}\n\n/** @category Types */\nexport type ImageEditorType = React.ComponentType<OverlayImageEditorProps>;\n\n/** @category Types */\nexport const BooleanEmpty = null;\n/** @category Types */\nexport const BooleanIndeterminate = undefined;\n\n/** @category Types */\nexport type BooleanEmpty = null;\n/** @category Types */\nexport type BooleanIndeterminate = undefined;\n\n/** @category Types */\nexport type DrawHeaderCallback = (\n    args: {\n        ctx: CanvasRenderingContext2D;\n        column: GridColumn;\n        columnIndex: number;\n        theme: Theme;\n        rect: Rectangle;\n        hoverAmount: number;\n        isSelected: boolean;\n        isHovered: boolean;\n        hasSelectedCell: boolean;\n        spriteManager: SpriteManager;\n        menuBounds: Rectangle;\n    },\n    drawContent: () => void\n) => void;\n\n/** @category Types */\nexport type DrawCellCallback = (\n    args: {\n        ctx: CanvasRenderingContext2D;\n        cell: GridCell;\n        theme: Theme;\n        rect: Rectangle;\n        col: number;\n        row: number;\n        hoverAmount: number;\n        hoverX: number | undefined;\n        hoverY: number | undefined;\n        highlighted: boolean;\n        imageLoader: ImageWindowLoader;\n    },\n    drawContent: () => void\n) => void;\n\n/** @category Cells */\nexport enum GridCellKind {\n    Uri = \"uri\",\n    Text = \"text\",\n    Image = \"image\",\n    RowID = \"row-id\",\n    Number = \"number\",\n    Bubble = \"bubble\",\n    Boolean = \"boolean\",\n    Loading = \"loading\",\n    Markdown = \"markdown\",\n    Drilldown = \"drilldown\",\n    Protected = \"protected\",\n    Custom = \"custom\",\n}\n\n/** @category Columns */\nexport enum GridColumnIcon {\n    HeaderRowID = \"headerRowID\",\n    HeaderCode = \"headerCode\",\n    HeaderNumber = \"headerNumber\",\n    HeaderString = \"headerString\",\n    HeaderBoolean = \"headerBoolean\",\n    HeaderAudioUri = \"headerAudioUri\",\n    HeaderVideoUri = \"headerVideoUri\",\n    HeaderEmoji = \"headerEmoji\",\n    HeaderImage = \"headerImage\",\n    HeaderUri = \"headerUri\",\n    HeaderPhone = \"headerPhone\",\n    HeaderMarkdown = \"headerMarkdown\",\n    HeaderDate = \"headerDate\",\n    HeaderTime = \"headerTime\",\n    HeaderEmail = \"headerEmail\",\n    HeaderReference = \"headerReference\",\n    HeaderIfThenElse = \"headerIfThenElse\",\n    HeaderSingleValue = \"headerSingleValue\",\n    HeaderLookup = \"headerLookup\",\n    HeaderTextTemplate = \"headerTextTemplate\",\n    HeaderMath = \"headerMath\",\n    HeaderRollup = \"headerRollup\",\n    HeaderJoinStrings = \"headerJoinStrings\",\n    HeaderSplitString = \"headerSplitString\",\n    HeaderGeoDistance = \"headerGeoDistance\",\n    HeaderArray = \"headerArray\",\n    RowOwnerOverlay = \"rowOwnerOverlay\",\n    ProtectedColumnOverlay = \"protectedColumnOverlay\",\n}\n\n/** @category Columns */\nexport enum GridColumnMenuIcon {\n    Triangle = \"triangle\",\n    Dots = \"dots\",\n}\n\n/** @category Types */\nexport type CellArray = readonly (readonly GridCell[])[];\n\n/**\n * This type is used to specify the coordinates of\n * a cell or header within the dataset: positive row\n * numbers identify cells.\n *\n * - `-1`: Header\n * - `-2`: Group header\n * - `0 and higher`: Row index\n *\n * @category Types\n */\nexport type Item = readonly [col: number, row: number];\n\nexport interface BaseGridColumn {\n    readonly title: string;\n    readonly group?: string;\n    readonly icon?: GridColumnIcon | string;\n    readonly overlayIcon?: GridColumnIcon | string;\n    readonly menuIcon?: GridColumnMenuIcon | string;\n    readonly hasMenu?: boolean;\n    readonly grow?: number;\n    readonly style?: \"normal\" | \"highlight\";\n    readonly themeOverride?: Partial<Theme>;\n    readonly trailingRowOptions?: {\n        readonly hint?: string;\n        readonly addIcon?: string;\n        readonly targetColumn?: number | GridColumn;\n        readonly themeOverride?: Partial<Theme>;\n        readonly disabled?: boolean;\n    };\n}\n\n/** @category Columns */\nexport function isSizedGridColumn(c: GridColumn): c is SizedGridColumn {\n    return \"width\" in c && typeof c.width === \"number\";\n}\n\n/** @category Columns */\nexport interface SizedGridColumn extends BaseGridColumn {\n    readonly width: number;\n    readonly id?: string;\n}\n\n/** @category Columns */\nexport interface AutoGridColumn extends BaseGridColumn {\n    readonly id: string;\n}\n\n/** @category Types */\nexport async function resolveCellsThunk(thunk: GetCellsThunk | CellArray): Promise<CellArray> {\n    if (typeof thunk === \"object\") return thunk;\n    return await thunk();\n}\n\n/** @category Types */\nexport type GetCellsThunk = () => Promise<CellArray>;\n\n/** @category Columns */\nexport type GridColumn = SizedGridColumn | AutoGridColumn;\n\nexport type InnerColumnExtension = {\n    growOffset?: number;\n    rowMarker?: \"square\" | \"circle\";\n    rowMarkerChecked?: BooleanIndeterminate | boolean;\n};\n\n/** @category Columns */\nexport type InnerGridColumn = SizedGridColumn & InnerColumnExtension;\n\n// export type SizedGridColumn = Omit<GridColumn, \"width\"> & { readonly width: number };\n\n/** @category Cells */\nexport type ReadWriteGridCell = TextCell | NumberCell | MarkdownCell | UriCell | CustomCell | BooleanCell;\n\n/** @category Cells */\nexport type EditableGridCell = TextCell | ImageCell | BooleanCell | MarkdownCell | UriCell | NumberCell | CustomCell;\n\n/** @category Cells */\nexport type EditableGridCellKind = EditableGridCell[\"kind\"];\n\n// All EditableGridCells are inherently ValidatedGridCells, and this is more specific and thus more useful.\n/** @category Cells */\nexport function isEditableGridCell(cell: GridCell): cell is ValidatedGridCell {\n    if (\n        cell.kind === GridCellKind.Loading ||\n        cell.kind === GridCellKind.Bubble ||\n        cell.kind === GridCellKind.RowID ||\n        cell.kind === GridCellKind.Protected ||\n        cell.kind === GridCellKind.Drilldown\n    ) {\n        return false;\n    }\n\n    proveType<EditableGridCell>(cell);\n    return true;\n}\n\n/** @category Cells */\nexport function isTextEditableGridCell(cell: GridCell): cell is ReadWriteGridCell {\n    if (\n        cell.kind === GridCellKind.Loading ||\n        cell.kind === GridCellKind.Bubble ||\n        cell.kind === GridCellKind.RowID ||\n        cell.kind === GridCellKind.Protected ||\n        cell.kind === GridCellKind.Drilldown ||\n        cell.kind === GridCellKind.Boolean ||\n        cell.kind === GridCellKind.Image ||\n        cell.kind === GridCellKind.Custom\n    ) {\n        return false;\n    }\n\n    proveType<ReadWriteGridCell>(cell);\n    return true;\n}\n\n/** @category Cells */\nexport function isInnerOnlyCell(cell: InnerGridCell): cell is InnerOnlyGridCell {\n    return cell.kind === InnerGridCellKind.Marker || cell.kind === InnerGridCellKind.NewRow;\n}\n\n/** @category Cells */\nexport function isReadWriteCell(cell: GridCell): cell is ReadWriteGridCell {\n    if (!isEditableGridCell(cell) || cell.kind === GridCellKind.Image) return false;\n\n    if (\n        cell.kind === GridCellKind.Text ||\n        cell.kind === GridCellKind.Number ||\n        cell.kind === GridCellKind.Markdown ||\n        cell.kind === GridCellKind.Uri ||\n        cell.kind === GridCellKind.Custom ||\n        cell.kind === GridCellKind.Boolean\n    ) {\n        return cell.readonly !== true;\n    }\n    assertNever(cell, \"A cell was passed with an invalid kind\");\n}\n\n/** @category Cells */\nexport type GridCell =\n    | EditableGridCell\n    | BubbleCell\n    | RowIDCell\n    | LoadingCell\n    | ProtectedCell\n    | DrilldownCell\n    | CustomCell;\n\ntype InnerOnlyGridCell = NewRowCell | MarkerCell;\n/** @category Cells */\nexport type InnerGridCell = GridCell | InnerOnlyGridCell;\n\n/** @category Cells */\nexport type CellList = readonly Item[];\n\n/** @category Types */\nexport interface Rectangle {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n}\n\nexport function isRectangleEqual(a: Rectangle | undefined, b: Rectangle | undefined): boolean {\n    if (a === b) return true;\n    if (a === undefined || b === undefined) return false;\n    return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\nexport type CellActiviationBehavior = \"double-click\" | \"single-click\" | \"second-click\";\n\n/** @category Cells */\nexport interface BaseGridCell {\n    readonly allowOverlay: boolean;\n    readonly lastUpdated?: number;\n    readonly style?: \"normal\" | \"faded\";\n    readonly themeOverride?: Partial<Theme>;\n    readonly span?: readonly [start: number, end: number];\n    readonly contentAlign?: \"left\" | \"right\" | \"center\";\n    readonly cursor?: CSSProperties[\"cursor\"];\n    readonly copyData?: string;\n    readonly activationBehaviorOverride?: CellActiviationBehavior;\n}\n\n/** @category Cells */\nexport interface LoadingCell extends BaseGridCell {\n    readonly kind: GridCellKind.Loading;\n    readonly skeletonWidth?: number;\n    readonly skeletonHeight?: number;\n    readonly skeletonWidthVariability?: number;\n}\n\n/** @category Cells */\nexport interface ProtectedCell extends BaseGridCell {\n    readonly kind: GridCellKind.Protected;\n}\n\n/** @category Cells */\nexport interface TextCell extends BaseGridCell {\n    readonly kind: GridCellKind.Text;\n    readonly displayData: string;\n    readonly data: string;\n    readonly readonly?: boolean;\n    readonly allowWrapping?: boolean;\n    readonly hoverEffect?: boolean;\n}\n\n/** @category Cells */\nexport interface NumberCell extends BaseGridCell {\n    readonly kind: GridCellKind.Number;\n    readonly displayData: string;\n    readonly data: number | undefined;\n    readonly readonly?: boolean;\n    readonly fixedDecimals?: number;\n    readonly allowNegative?: boolean;\n    readonly thousandSeparator?: boolean | string;\n    readonly decimalSeparator?: string;\n}\n\n/** @category Cells */\nexport interface ImageCell extends BaseGridCell {\n    readonly kind: GridCellKind.Image;\n    readonly data: string[];\n    readonly rounding?: number;\n    readonly displayData?: string[]; // used for small images for faster scrolling\n    readonly readonly?: boolean;\n}\n\n/** @category Cells */\nexport interface BubbleCell extends BaseGridCell {\n    readonly kind: GridCellKind.Bubble;\n    readonly data: string[];\n}\n\n/** @category Renderers */\nexport type SelectionRange = number | readonly [number, number];\n\n/** @category Renderers */\nexport type ProvideEditorComponent<T extends InnerGridCell> = React.FunctionComponent<{\n    readonly onChange: (newValue: T) => void;\n    readonly onFinishedEditing: (newValue?: T, movement?: readonly [-1 | 0 | 1, -1 | 0 | 1]) => void;\n    readonly isHighlighted: boolean;\n    readonly value: T;\n    readonly initialValue?: string;\n    readonly validatedSelection?: SelectionRange;\n    readonly imageEditorOverride?: ImageEditorType;\n    readonly markdownDivCreateNode?: (content: string) => DocumentFragment;\n    readonly target: Rectangle;\n    readonly forceEditMode: boolean;\n    readonly isValid?: boolean;\n    readonly theme: Theme;\n}>;\n\ntype ObjectEditorCallbackResult<T extends InnerGridCell> = {\n    editor: ProvideEditorComponent<T>;\n    deletedValue?: (toDelete: T) => T;\n    styleOverride?: CSSProperties;\n    disablePadding?: boolean;\n    disableStyling?: boolean;\n};\n\n/** @category Renderers */\nexport type ProvideEditorCallbackResult<T extends InnerGridCell> =\n    | (ProvideEditorComponent<T> & {\n          disablePadding?: boolean;\n          disableStyling?: boolean;\n      })\n    | ObjectEditorCallbackResult<T>\n    | undefined;\n\n/** @category Renderers */\nexport function isObjectEditorCallbackResult<T extends InnerGridCell>(\n    obj: ProvideEditorCallbackResult<T>\n): obj is ObjectEditorCallbackResult<T> {\n    return has(obj, \"editor\");\n}\n\n/** @category Renderers */\nexport type ProvideEditorCallback<T extends InnerGridCell> = (cell: T) => ProvideEditorCallbackResult<T>;\n\n/** @category Cells */\nexport type ValidatedGridCell = EditableGridCell & {\n    selectionRange?: SelectionRange;\n};\n\n/** @category Cells */\nexport interface CustomCell<T extends {} = {}> extends BaseGridCell {\n    readonly kind: GridCellKind.Custom;\n    readonly data: T;\n    readonly copyData: string;\n    readonly readonly?: boolean;\n}\n\n/** @category Cells */\nexport interface DrilldownCellData {\n    readonly text: string;\n    readonly img?: string;\n}\n\n/** @category Cells */\nexport interface DrilldownCell extends BaseGridCell {\n    readonly kind: GridCellKind.Drilldown;\n    readonly data: readonly DrilldownCellData[];\n}\n\n/** @category Cells */\nexport interface BooleanCell extends BaseGridCell {\n    readonly kind: GridCellKind.Boolean;\n    readonly data: boolean | BooleanEmpty | BooleanIndeterminate;\n    readonly readonly?: boolean;\n    readonly allowOverlay: false;\n    readonly maxSize?: number;\n}\n\n// Can be written more concisely, not easier to read if more concise.\n/** @category Cells */\nexport function booleanCellIsEditable(cell: BooleanCell): boolean {\n    return !(cell.readonly ?? false);\n}\n\n/** @category Cells */\nexport interface RowIDCell extends BaseGridCell {\n    readonly kind: GridCellKind.RowID;\n    readonly data: string;\n    readonly readonly?: boolean;\n}\n\n/** @category Cells */\nexport interface MarkdownCell extends BaseGridCell {\n    readonly kind: GridCellKind.Markdown;\n    readonly data: string;\n    readonly readonly?: boolean;\n}\n\n/** @category Cells */\nexport interface UriCell extends BaseGridCell {\n    readonly kind: GridCellKind.Uri;\n    readonly data: string;\n    readonly displayData?: string;\n    readonly readonly?: boolean;\n    readonly onClickUri?: (args: BaseGridMouseEventArgs & { readonly preventDefault: () => void }) => void;\n    readonly hoverEffect?: boolean;\n}\n\n/** @category Cells */\nexport enum InnerGridCellKind {\n    NewRow = \"new-row\",\n    Marker = \"marker\",\n}\n\nexport type EditListItem = { location: Item; value: EditableGridCell };\n\n/** @category Cells */\nexport interface NewRowCell extends BaseGridCell {\n    readonly kind: InnerGridCellKind.NewRow;\n    readonly hint: string;\n    readonly allowOverlay: false;\n    readonly icon?: string;\n}\n\n/** @category Cells */\nexport interface MarkerCell extends BaseGridCell {\n    readonly kind: InnerGridCellKind.Marker;\n    readonly allowOverlay: false;\n    readonly row: number;\n    readonly drawHandle: boolean;\n    readonly checked: boolean;\n    readonly checkboxStyle: \"square\" | \"circle\";\n    readonly markerKind: \"checkbox\" | \"number\" | \"both\" | \"checkbox-visible\";\n}\n\n/** @category Selection */\nexport type Slice = [start: number, end: number];\n/** @category Selection */\nexport type CompactSelectionRanges = readonly Slice[];\n\nexport type FillHandleDirection = \"horizontal\" | \"vertical\" | \"orthogonal\" | \"any\";\n\nfunction mergeRanges(input: CompactSelectionRanges) {\n    if (input.length === 0) {\n        return [];\n    }\n    const ranges = [...input];\n\n    const stack: [number, number][] = [];\n\n    ranges.sort(function (a, b) {\n        return a[0] - b[0];\n    });\n\n    stack.push([...ranges[0]]);\n\n    for (const range of ranges.slice(1)) {\n        const top = stack[stack.length - 1];\n\n        if (top[1] < range[0]) {\n            stack.push([...range]);\n        } else if (top[1] < range[1]) {\n            top[1] = range[1];\n        }\n    }\n\n    return stack;\n}\n\nlet emptyCompactSelection: CompactSelection | undefined;\n\n/** @category Selection */\nexport class CompactSelection {\n    private constructor(private readonly items: CompactSelectionRanges) {}\n\n    static empty = (): CompactSelection => {\n        return emptyCompactSelection ?? (emptyCompactSelection = new CompactSelection([]));\n    };\n\n    static fromSingleSelection = (selection: number | Slice) => {\n        return CompactSelection.empty().add(selection);\n    };\n\n    public offset(amount: number): CompactSelection {\n        if (amount === 0) return this;\n        const newItems = this.items.map(x => [x[0] + amount, x[1] + amount] as Slice);\n        return new CompactSelection(newItems);\n    }\n\n    public add(selection: number | Slice): CompactSelection {\n        const slice: Slice = typeof selection === \"number\" ? [selection, selection + 1] : selection;\n\n        const newItems = mergeRanges([...this.items, slice]);\n\n        return new CompactSelection(newItems);\n    }\n\n    public remove(selection: number | Slice): CompactSelection {\n        const items = [...this.items];\n\n        const selMin = typeof selection === \"number\" ? selection : selection[0];\n        const selMax = typeof selection === \"number\" ? selection + 1 : selection[1];\n\n        for (const [i, slice] of items.entries()) {\n            const [start, end] = slice;\n            // Remove part of slice that intersects removed selection.\n            if (start <= selMax && selMin <= end) {\n                const toAdd: Slice[] = [];\n                if (start < selMin) {\n                    toAdd.push([start, selMin]);\n                }\n                if (selMax < end) {\n                    toAdd.push([selMax, end]);\n                }\n                items.splice(i, 1, ...toAdd);\n            }\n        }\n        return new CompactSelection(items);\n    }\n\n    public first(): number | undefined {\n        if (this.items.length === 0) return undefined;\n        return this.items[0][0];\n    }\n\n    public last(): number | undefined {\n        if (this.items.length === 0) return undefined;\n        return this.items.slice(-1)[0][1] - 1;\n    }\n\n    public hasIndex(index: number): boolean {\n        for (let i = 0; i < this.items.length; i++) {\n            const [start, end] = this.items[i];\n            if (index >= start && index < end) return true;\n        }\n        return false;\n    }\n\n    public hasAll(index: Slice): boolean {\n        for (let x = index[0]; x < index[1]; x++) {\n            if (!this.hasIndex(x)) return false;\n        }\n        return true;\n    }\n\n    public some(predicate: (index: number) => boolean): boolean {\n        for (const i of this) {\n            if (predicate(i)) return true;\n        }\n        return false;\n    }\n\n    public equals(other: CompactSelection): boolean {\n        if (other === this) return true;\n\n        if (other.items.length !== this.items.length) return false;\n\n        for (let i = 0; i < this.items.length; i++) {\n            const left = other.items[i];\n            const right = this.items[i];\n\n            if (left[0] !== right[0] || left[1] !== right[1]) return false;\n        }\n\n        return true;\n    }\n\n    // Really old JS wont have access to the iterator and babel will stop people using it\n    // when trying to support browsers so old we don't support them anyway. What goes on\n    // between an engineer and their bundler in the privacy of their CI server is none of\n    // my business anyway.\n    public toArray(): number[] {\n        const result: number[] = [];\n        for (const [start, end] of this.items) {\n            for (let x = start; x < end; x++) {\n                result.push(x);\n            }\n        }\n        return result;\n    }\n\n    get length(): number {\n        let len = 0;\n        for (const [start, end] of this.items) {\n            len += end - start;\n        }\n\n        return len;\n    }\n\n    *[Symbol.iterator]() {\n        for (const [start, end] of this.items) {\n            for (let x = start; x < end; x++) {\n                yield x;\n            }\n        }\n    }\n}\n","import type { Theme } from \"../../common/styles.js\";\nimport type { SpriteProps } from \"../../common/utils.js\";\nimport { type HeaderIconMap } from \"./sprites.js\";\n\n/**\n * A known icon identifier\n *\n * @category Columns\n */\nexport type HeaderIcon = keyof HeaderIconMap;\n\n/**\n * A method that produces an SVG array from\n * an SVG icon configuration.\n *\n * @category Columns\n */\nexport type Sprite = (props: SpriteProps) => string;\n\n/**\n * A method that maps from icon names to functions\n * that return SVG strings.\n *\n * @category Columns\n */\nexport type SpriteMap = Record<string | HeaderIcon, Sprite>;\n\n/** @category Columns */\nexport type SpriteVariant = \"normal\" | \"selected\" | \"special\";\n\nfunction getColors(variant: SpriteVariant, theme: Theme): readonly [string, string] {\n    if (variant === \"normal\") {\n        return [theme.bgIconHeader, theme.fgIconHeader];\n    } else if (variant === \"selected\") {\n        return [\"white\", theme.accentColor];\n    } else {\n        return [theme.accentColor, theme.bgHeader];\n    }\n}\n\n/** @category Columns */\nexport class SpriteManager {\n    private spriteMap: Map<string, HTMLCanvasElement> = new Map();\n    private headerIcons: SpriteMap;\n    private inFlight = 0;\n\n    constructor(\n        headerIcons: SpriteMap | undefined,\n        private onSettled: () => void\n    ) {\n        this.headerIcons = headerIcons ?? {};\n    }\n\n    public drawSprite(\n        sprite: HeaderIcon | string,\n        variant: SpriteVariant,\n        ctx: CanvasRenderingContext2D,\n        x: number,\n        y: number,\n        size: number,\n        theme: Theme,\n        alpha: number = 1\n    ) {\n        const [bgColor, fgColor] = getColors(variant, theme);\n        const rSize = size * Math.ceil(window.devicePixelRatio);\n        const key = `${bgColor}_${fgColor}_${rSize}_${sprite}`;\n\n        let spriteCanvas = this.spriteMap.get(key);\n        if (spriteCanvas === undefined) {\n            const spriteCb = this.headerIcons[sprite];\n\n            if (spriteCb === undefined) return;\n\n            spriteCanvas = document.createElement(\"canvas\");\n            const spriteCtx = spriteCanvas.getContext(\"2d\");\n\n            if (spriteCtx === null) return;\n\n            const imgSource = new Image();\n            imgSource.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(spriteCb({ fgColor, bgColor }))}`;\n            this.spriteMap.set(key, spriteCanvas);\n            const promise: Promise<void> | undefined = imgSource.decode();\n\n            if (promise === undefined) return;\n\n            this.inFlight++;\n            promise\n                .then(() => {\n                    spriteCtx.drawImage(imgSource, 0, 0, rSize, rSize);\n                })\n                .finally(() => {\n                    this.inFlight--;\n                    if (this.inFlight === 0) {\n                        this.onSettled();\n                    }\n                });\n        } else {\n            if (alpha < 1) {\n                ctx.globalAlpha = alpha;\n            }\n            ctx.drawImage(spriteCanvas, 0, 0, rSize, rSize, x, y, size, size);\n            if (alpha < 1) {\n                ctx.globalAlpha = 1;\n            }\n        }\n    }\n}\n","import { type Item, type Rectangle } from \"../data-grid-types.js\";\nimport { type MappedGridColumn, isGroupEqual } from \"./data-grid-lib.js\";\n\nexport function getSkipPoint(drawRegions: readonly Rectangle[]): number | undefined {\n    if (drawRegions.length === 0) return undefined;\n    let drawRegionsLowestY: number | undefined;\n    for (const dr of drawRegions) {\n        drawRegionsLowestY = Math.min(drawRegionsLowestY ?? dr.y, dr.y);\n    }\n}\n\nexport type WalkRowsCallback = (\n    drawY: number,\n    row: number,\n    rowHeight: number,\n    isSticky: boolean,\n    isTrailingRow: boolean\n) => boolean | void;\n\nexport function walkRowsInCol(\n    startRow: number,\n    drawY: number,\n    height: number,\n    rows: number,\n    getRowHeight: (row: number) => number,\n    freezeTrailingRows: number,\n    hasAppendRow: boolean,\n    skipToY: number | undefined,\n    cb: WalkRowsCallback\n): void {\n    skipToY = skipToY ?? drawY;\n    let y = drawY;\n    let row = startRow;\n    const rowEnd = rows - freezeTrailingRows;\n    let didBreak = false;\n    while (y < height && row < rowEnd) {\n        const rh = getRowHeight(row);\n        if (y + rh > skipToY && cb(y, row, rh, false, hasAppendRow && row === rows - 1) === true) {\n            didBreak = true;\n            break;\n        }\n        y += rh;\n        row++;\n    }\n\n    if (didBreak) return;\n\n    y = height;\n    for (let fr = 0; fr < freezeTrailingRows; fr++) {\n        row = rows - 1 - fr;\n        const rh = getRowHeight(row);\n        y -= rh;\n        cb(y, row, rh, true, hasAppendRow && row === rows - 1);\n    }\n}\n\nexport type WalkColsCallback = (\n    col: MappedGridColumn,\n    drawX: number,\n    drawY: number,\n    clipX: number,\n    startRow: number\n) => boolean | void;\n\nexport function walkColumns(\n    effectiveCols: readonly MappedGridColumn[],\n    cellYOffset: number,\n    translateX: number,\n    translateY: number,\n    totalHeaderHeight: number,\n    cb: WalkColsCallback\n): void {\n    let x = 0;\n    let clipX = 0; // this tracks the total width of sticky cols\n    const drawY = totalHeaderHeight + translateY;\n    for (const c of effectiveCols) {\n        const drawX = c.sticky ? clipX : x + translateX;\n        if (cb(c, drawX, drawY, c.sticky ? 0 : clipX + 1, cellYOffset) === true) {\n            break;\n        }\n\n        x += c.width;\n        clipX += c.sticky ? c.width : 0;\n    }\n}\n\n// this should not be item, it is [startInclusive, endInclusive]\nexport type WalkGroupsCallback = (\n    colSpan: Item,\n    group: string,\n    x: number,\n    y: number,\n    width: number,\n    height: number\n) => void;\n\nexport function walkGroups(\n    effectiveCols: readonly MappedGridColumn[],\n    width: number,\n    translateX: number,\n    groupHeaderHeight: number,\n    cb: WalkGroupsCallback\n): void {\n    let x = 0;\n    let clipX = 0;\n    for (let index = 0; index < effectiveCols.length; index++) {\n        const startCol = effectiveCols[index];\n\n        let end = index + 1;\n        let boxWidth = startCol.width;\n        if (startCol.sticky) {\n            clipX += boxWidth;\n        }\n        while (\n            end < effectiveCols.length &&\n            isGroupEqual(effectiveCols[end].group, startCol.group) &&\n            effectiveCols[end].sticky === effectiveCols[index].sticky\n        ) {\n            const endCol = effectiveCols[end];\n            boxWidth += endCol.width;\n            end++;\n            index++;\n            if (endCol.sticky) {\n                clipX += endCol.width;\n            }\n        }\n\n        const t = startCol.sticky ? 0 : translateX;\n        const localX = x + t;\n        const delta = startCol.sticky ? 0 : Math.max(0, clipX - localX);\n        const w = Math.min(boxWidth - delta, width - (localX + delta));\n        cb(\n            [startCol.sourceIndex, effectiveCols[end - 1].sourceIndex],\n            startCol.group ?? \"\",\n            localX + delta,\n            0,\n            w,\n            groupHeaderHeight\n        );\n\n        x += boxWidth;\n    }\n}\n\nexport function getSpanBounds(\n    span: Item,\n    cellX: number,\n    cellY: number,\n    cellW: number,\n    cellH: number,\n    column: MappedGridColumn,\n    allColumns: readonly MappedGridColumn[]\n): [Rectangle | undefined, Rectangle | undefined] {\n    const [startCol, endCol] = span;\n\n    let frozenRect: Rectangle | undefined;\n    let contentRect: Rectangle | undefined;\n\n    const firstNonSticky = allColumns.find(x => !x.sticky)?.sourceIndex ?? 0;\n    if (endCol > firstNonSticky) {\n        const renderFromCol = Math.max(startCol, firstNonSticky);\n        let tempX = cellX;\n        let tempW = cellW;\n        for (let x = column.sourceIndex - 1; x >= renderFromCol; x--) {\n            tempX -= allColumns[x].width;\n            tempW += allColumns[x].width;\n        }\n        for (let x = column.sourceIndex + 1; x <= endCol; x++) {\n            tempW += allColumns[x].width;\n        }\n        contentRect = {\n            x: tempX,\n            y: cellY,\n            width: tempW,\n            height: cellH,\n        };\n    }\n\n    if (firstNonSticky > startCol) {\n        const renderToCol = Math.min(endCol, firstNonSticky - 1);\n        let tempX = cellX;\n        let tempW = cellW;\n        for (let x = column.sourceIndex - 1; x >= startCol; x--) {\n            tempX -= allColumns[x].width;\n            tempW += allColumns[x].width;\n        }\n        for (let x = column.sourceIndex + 1; x <= renderToCol; x++) {\n            tempW += allColumns[x].width;\n        }\n        frozenRect = {\n            x: tempX,\n            y: cellY,\n            width: tempW,\n            height: cellH,\n        };\n    }\n\n    return [frozenRect, contentRect];\n}\n","/* eslint-disable sonarjs/no-duplicate-string */\n/* eslint-disable unicorn/no-for-loop */\nimport {\n    type GridSelection,\n    type InnerGridCell,\n    type Rectangle,\n    CompactSelection,\n    GridColumnIcon,\n    type Item,\n    type CellList,\n    GridCellKind,\n    type DrawCellCallback,\n    isInnerOnlyCell,\n    type GridCell,\n} from \"../data-grid-types.js\";\nimport { CellSet } from \"../cell-set.js\";\nimport type { HoverValues } from \"../animation-manager.js\";\nimport {\n    type MappedGridColumn,\n    cellIsSelected,\n    cellIsInRange,\n    getFreezeTrailingHeight,\n    drawLastUpdateUnderlay,\n} from \"./data-grid-lib.js\";\nimport type { SpriteManager } from \"../data-grid-sprites.js\";\nimport { mergeAndRealizeTheme, type FullTheme, type Theme } from \"../../../common/styles.js\";\nimport { blend } from \"../color-parser.js\";\nimport type { DrawArgs, DrawStateTuple, GetCellRendererCallback, PrepResult } from \"../../../cells/cell-types.js\";\nimport type { HoverInfo } from \"./draw-grid-arg.js\";\nimport type { EnqueueCallback } from \"../use-animation-queue.js\";\nimport type { RenderStateProvider } from \"../../../common/render-state-provider.js\";\nimport type { ImageWindowLoader } from \"../image-window-loader-interface.js\";\nimport { intersectRect } from \"../../../common/math.js\";\nimport type { GridMouseGroupHeaderEventArgs } from \"../event-args.js\";\nimport { getSkipPoint, getSpanBounds, walkColumns, walkRowsInCol } from \"./data-grid-render.walk.js\";\n\nconst loadingCell: InnerGridCell = {\n    kind: GridCellKind.Loading,\n    allowOverlay: false,\n};\n\nexport interface GroupDetails {\n    readonly name: string;\n    readonly icon?: string;\n    readonly overrideTheme?: Partial<Theme>;\n    readonly actions?: readonly {\n        readonly title: string;\n        readonly onClick: (e: GridMouseGroupHeaderEventArgs) => void;\n        readonly icon: GridColumnIcon | string;\n    }[];\n}\n\nexport type GroupDetailsCallback = (groupName: string) => GroupDetails;\nexport type GetRowThemeCallback = (row: number) => Partial<Theme> | undefined;\n\nexport interface Highlight {\n    readonly color: string;\n    readonly range: Rectangle;\n    readonly style?: \"dashed\" | \"solid\" | \"no-outline\" | \"solid-outline\";\n}\n\n// preppable items:\n// - font\n// - fillStyle\n\n// Column draw loop prep cycle\n// - Prep item\n// - Prep sets props\n// - Prep returns list of cared about props\n// - Draw item\n// - Loop may set some items, if present in args list, set undefined\n// - Prep next item, giving previous result\n// - If next item type is different, de-prep\n// - Result per column\nexport function drawCells(\n    ctx: CanvasRenderingContext2D,\n    effectiveColumns: readonly MappedGridColumn[],\n    allColumns: readonly MappedGridColumn[],\n    height: number,\n    totalHeaderHeight: number,\n    translateX: number,\n    translateY: number,\n    cellYOffset: number,\n    rows: number,\n    getRowHeight: (row: number) => number,\n    getCellContent: (cell: Item) => InnerGridCell,\n    getGroupDetails: GroupDetailsCallback,\n    getRowThemeOverride: GetRowThemeCallback | undefined,\n    disabledRows: CompactSelection,\n    isFocused: boolean,\n    drawFocus: boolean,\n    freezeTrailingRows: number,\n    hasAppendRow: boolean,\n    drawRegions: readonly Rectangle[],\n    damage: CellSet | undefined,\n    selection: GridSelection,\n    prelightCells: CellList | undefined,\n    highlightRegions: readonly Highlight[] | undefined,\n    imageLoader: ImageWindowLoader,\n    spriteManager: SpriteManager,\n    hoverValues: HoverValues,\n    hoverInfo: HoverInfo | undefined,\n    drawCellCallback: DrawCellCallback | undefined,\n    hyperWrapping: boolean,\n    outerTheme: FullTheme,\n    enqueue: EnqueueCallback,\n    renderStateProvider: RenderStateProvider,\n    getCellRenderer: GetCellRendererCallback,\n    overrideCursor: (cursor: React.CSSProperties[\"cursor\"]) => void,\n    minimumCellWidth: number\n): Rectangle[] | undefined {\n    let toDraw = damage?.size ?? Number.MAX_SAFE_INTEGER;\n    const frameTime = performance.now();\n    let font = outerTheme.baseFontFull;\n    ctx.font = font;\n    const deprepArg = { ctx };\n    const cellIndex: [number, number] = [0, 0];\n    const freezeTrailingRowsHeight =\n        freezeTrailingRows > 0 ? getFreezeTrailingHeight(rows, freezeTrailingRows, getRowHeight) : 0;\n    let result: Rectangle[] | undefined;\n    let handledSpans: Set<string> | undefined = undefined;\n\n    const skipPoint = getSkipPoint(drawRegions);\n\n    walkColumns(\n        effectiveColumns,\n        cellYOffset,\n        translateX,\n        translateY,\n        totalHeaderHeight,\n        (c, drawX, colDrawStartY, clipX, startRow) => {\n            const diff = Math.max(0, clipX - drawX);\n\n            const colDrawX = drawX + diff;\n            const colDrawY = totalHeaderHeight + 1;\n            const colWidth = c.width - diff;\n            const colHeight = height - totalHeaderHeight - 1;\n            if (drawRegions.length > 0) {\n                let found = false;\n                for (let i = 0; i < drawRegions.length; i++) {\n                    const dr = drawRegions[i];\n                    if (intersectRect(colDrawX, colDrawY, colWidth, colHeight, dr.x, dr.y, dr.width, dr.height)) {\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) return;\n            }\n\n            const reclip = () => {\n                ctx.save();\n                ctx.beginPath();\n                ctx.rect(colDrawX, colDrawY, colWidth, colHeight);\n                ctx.clip();\n            };\n\n            const colSelected = selection.columns.hasIndex(c.sourceIndex);\n\n            const groupTheme = getGroupDetails(c.group ?? \"\").overrideTheme;\n            const colTheme =\n                c.themeOverride === undefined && groupTheme === undefined\n                    ? outerTheme\n                    : mergeAndRealizeTheme(outerTheme, groupTheme, c.themeOverride);\n            const colFont = colTheme.baseFontFull;\n            if (colFont !== font) {\n                font = colFont;\n                ctx.font = colFont;\n            }\n            reclip();\n            let prepResult: PrepResult | undefined = undefined;\n\n            walkRowsInCol(\n                startRow,\n                colDrawStartY,\n                height,\n                rows,\n                getRowHeight,\n                freezeTrailingRows,\n                hasAppendRow,\n                skipPoint,\n                (drawY, row, rh, isSticky, isTrailingRow) => {\n                    if (row < 0) return;\n\n                    cellIndex[0] = c.sourceIndex;\n                    cellIndex[1] = row;\n                    // if (damage !== undefined && !damage.some(d => d[0] === c.sourceIndex && d[1] === row)) {\n                    //     return;\n                    // }\n                    // if (\n                    //     drawRegions.length > 0 &&\n                    //     !drawRegions.some(dr => intersectRect(drawX, drawY, c.width, rh, dr.x, dr.y, dr.width, dr.height))\n                    // ) {\n                    //     return;\n                    // }\n\n                    // These are dumb versions of the above. I cannot for the life of believe that this matters but this is\n                    // the tightest part of the draw loop and the allocations above actually has a very measurable impact\n                    // on performance. For the love of all that is unholy please keep checking this again in the future.\n                    // As soon as this doesn't have any impact of note go back to the saner looking code. The smoke test\n                    // here is to scroll to the bottom of a test case first, then scroll back up while profiling and see\n                    // how many major GC collections you get. These allocate a lot of objects.\n                    if (damage !== undefined && !damage.has(cellIndex)) {\n                        return;\n                    }\n                    if (drawRegions.length > 0) {\n                        let found = false;\n                        for (let i = 0; i < drawRegions.length; i++) {\n                            const dr = drawRegions[i];\n                            if (intersectRect(drawX, drawY, c.width, rh, dr.x, dr.y, dr.width, dr.height)) {\n                                found = true;\n                                break;\n                            }\n                        }\n                        if (!found) return;\n                    }\n\n                    const rowSelected = selection.rows.hasIndex(row);\n                    const rowDisabled = disabledRows.hasIndex(row);\n\n                    const cell: InnerGridCell = row < rows ? getCellContent(cellIndex) : loadingCell;\n\n                    let cellX = drawX;\n                    let cellWidth = c.width;\n                    let drawingSpan = false;\n                    let skipContents = false;\n                    if (cell.span !== undefined) {\n                        const [startCol, endCol] = cell.span;\n                        const spanKey = `${row},${startCol},${endCol},${c.sticky}`; //alloc\n                        if (handledSpans === undefined) handledSpans = new Set();\n                        if (!handledSpans.has(spanKey)) {\n                            const areas = getSpanBounds(cell.span, drawX, drawY, c.width, rh, c, allColumns);\n                            const area = c.sticky ? areas[0] : areas[1];\n                            if (!c.sticky && areas[0] !== undefined) {\n                                skipContents = true;\n                            }\n                            if (area !== undefined) {\n                                cellX = area.x;\n                                cellWidth = area.width;\n                                handledSpans.add(spanKey);\n                                ctx.restore();\n                                prepResult = undefined;\n                                ctx.save();\n                                ctx.beginPath();\n                                const d = Math.max(0, clipX - area.x);\n                                ctx.rect(area.x + d, drawY, area.width - d, rh);\n                                if (result === undefined) {\n                                    result = [];\n                                }\n                                result.push({\n                                    x: area.x + d,\n                                    y: drawY,\n                                    width: area.width - d,\n                                    height: rh,\n                                });\n                                ctx.clip();\n                                drawingSpan = true;\n                            }\n                        } else {\n                            toDraw--;\n                            return;\n                        }\n                    }\n\n                    const rowTheme = getRowThemeOverride?.(row);\n                    const trailingTheme =\n                        isTrailingRow && c.trailingRowOptions?.themeOverride !== undefined\n                            ? c.trailingRowOptions?.themeOverride\n                            : undefined;\n                    const theme =\n                        cell.themeOverride === undefined && rowTheme === undefined && trailingTheme === undefined\n                            ? colTheme\n                            : mergeAndRealizeTheme(colTheme, rowTheme, trailingTheme, cell.themeOverride); //alloc\n\n                    ctx.beginPath();\n\n                    const isSelected = cellIsSelected(cellIndex, cell, selection);\n                    let accentCount = cellIsInRange(cellIndex, cell, selection, drawFocus);\n                    const spanIsHighlighted =\n                        cell.span !== undefined &&\n                        selection.columns.some(\n                            index => cell.span !== undefined && index >= cell.span[0] && index <= cell.span[1] //alloc\n                        );\n                    if (isSelected && !isFocused && drawFocus) {\n                        accentCount = 0;\n                    } else if (isSelected && drawFocus) {\n                        accentCount = Math.max(accentCount, 1);\n                    }\n                    if (spanIsHighlighted) {\n                        accentCount++;\n                    }\n                    if (!isSelected) {\n                        if (rowSelected) accentCount++;\n                        if (colSelected && !isTrailingRow) accentCount++;\n                    }\n\n                    const bgCell = cell.kind === GridCellKind.Protected ? theme.bgCellMedium : theme.bgCell;\n                    let fill: string | undefined;\n                    if (isSticky || bgCell !== outerTheme.bgCell) {\n                        fill = blend(bgCell, fill);\n                    }\n\n                    if (accentCount > 0 || rowDisabled) {\n                        if (rowDisabled) {\n                            fill = blend(theme.bgHeader, fill);\n                        }\n                        for (let i = 0; i < accentCount; i++) {\n                            fill = blend(theme.accentLight, fill);\n                        }\n                    } else if (prelightCells !== undefined) {\n                        for (const pre of prelightCells) {\n                            if (pre[0] === c.sourceIndex && pre[1] === row) {\n                                fill = blend(theme.bgSearchResult, fill);\n                                break;\n                            }\n                        }\n                    }\n\n                    if (highlightRegions !== undefined) {\n                        for (let i = 0; i < highlightRegions.length; i++) {\n                            const region = highlightRegions[i];\n                            const r = region.range;\n                            if (\n                                region.style !== \"solid-outline\" &&\n                                r.x <= c.sourceIndex &&\n                                c.sourceIndex < r.x + r.width &&\n                                r.y <= row &&\n                                row < r.y + r.height\n                            ) {\n                                fill = blend(region.color, fill);\n                            }\n                        }\n                    }\n\n                    let didDamageClip = false;\n                    if (damage !== undefined) {\n                        // we want to clip each cell individually rather than form a super clip region. The reason for\n                        // this is passing too many clip regions to the GPU at once can cause a performance hit. This\n                        // allows us to damage a large number of cells at once without issue.\n                        const top = drawY + 1;\n                        const bottom = isSticky\n                            ? top + rh - 1\n                            : Math.min(top + rh - 1, height - freezeTrailingRowsHeight);\n                        const h = bottom - top;\n\n                        // however, not clipping at all is even better. We want to clip if we are the left most col\n                        // or overlapping the bottom clip area.\n                        if (h !== rh - 1 || cellX + 1 <= clipX) {\n                            didDamageClip = true;\n                            ctx.save();\n                            ctx.beginPath();\n                            ctx.rect(cellX + 1, top, cellWidth - 1, h);\n                            ctx.clip();\n                        }\n\n                        // we also need to make sure to wipe the contents. Since the fill can do that lets repurpose\n                        // that call to avoid an extra draw call.\n                        fill = fill === undefined ? theme.bgCell : blend(fill, theme.bgCell);\n                    }\n\n                    const isLastColumn = c.sourceIndex === allColumns.length - 1;\n                    const isLastRow = row === rows - 1;\n                    if (fill !== undefined) {\n                        ctx.fillStyle = fill;\n                        if (prepResult !== undefined) {\n                            prepResult.fillStyle = fill;\n                        }\n                        if (damage !== undefined) {\n                            // this accounts for the fill handle outline being drawn inset on these cells. We do this\n                            // because technically the bottom right corner of the outline are on other cells.\n                            ctx.fillRect(\n                                cellX + 1,\n                                drawY + 1,\n                                cellWidth - (isLastColumn ? 2 : 1),\n                                rh - (isLastRow ? 2 : 1)\n                            );\n                        } else {\n                            ctx.fillRect(cellX, drawY, cellWidth, rh);\n                        }\n                    }\n\n                    if (cell.style === \"faded\") {\n                        ctx.globalAlpha = 0.6;\n                    }\n\n                    let hoverValue: HoverValues[number] | undefined;\n                    for (let i = 0; i < hoverValues.length; i++) {\n                        const hv = hoverValues[i];\n                        if (hv.item[0] === c.sourceIndex && hv.item[1] === row) {\n                            hoverValue = hv;\n                            break;\n                        }\n                    }\n\n                    if (cellWidth > minimumCellWidth && !skipContents) {\n                        const cellFont = theme.baseFontFull;\n                        if (cellFont !== font) {\n                            ctx.font = cellFont;\n                            font = cellFont;\n                        }\n                        prepResult = drawCell(\n                            ctx,\n                            cell,\n                            c.sourceIndex,\n                            row,\n                            isLastColumn,\n                            isLastRow,\n                            cellX,\n                            drawY,\n                            cellWidth,\n                            rh,\n                            accentCount > 0,\n                            theme,\n                            fill ?? theme.bgCell,\n                            imageLoader,\n                            spriteManager,\n                            hoverValue?.hoverAmount ?? 0,\n                            hoverInfo,\n                            hyperWrapping,\n                            frameTime,\n                            drawCellCallback,\n                            prepResult,\n                            enqueue,\n                            renderStateProvider,\n                            getCellRenderer,\n                            overrideCursor\n                        );\n                    }\n\n                    if (didDamageClip) {\n                        ctx.restore();\n                    }\n\n                    if (cell.style === \"faded\") {\n                        ctx.globalAlpha = 1;\n                    }\n\n                    toDraw--;\n                    if (drawingSpan) {\n                        ctx.restore();\n                        prepResult?.deprep?.(deprepArg);\n                        prepResult = undefined;\n                        reclip();\n                        font = colFont;\n                        ctx.font = colFont;\n                    }\n\n                    return toDraw <= 0;\n                }\n            );\n\n            ctx.restore();\n            return toDraw <= 0;\n        }\n    );\n    return result;\n}\n\nconst allocatedItem: [number, number] = [0, 0];\nconst reusableRect = { x: 0, y: 0, width: 0, height: 0 };\nconst drawState: DrawStateTuple = [undefined, () => undefined];\n\nlet animationFrameRequested = false;\nfunction animRequest(): void {\n    animationFrameRequested = true;\n}\n\nexport function drawCell(\n    ctx: CanvasRenderingContext2D,\n    cell: InnerGridCell,\n    col: number,\n    row: number,\n    isLastCol: boolean,\n    isLastRow: boolean,\n    x: number,\n    y: number,\n    w: number,\n    h: number,\n    highlighted: boolean,\n    theme: FullTheme,\n    finalCellFillColor: string,\n    imageLoader: ImageWindowLoader,\n    spriteManager: SpriteManager,\n    hoverAmount: number,\n    hoverInfo: HoverInfo | undefined,\n    hyperWrapping: boolean,\n    frameTime: number,\n    drawCellCallback: DrawCellCallback | undefined,\n    lastPrep: PrepResult | undefined,\n    enqueue: EnqueueCallback | undefined,\n    renderStateProvider: RenderStateProvider,\n    getCellRenderer: GetCellRendererCallback,\n    overrideCursor: (cursor: React.CSSProperties[\"cursor\"]) => void\n): PrepResult | undefined {\n    let hoverX: number | undefined;\n    let hoverY: number | undefined;\n    if (hoverInfo !== undefined && hoverInfo[0][0] === col && hoverInfo[0][1] === row) {\n        hoverX = hoverInfo[1][0];\n        hoverY = hoverInfo[1][1];\n    }\n    let result: PrepResult | undefined = undefined;\n\n    allocatedItem[0] = col;\n    allocatedItem[1] = row;\n\n    reusableRect.x = x;\n    reusableRect.y = y;\n    reusableRect.width = w;\n    reusableRect.height = h;\n\n    drawState[0] = renderStateProvider.getValue(allocatedItem);\n    drawState[1] = (val: any) => renderStateProvider.setValue(allocatedItem, val); //alloc\n\n    animationFrameRequested = false;\n\n    const args: DrawArgs<typeof cell> = {\n        //alloc\n        ctx,\n        theme,\n        col,\n        row,\n        cell,\n        rect: reusableRect,\n        highlighted,\n        cellFillColor: finalCellFillColor,\n        hoverAmount,\n        frameTime,\n        hoverX,\n        drawState,\n        hoverY,\n        imageLoader,\n        spriteManager,\n        hyperWrapping,\n        overrideCursor: hoverX !== undefined ? overrideCursor : undefined,\n        requestAnimationFrame: animRequest,\n    };\n    const needsAnim = drawLastUpdateUnderlay(args, cell.lastUpdated, frameTime, lastPrep, isLastCol, isLastRow);\n\n    const r = getCellRenderer(cell);\n    if (r !== undefined) {\n        if (lastPrep?.renderer !== r) {\n            lastPrep?.deprep?.(args);\n            lastPrep = undefined;\n        }\n        const partialPrepResult = r.drawPrep?.(args, lastPrep);\n        if (drawCellCallback !== undefined && !isInnerOnlyCell(args.cell)) {\n            drawCellCallback(args as DrawArgs<GridCell>, () => r.draw(args, cell));\n        } else {\n            r.draw(args, cell);\n        }\n        result =\n            partialPrepResult === undefined\n                ? undefined\n                : {\n                      deprep: partialPrepResult?.deprep,\n                      fillStyle: partialPrepResult?.fillStyle,\n                      font: partialPrepResult?.font,\n                      renderer: r,\n                  };\n    }\n\n    if (needsAnim || animationFrameRequested) enqueue?.(allocatedItem);\n    return result;\n}\n","import { pointInRect } from \"../../../common/math.js\";\nimport { mergeAndRealizeTheme, type FullTheme } from \"../../../common/styles.js\";\nimport { direction } from \"../../../common/utils.js\";\nimport type { HoverValues } from \"../animation-manager.js\";\nimport type { CellSet } from \"../cell-set.js\";\nimport { withAlpha } from \"../color-parser.js\";\nimport type { SpriteManager, SpriteVariant } from \"../data-grid-sprites.js\";\nimport { type DrawHeaderCallback, type Rectangle, GridColumnMenuIcon, type GridSelection } from \"../data-grid-types.js\";\nimport { drawMenuDots, getMiddleCenterBias, roundedPoly, type MappedGridColumn } from \"./data-grid-lib.js\";\nimport type { GroupDetails, GroupDetailsCallback } from \"./data-grid-render.cells.js\";\nimport { walkColumns, walkGroups } from \"./data-grid-render.walk.js\";\nimport { drawCheckbox } from \"./draw-checkbox.js\";\nimport type { DragAndDropState, HoverInfo } from \"./draw-grid-arg.js\";\n\nexport function drawGridHeaders(\n    ctx: CanvasRenderingContext2D,\n    effectiveCols: readonly MappedGridColumn[],\n    enableGroups: boolean,\n    hovered: HoverInfo | undefined,\n    width: number,\n    translateX: number,\n    headerHeight: number,\n    groupHeaderHeight: number,\n    dragAndDropState: DragAndDropState | undefined,\n    isResizing: boolean,\n    selection: GridSelection,\n    outerTheme: FullTheme,\n    spriteManager: SpriteManager,\n    hoverValues: HoverValues,\n    verticalBorder: (col: number) => boolean,\n    getGroupDetails: GroupDetailsCallback,\n    damage: CellSet | undefined,\n    drawHeaderCallback: DrawHeaderCallback | undefined,\n    touchMode: boolean\n) {\n    const totalHeaderHeight = headerHeight + groupHeaderHeight;\n    if (totalHeaderHeight <= 0) return;\n\n    ctx.fillStyle = outerTheme.bgHeader;\n    ctx.fillRect(0, 0, width, totalHeaderHeight);\n\n    const [hCol, hRow] = hovered?.[0] ?? [];\n\n    const font = outerTheme.headerFontFull;\n    // Assinging the context font too much can be expensive, it can be worth it to minimze this\n    ctx.font = font;\n    walkColumns(effectiveCols, 0, translateX, 0, totalHeaderHeight, (c, x, _y, clipX) => {\n        if (damage !== undefined && !damage.has([c.sourceIndex, -1])) return;\n        const diff = Math.max(0, clipX - x);\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(x + diff, groupHeaderHeight, c.width - diff, headerHeight);\n        ctx.clip();\n\n        const groupTheme = getGroupDetails(c.group ?? \"\").overrideTheme;\n        const theme =\n            c.themeOverride === undefined && groupTheme === undefined\n                ? outerTheme\n                : mergeAndRealizeTheme(outerTheme, groupTheme, c.themeOverride);\n\n        if (theme.bgHeader !== outerTheme.bgHeader) {\n            ctx.fillStyle = theme.bgHeader;\n            ctx.fill();\n        }\n\n        if (theme !== outerTheme) {\n            ctx.font = theme.baseFontFull;\n        }\n        const selected = selection.columns.hasIndex(c.sourceIndex);\n        const noHover = dragAndDropState !== undefined || isResizing;\n        const hoveredBoolean = !noHover && hRow === -1 && hCol === c.sourceIndex;\n        const hover = noHover\n            ? 0\n            : hoverValues.find(s => s.item[0] === c.sourceIndex && s.item[1] === -1)?.hoverAmount ?? 0;\n\n        const hasSelectedCell = selection?.current !== undefined && selection.current.cell[0] === c.sourceIndex;\n\n        const bgFillStyle = selected ? theme.accentColor : hasSelectedCell ? theme.bgHeaderHasFocus : theme.bgHeader;\n\n        const y = enableGroups ? groupHeaderHeight : 0;\n        const xOffset = c.sourceIndex === 0 ? 0 : 1;\n\n        if (selected) {\n            ctx.fillStyle = bgFillStyle;\n            ctx.fillRect(x + xOffset, y, c.width - xOffset, headerHeight);\n        } else if (hasSelectedCell || hover > 0) {\n            ctx.beginPath();\n            ctx.rect(x + xOffset, y, c.width - xOffset, headerHeight);\n            if (hasSelectedCell) {\n                ctx.fillStyle = theme.bgHeaderHasFocus;\n                ctx.fill();\n            }\n            if (hover > 0) {\n                ctx.globalAlpha = hover;\n                ctx.fillStyle = theme.bgHeaderHovered;\n                ctx.fill();\n                ctx.globalAlpha = 1;\n            }\n        }\n\n        drawHeader(\n            ctx,\n            x,\n            y,\n            c.width,\n            headerHeight,\n            c,\n            selected,\n            theme,\n            hoveredBoolean,\n            hasSelectedCell,\n            hover,\n            spriteManager,\n            drawHeaderCallback,\n            touchMode\n        );\n        ctx.restore();\n    });\n\n    if (enableGroups) {\n        drawGroups(\n            ctx,\n            effectiveCols,\n            width,\n            translateX,\n            groupHeaderHeight,\n            hovered,\n            outerTheme,\n            spriteManager,\n            hoverValues,\n            verticalBorder,\n            getGroupDetails,\n            damage\n        );\n    }\n}\n\nexport function drawGroups(\n    ctx: CanvasRenderingContext2D,\n    effectiveCols: readonly MappedGridColumn[],\n    width: number,\n    translateX: number,\n    groupHeaderHeight: number,\n    hovered: HoverInfo | undefined,\n    theme: FullTheme,\n    spriteManager: SpriteManager,\n    _hoverValues: HoverValues,\n    verticalBorder: (col: number) => boolean,\n    getGroupDetails: GroupDetailsCallback,\n    damage: CellSet | undefined\n) {\n    const xPad = 8;\n    const [hCol, hRow] = hovered?.[0] ?? [];\n\n    let finalX = 0;\n    walkGroups(effectiveCols, width, translateX, groupHeaderHeight, (span, groupName, x, y, w, h) => {\n        if (\n            damage !== undefined &&\n            !damage.hasItemInRectangle({\n                x: span[0],\n                y: -2,\n                width: span[1] - span[0] + 1,\n                height: 1,\n            })\n        )\n            return;\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(x, y, w, h);\n        ctx.clip();\n\n        const group = getGroupDetails(groupName);\n        const groupTheme =\n            group?.overrideTheme === undefined ? theme : mergeAndRealizeTheme(theme, group.overrideTheme);\n        const isHovered = hRow === -2 && hCol !== undefined && hCol >= span[0] && hCol <= span[1];\n\n        const fillColor = isHovered ? groupTheme.bgHeaderHovered : groupTheme.bgHeader;\n        if (fillColor !== theme.bgHeader) {\n            ctx.fillStyle = fillColor;\n            ctx.fill();\n        }\n\n        ctx.fillStyle = groupTheme.textGroupHeader ?? groupTheme.textHeader;\n        if (group !== undefined) {\n            let drawX = x;\n            if (group.icon !== undefined) {\n                spriteManager.drawSprite(\n                    group.icon,\n                    \"normal\",\n                    ctx,\n                    drawX + xPad,\n                    (groupHeaderHeight - 20) / 2,\n                    20,\n                    groupTheme\n                );\n                drawX += 26;\n            }\n            ctx.fillText(\n                group.name,\n                drawX + xPad,\n                groupHeaderHeight / 2 + getMiddleCenterBias(ctx, theme.headerFontFull)\n            );\n\n            if (group.actions !== undefined && isHovered) {\n                const actionBoxes = getActionBoundsForGroup({ x, y, width: w, height: h }, group.actions);\n\n                ctx.beginPath();\n                const fadeStartX = actionBoxes[0].x - 10;\n                const fadeWidth = x + w - fadeStartX;\n                ctx.rect(fadeStartX, 0, fadeWidth, groupHeaderHeight);\n                const grad = ctx.createLinearGradient(fadeStartX, 0, fadeStartX + fadeWidth, 0);\n                const trans = withAlpha(fillColor, 0);\n                grad.addColorStop(0, trans);\n                grad.addColorStop(10 / fadeWidth, fillColor);\n                grad.addColorStop(1, fillColor);\n                ctx.fillStyle = grad;\n\n                ctx.fill();\n\n                ctx.globalAlpha = 0.6;\n\n                // eslint-disable-next-line prefer-const\n                const [mouseX, mouseY] = hovered?.[1] ?? [-1, -1];\n                for (let i = 0; i < group.actions.length; i++) {\n                    const action = group.actions[i];\n                    const box = actionBoxes[i];\n                    const actionHovered = pointInRect(box, mouseX + x, mouseY);\n                    if (actionHovered) {\n                        ctx.globalAlpha = 1;\n                    }\n                    spriteManager.drawSprite(\n                        action.icon,\n                        \"normal\",\n                        ctx,\n                        box.x + box.width / 2 - 10,\n                        box.y + box.height / 2 - 10,\n                        20,\n                        groupTheme\n                    );\n                    if (actionHovered) {\n                        ctx.globalAlpha = 0.6;\n                    }\n                }\n\n                ctx.globalAlpha = 1;\n            }\n        }\n\n        if (x !== 0 && verticalBorder(span[0])) {\n            ctx.beginPath();\n            ctx.moveTo(x + 0.5, 0);\n            ctx.lineTo(x + 0.5, groupHeaderHeight);\n            ctx.strokeStyle = theme.borderColor;\n            ctx.lineWidth = 1;\n            ctx.stroke();\n        }\n\n        ctx.restore();\n\n        finalX = x + w;\n    });\n\n    ctx.beginPath();\n    ctx.moveTo(finalX + 0.5, 0);\n    ctx.lineTo(finalX + 0.5, groupHeaderHeight);\n\n    ctx.moveTo(0, groupHeaderHeight + 0.5);\n    ctx.lineTo(width, groupHeaderHeight + 0.5);\n    ctx.strokeStyle = theme.borderColor;\n    ctx.lineWidth = 1;\n    ctx.stroke();\n}\n\nconst menuButtonSize = 30;\nexport function getHeaderMenuBounds(x: number, y: number, width: number, height: number, isRtl: boolean): Rectangle {\n    if (isRtl) return { x, y, width: menuButtonSize, height: Math.min(menuButtonSize, height) };\n    return {\n        x: x + width - menuButtonSize, // right align\n        y: Math.max(y, y + height / 2 - menuButtonSize / 2), // center vertically\n        width: menuButtonSize,\n        height: Math.min(menuButtonSize, height),\n    };\n}\n\nexport function getActionBoundsForGroup(\n    box: Rectangle,\n    actions: NonNullable<GroupDetails[\"actions\"]>\n): readonly Rectangle[] {\n    const result: Rectangle[] = [];\n    let x = box.x + box.width - 26 * actions.length;\n    const y = box.y + box.height / 2 - 13;\n    const height = 26;\n    const width = 26;\n    for (let i = 0; i < actions.length; i++) {\n        result.push({\n            x,\n            y,\n            width,\n            height,\n        });\n        x += 26;\n    }\n    return result;\n}\n\nfunction drawHeaderInner(\n    ctx: CanvasRenderingContext2D,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    c: MappedGridColumn,\n    selected: boolean,\n    theme: FullTheme,\n    isHovered: boolean,\n    hoverAmount: number,\n    spriteManager: SpriteManager,\n    touchMode: boolean,\n    isRtl: boolean,\n    menuBounds: Rectangle\n) {\n    if (c.rowMarker !== undefined) {\n        const checked = c.rowMarkerChecked;\n        if (checked !== true) {\n            ctx.globalAlpha = hoverAmount;\n        }\n        drawCheckbox(ctx, theme, checked, x, y, width, height, false, undefined, undefined, 18, \"center\", c.rowMarker);\n        if (checked !== true) {\n            ctx.globalAlpha = 1;\n        }\n        return;\n    }\n\n    const xPad = theme.cellHorizontalPadding;\n    const fillStyle = selected ? theme.textHeaderSelected : theme.textHeader;\n\n    const shouldDrawMenu = c.hasMenu === true && (isHovered || (touchMode && selected));\n\n    const dirScalar = isRtl ? -1 : 1;\n\n    let drawX = isRtl ? x + width - xPad : x + xPad;\n    if (c.icon !== undefined) {\n        let variant: SpriteVariant = selected ? \"selected\" : \"normal\";\n        if (c.style === \"highlight\") {\n            variant = selected ? \"selected\" : \"special\";\n        }\n        const headerSize = theme.headerIconSize;\n        spriteManager.drawSprite(\n            c.icon,\n            variant,\n            ctx,\n            isRtl ? drawX - headerSize : drawX,\n            y + (height - headerSize) / 2,\n            headerSize,\n            theme\n        );\n\n        if (c.overlayIcon !== undefined) {\n            spriteManager.drawSprite(\n                c.overlayIcon,\n                selected ? \"selected\" : \"special\",\n                ctx,\n                isRtl ? drawX - headerSize + 9 : drawX + 9,\n                y + ((height - 18) / 2 + 6),\n                18,\n                theme\n            );\n        }\n\n        drawX += Math.ceil(headerSize * 1.3) * dirScalar;\n    }\n\n    if (shouldDrawMenu && c.hasMenu === true && width > 35) {\n        const fadeWidth = 35;\n        const fadeStart = isRtl ? fadeWidth : width - fadeWidth;\n        const fadeEnd = isRtl ? fadeWidth * 0.7 : width - fadeWidth * 0.7;\n\n        const fadeStartPercent = fadeStart / width;\n        const fadeEndPercent = fadeEnd / width;\n\n        const grad = ctx.createLinearGradient(x, 0, x + width, 0);\n        const trans = withAlpha(fillStyle, 0);\n\n        grad.addColorStop(isRtl ? 1 : 0, fillStyle);\n        grad.addColorStop(fadeStartPercent, fillStyle);\n        grad.addColorStop(fadeEndPercent, trans);\n        grad.addColorStop(isRtl ? 0 : 1, trans);\n        ctx.fillStyle = grad;\n    } else {\n        ctx.fillStyle = fillStyle;\n    }\n\n    if (isRtl) {\n        ctx.textAlign = \"right\";\n    }\n    ctx.fillText(c.title, drawX, y + height / 2 + getMiddleCenterBias(ctx, theme.headerFontFull));\n    if (isRtl) {\n        ctx.textAlign = \"left\";\n    }\n\n    if (shouldDrawMenu && c.hasMenu === true) {\n        if (c.menuIcon === undefined || c.menuIcon === GridColumnMenuIcon.Triangle) {\n            // Draw the default triangle menu icon:\n            ctx.beginPath();\n            const triangleX = menuBounds.x + menuBounds.width / 2 - 5.5;\n            const triangleY = menuBounds.y + menuBounds.height / 2 - 3;\n            roundedPoly(\n                ctx,\n                [\n                    {\n                        x: triangleX,\n                        y: triangleY,\n                    },\n                    {\n                        x: triangleX + 11,\n                        y: triangleY,\n                    },\n                    {\n                        x: triangleX + 5.5,\n                        y: triangleY + 6,\n                    },\n                ],\n                1\n            );\n            ctx.fillStyle = fillStyle;\n            ctx.fill();\n        } else if (c.menuIcon === GridColumnMenuIcon.Dots) {\n            // Draw the three dots menu icon:\n            ctx.beginPath();\n            const dotsX = menuBounds.x + menuBounds.width / 2;\n            const dotsY = menuBounds.y + menuBounds.height / 2;\n            drawMenuDots(ctx, dotsX, dotsY);\n            ctx.fillStyle = fillStyle;\n            ctx.fill();\n        } else {\n            // Assume that the user has specified a valid sprite image as header icon:\n            const iconX = menuBounds.x + (menuBounds.width - theme.headerIconSize) / 2;\n            const iconY = menuBounds.y + (menuBounds.height - theme.headerIconSize) / 2;\n            spriteManager.drawSprite(c.menuIcon, \"normal\", ctx, iconX, iconY, theme.headerIconSize, theme);\n        }\n    }\n}\n\nexport function drawHeader(\n    ctx: CanvasRenderingContext2D,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    c: MappedGridColumn,\n    selected: boolean,\n    theme: FullTheme,\n    isHovered: boolean,\n    hasSelectedCell: boolean,\n    hoverAmount: number,\n    spriteManager: SpriteManager,\n    drawHeaderCallback: DrawHeaderCallback | undefined,\n    touchMode: boolean\n) {\n    const isRtl = direction(c.title) === \"rtl\";\n    const menuBounds = getHeaderMenuBounds(x, y, width, height, isRtl);\n\n    if (drawHeaderCallback !== undefined) {\n        drawHeaderCallback(\n            {\n                ctx,\n                theme,\n                rect: { x, y, width, height },\n                column: c,\n                columnIndex: c.sourceIndex,\n                isSelected: selected,\n                hoverAmount,\n                isHovered,\n                hasSelectedCell,\n                spriteManager,\n                menuBounds,\n            },\n            () =>\n                drawHeaderInner(\n                    ctx,\n                    x,\n                    y,\n                    width,\n                    height,\n                    c,\n                    selected,\n                    theme,\n                    isHovered,\n                    hoverAmount,\n                    spriteManager,\n                    touchMode,\n                    isRtl,\n                    menuBounds\n                )\n        );\n    } else {\n        drawHeaderInner(\n            ctx,\n            x,\n            y,\n            width,\n            height,\n            c,\n            selected,\n            theme,\n            isHovered,\n            hoverAmount,\n            spriteManager,\n            touchMode,\n            isRtl,\n            menuBounds\n        );\n    }\n}\n","/* eslint-disable sonarjs/no-duplicate-string */\n/* eslint-disable unicorn/no-for-loop */\nimport { type Rectangle, CompactSelection } from \"../data-grid-types.js\";\nimport { CellSet } from \"../cell-set.js\";\nimport groupBy from \"lodash/groupBy.js\";\nimport { getStickyWidth, type MappedGridColumn, getFreezeTrailingHeight } from \"./data-grid-lib.js\";\nimport { mergeAndRealizeTheme, type FullTheme } from \"../../../common/styles.js\";\nimport { blendCache } from \"../color-parser.js\";\nimport { intersectRect } from \"../../../common/math.js\";\nimport { getSkipPoint, walkColumns, walkRowsInCol } from \"./data-grid-render.walk.js\";\nimport { type GetRowThemeCallback } from \"./data-grid-render.cells.js\";\n\nexport function drawBlanks(\n    ctx: CanvasRenderingContext2D,\n    effectiveColumns: readonly MappedGridColumn[],\n    allColumns: readonly MappedGridColumn[],\n    width: number,\n    height: number,\n    totalHeaderHeight: number,\n    translateX: number,\n    translateY: number,\n    cellYOffset: number,\n    rows: number,\n    getRowHeight: (row: number) => number,\n    getRowTheme: GetRowThemeCallback | undefined,\n    selectedRows: CompactSelection,\n    disabledRows: CompactSelection,\n    freezeTrailingRows: number,\n    hasAppendRow: boolean,\n    drawRegions: readonly Rectangle[],\n    damage: CellSet | undefined,\n    theme: FullTheme\n): void {\n    if (\n        damage !== undefined ||\n        effectiveColumns[effectiveColumns.length - 1] !== allColumns[effectiveColumns.length - 1]\n    )\n        return;\n\n    const skipPoint = getSkipPoint(drawRegions);\n\n    walkColumns(\n        effectiveColumns,\n        cellYOffset,\n        translateX,\n        translateY,\n        totalHeaderHeight,\n        (c, drawX, colDrawY, clipX, startRow) => {\n            if (c !== effectiveColumns[effectiveColumns.length - 1]) return;\n            drawX += c.width;\n            const x = Math.max(drawX, clipX);\n            if (x > width) return;\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(x, totalHeaderHeight + 1, 10_000, height - totalHeaderHeight - 1);\n            ctx.clip();\n\n            walkRowsInCol(\n                startRow,\n                colDrawY,\n                height,\n                rows,\n                getRowHeight,\n                freezeTrailingRows,\n                hasAppendRow,\n                skipPoint,\n                (drawY, row, rh, isSticky) => {\n                    if (\n                        !isSticky &&\n                        drawRegions.length > 0 &&\n                        !drawRegions.some(dr =>\n                            intersectRect(drawX, drawY, 10_000, rh, dr.x, dr.y, dr.width, dr.height)\n                        )\n                    ) {\n                        return;\n                    }\n\n                    const rowSelected = selectedRows.hasIndex(row);\n                    const rowDisabled = disabledRows.hasIndex(row);\n\n                    ctx.beginPath();\n\n                    const rowTheme = getRowTheme?.(row);\n\n                    const blankTheme = rowTheme === undefined ? theme : mergeAndRealizeTheme(theme, rowTheme);\n\n                    if (blankTheme.bgCell !== theme.bgCell) {\n                        ctx.fillStyle = blankTheme.bgCell;\n                        ctx.fillRect(drawX, drawY, 10_000, rh);\n                    }\n                    if (rowDisabled) {\n                        ctx.fillStyle = blankTheme.bgHeader;\n                        ctx.fillRect(drawX, drawY, 10_000, rh);\n                    }\n                    if (rowSelected) {\n                        ctx.fillStyle = blankTheme.accentLight;\n                        ctx.fillRect(drawX, drawY, 10_000, rh);\n                    }\n                }\n            );\n\n            ctx.restore();\n        }\n    );\n}\n\nexport function overdrawStickyBoundaries(\n    ctx: CanvasRenderingContext2D,\n    effectiveCols: readonly MappedGridColumn[],\n    width: number,\n    height: number,\n    freezeTrailingRows: number,\n    rows: number,\n    verticalBorder: (col: number) => boolean,\n    getRowHeight: (row: number) => number,\n    theme: FullTheme\n) {\n    let drawFreezeBorder = false;\n    for (const c of effectiveCols) {\n        if (c.sticky) continue;\n        drawFreezeBorder = verticalBorder(c.sourceIndex);\n        break;\n    }\n    const hColor = theme.horizontalBorderColor ?? theme.borderColor;\n    const vColor = theme.borderColor;\n    const drawX = drawFreezeBorder ? getStickyWidth(effectiveCols) : 0;\n\n    let vStroke: string | undefined;\n    if (drawX !== 0) {\n        vStroke = blendCache(vColor, theme.bgCell);\n        ctx.beginPath();\n        ctx.moveTo(drawX + 0.5, 0);\n        ctx.lineTo(drawX + 0.5, height);\n        ctx.strokeStyle = vStroke;\n        ctx.stroke();\n    }\n\n    if (freezeTrailingRows > 0) {\n        const hStroke = vColor === hColor && vStroke !== undefined ? vStroke : blendCache(hColor, theme.bgCell);\n        const h = getFreezeTrailingHeight(rows, freezeTrailingRows, getRowHeight);\n        ctx.beginPath();\n        ctx.moveTo(0, height - h + 0.5);\n        ctx.lineTo(width, height - h + 0.5);\n        ctx.strokeStyle = hStroke;\n        ctx.stroke();\n    }\n}\n\nconst getMinMaxXY = (drawRegions: Rectangle[] | undefined, width: number, height: number) => {\n    let minX = 0;\n    let maxX = width;\n    let minY = 0;\n    let maxY = height;\n\n    if (drawRegions !== undefined && drawRegions.length > 0) {\n        minX = Number.MAX_SAFE_INTEGER;\n        minY = Number.MAX_SAFE_INTEGER;\n        maxX = Number.MIN_SAFE_INTEGER;\n        maxY = Number.MIN_SAFE_INTEGER;\n        for (const r of drawRegions) {\n            minX = Math.min(minX, r.x - 1);\n            maxX = Math.max(maxX, r.x + r.width + 1);\n            minY = Math.min(minY, r.y - 1);\n            maxY = Math.max(maxY, r.y + r.height + 1);\n        }\n    }\n\n    return { minX, maxX, minY, maxY };\n};\n\nexport function drawExtraRowThemes(\n    ctx: CanvasRenderingContext2D,\n    effectiveCols: readonly MappedGridColumn[],\n    cellYOffset: number,\n    translateX: number,\n    translateY: number,\n    width: number,\n    height: number,\n    drawRegions: Rectangle[] | undefined,\n    totalHeaderHeight: number,\n    getRowHeight: (row: number) => number,\n    getRowThemeOverride: GetRowThemeCallback | undefined,\n    verticalBorder: (col: number) => boolean,\n    freezeTrailingRows: number,\n    rows: number,\n    theme: FullTheme\n) {\n    const bgCell = theme.bgCell;\n\n    const { minX, maxX, minY, maxY } = getMinMaxXY(drawRegions, width, height);\n\n    const toDraw: { x: number; y: number; w: number; h: number; color: string }[] = [];\n\n    const freezeY = height - getFreezeTrailingHeight(rows, freezeTrailingRows, getRowHeight);\n\n    // row overflow\n    let y = totalHeaderHeight;\n    let row = cellYOffset;\n    let extraRowsStartY = 0;\n    while (y + translateY < freezeY) {\n        const ty = y + translateY;\n        const rh = getRowHeight(row);\n        if (ty >= minY && ty <= maxY - 1) {\n            const rowTheme = getRowThemeOverride?.(row);\n            const rowThemeBgCell = rowTheme?.bgCell;\n            const needDraw =\n                rowThemeBgCell !== undefined && rowThemeBgCell !== bgCell && row >= rows - freezeTrailingRows;\n            if (needDraw) {\n                toDraw.push({\n                    x: minX,\n                    y: ty,\n                    w: maxX - minX,\n                    h: rh,\n                    color: rowThemeBgCell,\n                });\n            }\n        }\n\n        y += rh;\n        if (row < rows - freezeTrailingRows) extraRowsStartY = y;\n        row++;\n    }\n\n    // column overflow\n    let x = 0;\n    const h = Math.min(freezeY, maxY) - extraRowsStartY;\n    if (h > 0) {\n        for (let index = 0; index < effectiveCols.length; index++) {\n            const c = effectiveCols[index];\n            if (c.width === 0) continue;\n            const tx = c.sticky ? x : x + translateX;\n            const colThemeBgCell = c.themeOverride?.bgCell;\n            if (\n                colThemeBgCell !== undefined &&\n                colThemeBgCell !== bgCell &&\n                tx >= minX &&\n                tx <= maxX &&\n                verticalBorder(index + 1)\n            ) {\n                toDraw.push({\n                    x: tx,\n                    y: extraRowsStartY,\n                    w: c.width,\n                    h,\n                    color: colThemeBgCell,\n                });\n            }\n\n            x += c.width;\n        }\n    }\n\n    if (toDraw.length === 0) return;\n\n    let color: string | undefined;\n    ctx.beginPath();\n    // render in reverse order because we computed and added the columns last, but they should actually be lower\n    // priority than the rows.\n    for (let i = toDraw.length - 1; i >= 0; i--) {\n        const r = toDraw[i];\n        if (color === undefined) {\n            color = r.color;\n        } else if (r.color !== color) {\n            ctx.fillStyle = color;\n            ctx.fill();\n            ctx.beginPath();\n            color = r.color;\n        }\n        ctx.rect(r.x, r.y, r.w, r.h);\n    }\n    if (color !== undefined) {\n        ctx.fillStyle = color;\n        ctx.fill();\n    }\n    ctx.beginPath();\n}\n\n// lines are effectively drawn on the top left edge of a cell.\nexport function drawGridLines(\n    ctx: CanvasRenderingContext2D,\n    effectiveCols: readonly MappedGridColumn[],\n    cellYOffset: number,\n    translateX: number,\n    translateY: number,\n    width: number,\n    height: number,\n    drawRegions: Rectangle[] | undefined,\n    spans: Rectangle[] | undefined,\n    groupHeaderHeight: number,\n    totalHeaderHeight: number,\n    getRowHeight: (row: number) => number,\n    getRowThemeOverride: GetRowThemeCallback | undefined,\n    verticalBorder: (col: number) => boolean,\n    freezeTrailingRows: number,\n    rows: number,\n    theme: FullTheme,\n    verticalOnly: boolean = false\n) {\n    if (spans !== undefined) {\n        ctx.beginPath();\n        ctx.save();\n        ctx.rect(0, 0, width, height);\n        for (const span of spans) {\n            ctx.rect(span.x + 1, span.y + 1, span.width - 1, span.height - 1);\n        }\n        ctx.clip(\"evenodd\");\n    }\n    const hColor = theme.horizontalBorderColor ?? theme.borderColor;\n    const vColor = theme.borderColor;\n\n    const { minX, maxX, minY, maxY } = getMinMaxXY(drawRegions, width, height);\n\n    const toDraw: { x1: number; y1: number; x2: number; y2: number; color: string }[] = [];\n\n    ctx.beginPath();\n\n    // vertical lines\n    let x = 0.5;\n    for (let index = 0; index < effectiveCols.length; index++) {\n        const c = effectiveCols[index];\n        if (c.width === 0) continue;\n        x += c.width;\n        const tx = c.sticky ? x : x + translateX;\n        if (tx >= minX && tx <= maxX && verticalBorder(index + 1)) {\n            toDraw.push({\n                x1: tx,\n                y1: Math.max(groupHeaderHeight, minY),\n                x2: tx,\n                y2: Math.min(height, maxY),\n                color: vColor,\n            });\n        }\n    }\n\n    let freezeY = height + 0.5;\n    for (let i = rows - freezeTrailingRows; i < rows; i++) {\n        const rh = getRowHeight(i);\n        freezeY -= rh;\n        toDraw.push({ x1: minX, y1: freezeY, x2: maxX, y2: freezeY, color: hColor });\n    }\n\n    if (verticalOnly !== true) {\n        // horizontal lines\n        let y = totalHeaderHeight + 0.5;\n        let row = cellYOffset;\n        const target = freezeY;\n        while (y + translateY < target) {\n            const ty = y + translateY;\n            if (ty >= minY && ty <= maxY - 1) {\n                const rowTheme = getRowThemeOverride?.(row);\n                toDraw.push({\n                    x1: minX,\n                    y1: ty,\n                    x2: maxX,\n                    y2: ty,\n                    color: rowTheme?.horizontalBorderColor ?? rowTheme?.borderColor ?? hColor,\n                });\n            }\n\n            y += getRowHeight(row);\n            row++;\n        }\n    }\n\n    const groups = groupBy(toDraw, line => line.color);\n    for (const g of Object.keys(groups)) {\n        ctx.strokeStyle = g;\n        for (const line of groups[g]) {\n            ctx.moveTo(line.x1, line.y1);\n            ctx.lineTo(line.x2, line.y2);\n        }\n        ctx.stroke();\n        ctx.beginPath();\n    }\n\n    if (spans !== undefined) {\n        ctx.restore();\n    }\n}\n","/* eslint-disable sonarjs/no-duplicate-string */\n/* eslint-disable unicorn/no-for-loop */\nimport { deepEqual } from \"../../../common/support.js\";\nimport { type Rectangle } from \"../data-grid-types.js\";\nimport { getStickyWidth, type MappedGridColumn, getFreezeTrailingHeight } from \"./data-grid-lib.js\";\nimport { walkColumns } from \"./data-grid-render.walk.js\";\nimport type { DrawGridArg } from \"./draw-grid-arg.js\";\n\nexport interface BlitData {\n    readonly cellXOffset: number;\n    readonly cellYOffset: number;\n    readonly translateX: number;\n    readonly translateY: number;\n    readonly mustDrawFocusOnHeader: boolean;\n    readonly mustDrawHighlightRingsOnHeader: boolean;\n    readonly lastBuffer: \"a\" | \"b\" | undefined;\n    aBufferScroll: [boolean, boolean] | undefined;\n    bBufferScroll: [boolean, boolean] | undefined;\n}\n\nexport function blitLastFrame(\n    ctx: CanvasRenderingContext2D,\n    blitSource: HTMLCanvasElement,\n    blitSourceScroll: [boolean, boolean] | undefined,\n    targetScroll: [boolean, boolean] | undefined,\n    last: BlitData,\n    cellXOffset: number,\n    cellYOffset: number,\n    translateX: number,\n    translateY: number,\n    freezeTrailingRows: number,\n    width: number,\n    height: number,\n    rows: number,\n    totalHeaderHeight: number,\n    dpr: number,\n    mappedColumns: readonly MappedGridColumn[],\n    effectiveCols: readonly MappedGridColumn[],\n    getRowHeight: number | ((r: number) => number),\n    doubleBuffer: boolean\n): {\n    regions: Rectangle[];\n} {\n    const drawRegions: Rectangle[] = [];\n\n    ctx.imageSmoothingEnabled = false;\n    const minY = Math.min(last.cellYOffset, cellYOffset);\n    const maxY = Math.max(last.cellYOffset, cellYOffset);\n    let deltaY = 0;\n    if (typeof getRowHeight === \"number\") {\n        deltaY += (maxY - minY) * getRowHeight;\n    } else {\n        for (let i = minY; i < maxY; i++) {\n            deltaY += getRowHeight(i);\n        }\n    }\n    if (cellYOffset > last.cellYOffset) {\n        deltaY = -deltaY;\n    }\n    deltaY += translateY - last.translateY;\n\n    const minX = Math.min(last.cellXOffset, cellXOffset);\n    const maxX = Math.max(last.cellXOffset, cellXOffset);\n    let deltaX = 0;\n    for (let i = minX; i < maxX; i++) {\n        deltaX += mappedColumns[i].width;\n    }\n    if (cellXOffset > last.cellXOffset) {\n        deltaX = -deltaX;\n    }\n    deltaX += translateX - last.translateX;\n\n    let stickyWidth = getStickyWidth(effectiveCols);\n    if (stickyWidth > 0) stickyWidth++;\n\n    if (deltaX !== 0 && deltaY !== 0) {\n        return {\n            regions: [],\n        };\n    }\n\n    const freezeTrailingRowsHeight =\n        freezeTrailingRows > 0 ? getFreezeTrailingHeight(rows, freezeTrailingRows, getRowHeight) : 0;\n\n    const blitWidth = width - stickyWidth - Math.abs(deltaX);\n    const blitHeight = height - totalHeaderHeight - freezeTrailingRowsHeight - Math.abs(deltaY) - 1;\n\n    if (blitWidth > 150 && blitHeight > 150) {\n        const args = {\n            sx: 0,\n            sy: 0,\n            sw: width * dpr,\n            sh: height * dpr,\n            dx: 0,\n            dy: 0,\n            dw: width * dpr,\n            dh: height * dpr,\n        };\n\n        // blit Y\n        if (deltaY > 0) {\n            // scrolling up\n            args.sy = (totalHeaderHeight + 1) * dpr;\n            args.sh = blitHeight * dpr;\n            args.dy = (deltaY + totalHeaderHeight + 1) * dpr;\n            args.dh = blitHeight * dpr;\n\n            drawRegions.push({\n                x: 0,\n                y: totalHeaderHeight,\n                width: width,\n                height: deltaY + 1,\n            });\n        } else if (deltaY < 0) {\n            // scrolling down\n            args.sy = (-deltaY + totalHeaderHeight + 1) * dpr;\n            args.sh = blitHeight * dpr;\n            args.dy = (totalHeaderHeight + 1) * dpr;\n            args.dh = blitHeight * dpr;\n\n            drawRegions.push({\n                x: 0,\n                y: height + deltaY - freezeTrailingRowsHeight,\n                width: width,\n                height: -deltaY + freezeTrailingRowsHeight,\n            });\n        }\n\n        // blit X\n        if (deltaX > 0) {\n            // pixels moving right\n            args.sx = stickyWidth * dpr;\n            args.sw = blitWidth * dpr;\n            args.dx = (deltaX + stickyWidth) * dpr;\n            args.dw = blitWidth * dpr;\n\n            drawRegions.push({\n                x: stickyWidth - 1,\n                y: 0,\n                width: deltaX + 2, // extra width to account for first col not drawing a left side border\n                height: height,\n            });\n        } else if (deltaX < 0) {\n            // pixels moving left\n            args.sx = (stickyWidth - deltaX) * dpr;\n            args.sw = blitWidth * dpr;\n            args.dx = stickyWidth * dpr;\n            args.dw = blitWidth * dpr;\n\n            drawRegions.push({\n                x: width + deltaX,\n                y: 0,\n                width: -deltaX,\n                height: height,\n            });\n        }\n\n        ctx.setTransform(1, 0, 0, 1, 0, 0);\n        if (doubleBuffer) {\n            if (\n                stickyWidth > 0 &&\n                deltaX !== 0 &&\n                deltaY === 0 &&\n                (targetScroll === undefined || blitSourceScroll?.[1] !== false)\n            ) {\n                // When double buffering the freeze columns can be offset by a couple pixels vertically between the two\n                // buffers. We don't want to redraw them so we need to make sure to copy them between the buffers.\n                const w = stickyWidth * dpr;\n                const h = height * dpr;\n                ctx.drawImage(blitSource, 0, 0, w, h, 0, 0, w, h);\n            }\n            if (\n                freezeTrailingRowsHeight > 0 &&\n                deltaX === 0 &&\n                deltaY !== 0 &&\n                (targetScroll === undefined || blitSourceScroll?.[0] !== false)\n            ) {\n                const y = (height - freezeTrailingRowsHeight) * dpr;\n                const w = width * dpr;\n                const h = freezeTrailingRowsHeight * dpr;\n                ctx.drawImage(blitSource, 0, y, w, h, 0, y, w, h);\n            }\n        }\n        ctx.drawImage(blitSource, args.sx, args.sy, args.sw, args.sh, args.dx, args.dy, args.dw, args.dh);\n        ctx.scale(dpr, dpr);\n    }\n    ctx.imageSmoothingEnabled = true;\n\n    return {\n        regions: drawRegions,\n    };\n}\n\nexport function blitResizedCol(\n    last: BlitData,\n    cellXOffset: number,\n    cellYOffset: number,\n    translateX: number,\n    translateY: number,\n    width: number,\n    height: number,\n    totalHeaderHeight: number,\n    effectiveCols: readonly MappedGridColumn[],\n    resizedIndex: number\n) {\n    const drawRegions: Rectangle[] = [];\n\n    // ctx.imageSmoothingEnabled = false;\n\n    if (\n        cellXOffset !== last.cellXOffset ||\n        cellYOffset !== last.cellYOffset ||\n        translateX !== last.translateX ||\n        translateY !== last.translateY\n    ) {\n        return drawRegions;\n    }\n\n    walkColumns(effectiveCols, cellYOffset, translateX, translateY, totalHeaderHeight, (c, drawX, _drawY, clipX) => {\n        if (c.sourceIndex === resizedIndex) {\n            const x = Math.max(drawX, clipX) + 1;\n            drawRegions.push({\n                x,\n                y: 0,\n                width: width - x,\n                height,\n            });\n            return true;\n        }\n    });\n    return drawRegions;\n}\n\nexport function computeCanBlit(current: DrawGridArg, last: DrawGridArg | undefined): boolean | number {\n    if (last === undefined) return false;\n    if (\n        current.width !== last.width ||\n        current.height !== last.height ||\n        current.theme !== last.theme ||\n        current.headerHeight !== last.headerHeight ||\n        current.rowHeight !== last.rowHeight ||\n        current.rows !== last.rows ||\n        current.freezeColumns !== last.freezeColumns ||\n        current.getRowThemeOverride !== last.getRowThemeOverride ||\n        current.isFocused !== last.isFocused ||\n        current.isResizing !== last.isResizing ||\n        current.verticalBorder !== last.verticalBorder ||\n        current.getCellContent !== last.getCellContent ||\n        current.highlightRegions !== last.highlightRegions ||\n        current.selection !== last.selection ||\n        current.dragAndDropState !== last.dragAndDropState ||\n        current.prelightCells !== last.prelightCells ||\n        current.touchMode !== last.touchMode ||\n        current.maxScaleFactor !== last.maxScaleFactor\n    ) {\n        return false;\n    }\n    if (current.mappedColumns !== last.mappedColumns) {\n        if (current.mappedColumns.length > 100 || current.mappedColumns.length !== last.mappedColumns.length) {\n            // The array is big, let's just redraw the damned thing rather than check these all. Or the number of cols\n            // changed in which case I dont want to figure out what happened.\n            return false;\n        }\n        // We want to know if only one column has resized. If this is the case we can do a special left/right sliding\n        // blit. Or just not redraw shit on the left.\n        let resized: number | undefined;\n        for (let i = 0; i < current.mappedColumns.length; i++) {\n            const curCol = current.mappedColumns[i];\n            const lastCol = last.mappedColumns[i];\n\n            if (deepEqual(curCol, lastCol)) continue;\n\n            // two columns changed, abort\n            if (resized !== undefined) return false;\n\n            if (curCol.width === lastCol.width) return false;\n\n            const { width, ...curRest } = curCol;\n            const { width: lastWidth, ...lastRest } = lastCol;\n\n            // more than width changed, abort\n            if (!deepEqual(curRest, lastRest)) return false;\n            resized = i;\n        }\n        if (resized === undefined) {\n            // we never found a changed column, cool, we can blit\n            return true;\n        }\n        return resized;\n    }\n    return true;\n}\n","/* eslint-disable sonarjs/no-duplicate-string */\n/* eslint-disable unicorn/no-for-loop */\nimport { type GridSelection, type InnerGridCell, type Item } from \"../data-grid-types.js\";\nimport { getStickyWidth, type MappedGridColumn, computeBounds, getFreezeTrailingHeight } from \"./data-grid-lib.js\";\nimport { type FullTheme } from \"../../../common/styles.js\";\nimport { blend, withAlpha } from \"../color-parser.js\";\nimport { hugRectToTarget, intersectRect, rectContains, splitRectIntoRegions } from \"../../../common/math.js\";\nimport { getSpanBounds, walkColumns, walkRowsInCol } from \"./data-grid-render.walk.js\";\nimport { type Highlight } from \"./data-grid-render.cells.js\";\n\nexport function drawHighlightRings(\n    ctx: CanvasRenderingContext2D,\n    width: number,\n    height: number,\n    cellXOffset: number,\n    cellYOffset: number,\n    translateX: number,\n    translateY: number,\n    mappedColumns: readonly MappedGridColumn[],\n    freezeColumns: number,\n    headerHeight: number,\n    groupHeaderHeight: number,\n    rowHeight: number | ((index: number) => number),\n    freezeTrailingRows: number,\n    rows: number,\n    allHighlightRegions: readonly Highlight[] | undefined,\n    theme: FullTheme\n): (() => void) | undefined {\n    const highlightRegions = allHighlightRegions?.filter(x => x.style !== \"no-outline\");\n\n    if (highlightRegions === undefined || highlightRegions.length === 0) return undefined;\n\n    const freezeLeft = getStickyWidth(mappedColumns);\n    const freezeBottom = getFreezeTrailingHeight(rows, freezeTrailingRows, rowHeight);\n    const splitIndicies = [freezeColumns, 0, mappedColumns.length, rows - freezeTrailingRows] as const;\n    const splitLocations = [freezeLeft, 0, width, height - freezeBottom] as const;\n\n    const drawRects = highlightRegions.map(h => {\n        const r = h.range;\n        const style = h.style ?? \"dashed\";\n\n        return splitRectIntoRegions(r, splitIndicies, width, height, splitLocations).map(arg => {\n            const rect = arg.rect;\n            const topLeftBounds = computeBounds(\n                rect.x,\n                rect.y,\n                width,\n                height,\n                groupHeaderHeight,\n                headerHeight + groupHeaderHeight,\n                cellXOffset,\n                cellYOffset,\n                translateX,\n                translateY,\n                rows,\n                freezeColumns,\n                freezeTrailingRows,\n                mappedColumns,\n                rowHeight\n            );\n            const bottomRightBounds =\n                rect.width === 1 && rect.height === 1\n                    ? topLeftBounds\n                    : computeBounds(\n                          rect.x + rect.width - 1,\n                          rect.y + rect.height - 1,\n                          width,\n                          height,\n                          groupHeaderHeight,\n                          headerHeight + groupHeaderHeight,\n                          cellXOffset,\n                          cellYOffset,\n                          translateX,\n                          translateY,\n                          rows,\n                          freezeColumns,\n                          freezeTrailingRows,\n                          mappedColumns,\n                          rowHeight\n                      );\n\n            if (rect.x + rect.width >= mappedColumns.length) {\n                bottomRightBounds.width -= 1;\n            }\n            if (rect.y + rect.height >= rows) {\n                bottomRightBounds.height -= 1;\n            }\n            return {\n                color: h.color,\n                style,\n                clip: arg.clip,\n                rect: hugRectToTarget(\n                    {\n                        x: topLeftBounds.x,\n                        y: topLeftBounds.y,\n                        width: bottomRightBounds.x + bottomRightBounds.width - topLeftBounds.x,\n                        height: bottomRightBounds.y + bottomRightBounds.height - topLeftBounds.y,\n                    },\n                    width,\n                    height,\n                    8\n                ),\n            };\n        });\n    });\n\n    const drawCb = () => {\n        ctx.lineWidth = 1;\n\n        let dashed = false;\n\n        for (const dr of drawRects) {\n            for (const s of dr) {\n                if (\n                    s?.rect !== undefined &&\n                    intersectRect(0, 0, width, height, s.rect.x, s.rect.y, s.rect.width, s.rect.height)\n                ) {\n                    const wasDashed: boolean = dashed;\n                    const needsClip = !rectContains(s.clip, s.rect);\n                    if (needsClip) {\n                        ctx.save();\n                        ctx.rect(s.clip.x, s.clip.y, s.clip.width, s.clip.height);\n                        ctx.clip();\n                    }\n                    if (s.style === \"dashed\" && !dashed) {\n                        ctx.setLineDash([5, 3]);\n                        dashed = true;\n                    } else if ((s.style === \"solid\" || s.style === \"solid-outline\") && dashed) {\n                        ctx.setLineDash([]);\n                        dashed = false;\n                    }\n                    ctx.strokeStyle =\n                        s.style === \"solid-outline\"\n                            ? blend(blend(s.color, theme.borderColor), theme.bgCell)\n                            : withAlpha(s.color, 1);\n                    ctx.strokeRect(s.rect.x + 0.5, s.rect.y + 0.5, s.rect.width - 1, s.rect.height - 1);\n                    if (needsClip) {\n                        ctx.restore();\n                        dashed = wasDashed;\n                    }\n                }\n            }\n        }\n\n        if (dashed) {\n            ctx.setLineDash([]);\n        }\n    };\n\n    drawCb();\n    return drawCb;\n}\n\nexport function drawColumnResizeOutline(\n    ctx: CanvasRenderingContext2D,\n    yOffset: number,\n    xOffset: number,\n    height: number,\n    style: string\n) {\n    ctx.beginPath();\n    ctx.moveTo(yOffset, xOffset);\n    ctx.lineTo(yOffset, height);\n\n    ctx.lineWidth = 2;\n    ctx.strokeStyle = style;\n\n    ctx.stroke();\n\n    ctx.globalAlpha = 1;\n}\n\nexport function drawFocusRing(\n    ctx: CanvasRenderingContext2D,\n    width: number,\n    height: number,\n    cellYOffset: number,\n    translateX: number,\n    translateY: number,\n    effectiveCols: readonly MappedGridColumn[],\n    allColumns: readonly MappedGridColumn[],\n    theme: FullTheme,\n    totalHeaderHeight: number,\n    selectedCell: GridSelection,\n    getRowHeight: (row: number) => number,\n    getCellContent: (cell: Item) => InnerGridCell,\n    freezeTrailingRows: number,\n    hasAppendRow: boolean,\n    fillHandle: boolean,\n    rows: number\n): (() => void) | undefined {\n    if (selectedCell.current === undefined) return undefined;\n\n    const range = selectedCell.current.range;\n    const currentItem = selectedCell.current.cell;\n    const fillHandleTarget = [range.x + range.width - 1, range.y + range.height - 1];\n\n    // if the currentItem row greater than rows and the fill handle row is greater than rows, we dont need to draw\n    if (currentItem[1] >= rows && fillHandleTarget[1] >= rows) return undefined;\n\n    const mustDraw = effectiveCols.some(c => c.sourceIndex === currentItem[0] || c.sourceIndex === fillHandleTarget[0]);\n    if (!mustDraw) return undefined;\n    const [targetCol, targetRow] = selectedCell.current.cell;\n    const cell = getCellContent(selectedCell.current.cell);\n    const targetColSpan = cell.span ?? [targetCol, targetCol];\n\n    const isStickyRow = targetRow >= rows - freezeTrailingRows;\n    const stickRowHeight =\n        freezeTrailingRows > 0 && !isStickyRow\n            ? getFreezeTrailingHeight(rows, freezeTrailingRows, getRowHeight) - 1\n            : 0;\n\n    const fillHandleRow = fillHandleTarget[1];\n\n    let drawCb: (() => void) | undefined = undefined;\n    let drawHandleCb: (() => void) | undefined = undefined;\n\n    walkColumns(\n        effectiveCols,\n        cellYOffset,\n        translateX,\n        translateY,\n        totalHeaderHeight,\n        (col, drawX, colDrawY, clipX, startRow) => {\n            if (col.sticky && targetCol > col.sourceIndex) return;\n\n            const isBeforeTarget = col.sourceIndex < targetColSpan[0];\n            const isAfterTarget = col.sourceIndex > targetColSpan[1];\n\n            const isFillHandleCol = col.sourceIndex === fillHandleTarget[0];\n\n            if (!isFillHandleCol && (isBeforeTarget || isAfterTarget)) {\n                // we dont need to do any drawing on this column but may yet need to draw\n                return;\n            }\n\n            walkRowsInCol(\n                startRow,\n                colDrawY,\n                height,\n                rows,\n                getRowHeight,\n                freezeTrailingRows,\n                hasAppendRow,\n                undefined,\n                (drawY, row, rh) => {\n                    if (row !== targetRow && row !== fillHandleRow) return;\n\n                    let cellX = drawX;\n                    let cellWidth = col.width;\n\n                    const isLastColumn = col.sourceIndex === allColumns.length - 1;\n                    const isLastRow = row === rows - 1;\n\n                    if (cell.span !== undefined) {\n                        const areas = getSpanBounds(cell.span, drawX, drawY, col.width, rh, col, allColumns);\n                        const area = col.sticky ? areas[0] : areas[1];\n\n                        if (area !== undefined) {\n                            cellX = area.x;\n                            cellWidth = area.width;\n                        }\n                    }\n\n                    const doHandle = row === fillHandleRow && isFillHandleCol && fillHandle;\n                    const doRing = row === targetRow && !isBeforeTarget && !isAfterTarget && drawCb === undefined;\n\n                    if (doHandle) {\n                        drawHandleCb = () => {\n                            if (clipX > cellX && !col.sticky && !doRing) {\n                                ctx.beginPath();\n                                ctx.rect(clipX, 0, width - clipX, height);\n                                ctx.clip();\n                            }\n                            ctx.beginPath();\n                            ctx.rect(cellX + cellWidth - 4, drawY + rh - 4, 4, 4);\n                            ctx.fillStyle = col.themeOverride?.accentColor ?? theme.accentColor;\n                            ctx.fill();\n                        };\n                    }\n\n                    if (doRing) {\n                        drawCb = () => {\n                            if (clipX > cellX && !col.sticky) {\n                                ctx.beginPath();\n                                ctx.rect(clipX, 0, width - clipX, height);\n                                ctx.clip();\n                            }\n                            ctx.beginPath();\n                            ctx.rect(\n                                cellX + 0.5,\n                                drawY + 0.5,\n                                cellWidth - (isLastColumn ? 1 : 0),\n                                rh - (isLastRow ? 1 : 0)\n                            );\n                            ctx.strokeStyle = col.themeOverride?.accentColor ?? theme.accentColor;\n                            ctx.lineWidth = 1;\n                            ctx.stroke();\n                        };\n                    }\n                    return drawCb !== undefined && (fillHandle ? drawHandleCb !== undefined : true);\n                }\n            );\n\n            return drawCb !== undefined && (fillHandle ? drawHandleCb !== undefined : true);\n        }\n    );\n\n    if (drawCb === undefined && drawHandleCb === undefined) return undefined;\n\n    const result = () => {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(0, totalHeaderHeight, width, height - totalHeaderHeight - stickRowHeight);\n        ctx.clip();\n\n        drawCb?.();\n        drawHandleCb?.();\n\n        ctx.restore();\n    };\n\n    result();\n\n    return result;\n}\n","/* eslint-disable sonarjs/no-duplicate-string */\n/* eslint-disable unicorn/no-for-loop */\nimport { type Rectangle } from \"../data-grid-types.js\";\nimport { CellSet } from \"../cell-set.js\";\nimport { getEffectiveColumns, type MappedGridColumn, rectBottomRight } from \"./data-grid-lib.js\";\nimport { blend } from \"../color-parser.js\";\nimport { assert } from \"../../../common/support.js\";\nimport type { DrawGridArg } from \"./draw-grid-arg.js\";\nimport { walkColumns, walkGroups, walkRowsInCol } from \"./data-grid-render.walk.js\";\nimport { drawCells } from \"./data-grid-render.cells.js\";\nimport { drawGridHeaders } from \"./data-grid-render.header.js\";\nimport { drawGridLines, overdrawStickyBoundaries, drawBlanks, drawExtraRowThemes } from \"./data-grid-render.lines.js\";\nimport { blitLastFrame, blitResizedCol, computeCanBlit } from \"./data-grid-render.blit.js\";\nimport { drawHighlightRings, drawFocusRing, drawColumnResizeOutline } from \"./data-grid.render.rings.js\";\n\n// Future optimization opportunities\n// - Create a cache of a buffer used to render the full view of a partially displayed column so that when\n//   scrolling horizontally you can simply blit the pre-drawn column instead of continually paying the draw\n//   cost as it slides into view.\n// - The same as above but for partially displayed rows\n// - Blit headers on horizontal scroll\n// - Use webworker to load images, helpful with lots of large images\n// - Retain mode for drawing cells. Instead of drawing cells as we come across them, first build a data\n//   structure which contains all operations to perform, then sort them all by \"prep\" requirement, then do\n//   all like operations at once.\n\nfunction clipHeaderDamage(\n    ctx: CanvasRenderingContext2D,\n    effectiveColumns: readonly MappedGridColumn[],\n    width: number,\n    groupHeaderHeight: number,\n    totalHeaderHeight: number,\n    translateX: number,\n    translateY: number,\n    cellYOffset: number,\n    damage: CellSet | undefined\n): void {\n    if (damage === undefined || damage.size === 0) return;\n\n    ctx.beginPath();\n\n    walkGroups(effectiveColumns, width, translateX, groupHeaderHeight, (span, _group, x, y, w, h) => {\n        const hasItemInSpan = damage.hasItemInRectangle({\n            x: span[0],\n            y: -2,\n            width: span[1] - span[0] + 1,\n            height: 1,\n        });\n        if (hasItemInSpan) {\n            ctx.rect(x, y, w, h);\n        }\n    });\n\n    walkColumns(\n        effectiveColumns,\n        cellYOffset,\n        translateX,\n        translateY,\n        totalHeaderHeight,\n        (c, drawX, _colDrawY, clipX) => {\n            const diff = Math.max(0, clipX - drawX);\n\n            const finalX = drawX + diff + 1;\n            const finalWidth = c.width - diff - 1;\n            if (damage.has([c.sourceIndex, -1])) {\n                ctx.rect(finalX, groupHeaderHeight, finalWidth, totalHeaderHeight - groupHeaderHeight);\n            }\n        }\n    );\n    ctx.clip();\n}\n\nfunction getLastRow(\n    effectiveColumns: readonly MappedGridColumn[],\n    height: number,\n    totalHeaderHeight: number,\n    translateX: number,\n    translateY: number,\n    cellYOffset: number,\n    rows: number,\n    getRowHeight: (row: number) => number,\n    freezeTrailingRows: number,\n    hasAppendRow: boolean\n): number {\n    let result = 0;\n    walkColumns(\n        effectiveColumns,\n        cellYOffset,\n        translateX,\n        translateY,\n        totalHeaderHeight,\n        (_c, __drawX, colDrawY, _clipX, startRow) => {\n            walkRowsInCol(\n                startRow,\n                colDrawY,\n                height,\n                rows,\n                getRowHeight,\n                freezeTrailingRows,\n                hasAppendRow,\n                undefined,\n                (_drawY, row, _rh, isSticky) => {\n                    if (!isSticky) {\n                        result = Math.max(row, result);\n                    }\n                }\n            );\n\n            return true;\n        }\n    );\n    return result;\n}\n\nexport function drawGrid(arg: DrawGridArg, lastArg: DrawGridArg | undefined) {\n    const {\n        canvasCtx,\n        headerCanvasCtx,\n        width,\n        height,\n        cellXOffset,\n        cellYOffset,\n        translateX,\n        translateY,\n        mappedColumns,\n        enableGroups,\n        freezeColumns,\n        dragAndDropState,\n        theme,\n        drawFocus,\n        headerHeight,\n        groupHeaderHeight,\n        disabledRows,\n        rowHeight,\n        verticalBorder,\n        overrideCursor,\n        isResizing,\n        selection,\n        fillHandle,\n        freezeTrailingRows,\n        rows,\n        getCellContent,\n        getGroupDetails,\n        getRowThemeOverride,\n        isFocused,\n        drawHeaderCallback,\n        prelightCells,\n        drawCellCallback,\n        highlightRegions,\n        resizeCol,\n        imageLoader,\n        lastBlitData,\n        hoverValues,\n        hyperWrapping,\n        hoverInfo,\n        spriteManager,\n        maxScaleFactor,\n        hasAppendRow,\n        touchMode,\n        enqueue,\n        renderStateProvider,\n        getCellRenderer,\n        renderStrategy,\n        bufferACtx,\n        bufferBCtx,\n        damage,\n        minimumCellWidth,\n    } = arg;\n    if (width === 0 || height === 0) return;\n    const doubleBuffer = renderStrategy === \"double-buffer\";\n    const dpr = Math.min(maxScaleFactor, Math.ceil(window.devicePixelRatio ?? 1));\n\n    // if we are double buffering we need to make sure we can blit. If we can't we need to redraw the whole thing\n    const canBlit = renderStrategy !== \"direct\" && computeCanBlit(arg, lastArg);\n\n    const canvas = canvasCtx.canvas;\n\n    if (canvas.width !== width * dpr || canvas.height !== height * dpr) {\n        canvas.width = width * dpr;\n        canvas.height = height * dpr;\n\n        canvas.style.width = width + \"px\";\n        canvas.style.height = height + \"px\";\n    }\n\n    const overlayCanvas = headerCanvasCtx.canvas;\n    const totalHeaderHeight = enableGroups ? groupHeaderHeight + headerHeight : headerHeight;\n\n    const overlayHeight = totalHeaderHeight + 1; // border\n    if (overlayCanvas.width !== width * dpr || overlayCanvas.height !== overlayHeight * dpr) {\n        overlayCanvas.width = width * dpr;\n        overlayCanvas.height = overlayHeight * dpr;\n\n        overlayCanvas.style.width = width + \"px\";\n        overlayCanvas.style.height = overlayHeight + \"px\";\n    }\n\n    const bufferA = bufferACtx.canvas;\n    const bufferB = bufferBCtx.canvas;\n\n    if (doubleBuffer && (bufferA.width !== width * dpr || bufferA.height !== height * dpr)) {\n        bufferA.width = width * dpr;\n        bufferA.height = height * dpr;\n        if (lastBlitData.current !== undefined) lastBlitData.current.aBufferScroll = undefined;\n    }\n\n    if (doubleBuffer && (bufferB.width !== width * dpr || bufferB.height !== height * dpr)) {\n        bufferB.width = width * dpr;\n        bufferB.height = height * dpr;\n        if (lastBlitData.current !== undefined) lastBlitData.current.bBufferScroll = undefined;\n    }\n\n    const last = lastBlitData.current;\n    if (\n        canBlit === true &&\n        cellXOffset === last?.cellXOffset &&\n        cellYOffset === last?.cellYOffset &&\n        translateX === last?.translateX &&\n        translateY === last?.translateY\n    )\n        return;\n\n    let mainCtx: CanvasRenderingContext2D | null = null;\n    if (doubleBuffer) {\n        mainCtx = canvasCtx;\n    }\n    const overlayCtx = headerCanvasCtx;\n    let targetCtx: CanvasRenderingContext2D;\n    if (!doubleBuffer) {\n        targetCtx = canvasCtx;\n    } else if (damage !== undefined) {\n        targetCtx = last?.lastBuffer === \"b\" ? bufferBCtx : bufferACtx;\n    } else {\n        targetCtx = last?.lastBuffer === \"b\" ? bufferACtx : bufferBCtx;\n    }\n    const targetBuffer = targetCtx.canvas;\n    const blitSource = doubleBuffer ? (targetBuffer === bufferA ? bufferB : bufferA) : canvas;\n\n    const getRowHeight = typeof rowHeight === \"number\" ? () => rowHeight : rowHeight;\n\n    overlayCtx.save();\n    targetCtx.save();\n\n    overlayCtx.beginPath();\n    targetCtx.beginPath();\n\n    overlayCtx.textBaseline = \"middle\";\n    targetCtx.textBaseline = \"middle\";\n\n    if (dpr !== 1) {\n        overlayCtx.scale(dpr, dpr);\n        targetCtx.scale(dpr, dpr);\n    }\n\n    const effectiveCols = getEffectiveColumns(mappedColumns, cellXOffset, width, dragAndDropState, translateX);\n\n    let drawRegions: Rectangle[] = [];\n\n    const mustDrawFocusOnHeader = drawFocus && selection.current?.cell[1] === cellYOffset && translateY === 0;\n    let mustDrawHighlightRingsOnHeader = false;\n    if (highlightRegions !== undefined) {\n        for (const r of highlightRegions) {\n            if (r.style !== \"no-outline\" && r.range.y === cellYOffset && translateY === 0) {\n                mustDrawHighlightRingsOnHeader = true;\n                break;\n            }\n        }\n    }\n    const drawHeaderTexture = () => {\n        drawGridHeaders(\n            overlayCtx,\n            effectiveCols,\n            enableGroups,\n            hoverInfo,\n            width,\n            translateX,\n            headerHeight,\n            groupHeaderHeight,\n            dragAndDropState,\n            isResizing,\n            selection,\n            theme,\n            spriteManager,\n            hoverValues,\n            verticalBorder,\n            getGroupDetails,\n            damage,\n            drawHeaderCallback,\n            touchMode\n        );\n\n        drawGridLines(\n            overlayCtx,\n            effectiveCols,\n            cellYOffset,\n            translateX,\n            translateY,\n            width,\n            height,\n            undefined,\n            undefined,\n            groupHeaderHeight,\n            totalHeaderHeight,\n            getRowHeight,\n            getRowThemeOverride,\n            verticalBorder,\n            freezeTrailingRows,\n            rows,\n            theme,\n            true\n        );\n\n        overlayCtx.beginPath();\n        overlayCtx.moveTo(0, overlayHeight - 0.5);\n        overlayCtx.lineTo(width, overlayHeight - 0.5);\n        overlayCtx.strokeStyle = blend(\n            theme.headerBottomBorderColor ?? theme.horizontalBorderColor ?? theme.borderColor,\n            theme.bgHeader\n        );\n        overlayCtx.stroke();\n\n        if (mustDrawHighlightRingsOnHeader) {\n            drawHighlightRings(\n                overlayCtx,\n                width,\n                height,\n                cellXOffset,\n                cellYOffset,\n                translateX,\n                translateY,\n                mappedColumns,\n                freezeColumns,\n                headerHeight,\n                groupHeaderHeight,\n                rowHeight,\n                freezeTrailingRows,\n                rows,\n                highlightRegions,\n                theme\n            );\n        }\n\n        if (mustDrawFocusOnHeader) {\n            drawFocusRing(\n                overlayCtx,\n                width,\n                height,\n                cellYOffset,\n                translateX,\n                translateY,\n                effectiveCols,\n                mappedColumns,\n                theme,\n                totalHeaderHeight,\n                selection,\n                getRowHeight,\n                getCellContent,\n                freezeTrailingRows,\n                hasAppendRow,\n                fillHandle,\n                rows\n            );\n        }\n    };\n\n    // handle damage updates by directly drawing to the target to avoid large blits\n    if (damage !== undefined) {\n        const viewRegionWidth = effectiveCols[effectiveCols.length - 1].sourceIndex + 1;\n        const damageInView = damage.hasItemInRegion([\n            {\n                x: cellXOffset,\n                y: -2,\n                width: viewRegionWidth,\n                height: 2,\n            },\n            {\n                x: cellXOffset,\n                y: cellYOffset,\n                width: viewRegionWidth,\n                height: 300,\n            },\n            {\n                x: 0,\n                y: cellYOffset,\n                width: freezeColumns,\n                height: 300,\n            },\n            {\n                x: 0,\n                y: -2,\n                width: freezeColumns,\n                height: 2,\n            },\n            {\n                x: cellXOffset,\n                y: rows - freezeTrailingRows,\n                width: viewRegionWidth,\n                height: freezeTrailingRows,\n                when: freezeTrailingRows > 0,\n            },\n        ]);\n\n        const doDamage = (ctx: CanvasRenderingContext2D) => {\n            drawCells(\n                ctx,\n                effectiveCols,\n                mappedColumns,\n                height,\n                totalHeaderHeight,\n                translateX,\n                translateY,\n                cellYOffset,\n                rows,\n                getRowHeight,\n                getCellContent,\n                getGroupDetails,\n                getRowThemeOverride,\n                disabledRows,\n                isFocused,\n                drawFocus,\n                freezeTrailingRows,\n                hasAppendRow,\n                drawRegions,\n                damage,\n                selection,\n                prelightCells,\n                highlightRegions,\n                imageLoader,\n                spriteManager,\n                hoverValues,\n                hoverInfo,\n                drawCellCallback,\n                hyperWrapping,\n                theme,\n                enqueue,\n                renderStateProvider,\n                getCellRenderer,\n                overrideCursor,\n                minimumCellWidth\n            );\n\n            const selectionCurrent = selection.current;\n\n            if (\n                fillHandle &&\n                drawFocus &&\n                selectionCurrent !== undefined &&\n                damage.has(rectBottomRight(selectionCurrent.range))\n            ) {\n                drawFocusRing(\n                    ctx,\n                    width,\n                    height,\n                    cellYOffset,\n                    translateX,\n                    translateY,\n                    effectiveCols,\n                    mappedColumns,\n                    theme,\n                    totalHeaderHeight,\n                    selection,\n                    getRowHeight,\n                    getCellContent,\n                    freezeTrailingRows,\n                    hasAppendRow,\n                    fillHandle,\n                    rows\n                );\n            }\n        };\n\n        if (damageInView) {\n            doDamage(targetCtx);\n            if (mainCtx !== null) {\n                mainCtx.save();\n                mainCtx.scale(dpr, dpr);\n                mainCtx.textBaseline = \"middle\";\n                doDamage(mainCtx);\n                mainCtx.restore();\n            }\n\n            const doHeaders = damage.hasHeader();\n            if (doHeaders) {\n                clipHeaderDamage(\n                    overlayCtx,\n                    effectiveCols,\n                    width,\n                    groupHeaderHeight,\n                    totalHeaderHeight,\n                    translateX,\n                    translateY,\n                    cellYOffset,\n                    damage\n                );\n                drawHeaderTexture();\n            }\n        }\n\n        targetCtx.restore();\n        overlayCtx.restore();\n\n        return;\n    }\n\n    if (\n        canBlit !== true ||\n        cellXOffset !== last?.cellXOffset ||\n        translateX !== last?.translateX ||\n        mustDrawFocusOnHeader !== last?.mustDrawFocusOnHeader ||\n        mustDrawHighlightRingsOnHeader !== last?.mustDrawHighlightRingsOnHeader\n    ) {\n        drawHeaderTexture();\n    }\n\n    if (canBlit === true) {\n        assert(blitSource !== undefined && last !== undefined);\n        const { regions } = blitLastFrame(\n            targetCtx,\n            blitSource,\n            blitSource === bufferA ? last.aBufferScroll : last.bBufferScroll,\n            blitSource === bufferA ? last.bBufferScroll : last.aBufferScroll,\n            last,\n            cellXOffset,\n            cellYOffset,\n            translateX,\n            translateY,\n            freezeTrailingRows,\n            width,\n            height,\n            rows,\n            totalHeaderHeight,\n            dpr,\n            mappedColumns,\n            effectiveCols,\n            rowHeight,\n            doubleBuffer\n        );\n        drawRegions = regions;\n    } else if (canBlit !== false) {\n        assert(last !== undefined);\n        const resizedCol = canBlit;\n        drawRegions = blitResizedCol(\n            last,\n            cellXOffset,\n            cellYOffset,\n            translateX,\n            translateY,\n            width,\n            height,\n            totalHeaderHeight,\n            effectiveCols,\n            resizedCol\n        );\n    }\n\n    overdrawStickyBoundaries(\n        targetCtx,\n        effectiveCols,\n        width,\n        height,\n        freezeTrailingRows,\n        rows,\n        verticalBorder,\n        getRowHeight,\n        theme\n    );\n\n    const highlightRedraw = drawHighlightRings(\n        targetCtx,\n        width,\n        height,\n        cellXOffset,\n        cellYOffset,\n        translateX,\n        translateY,\n        mappedColumns,\n        freezeColumns,\n        headerHeight,\n        groupHeaderHeight,\n        rowHeight,\n        freezeTrailingRows,\n        rows,\n        highlightRegions,\n        theme\n    );\n\n    // the overdraw may have nuked out our focus ring right edge.\n    const focusRedraw = drawFocus\n        ? drawFocusRing(\n              targetCtx,\n              width,\n              height,\n              cellYOffset,\n              translateX,\n              translateY,\n              effectiveCols,\n              mappedColumns,\n              theme,\n              totalHeaderHeight,\n              selection,\n              getRowHeight,\n              getCellContent,\n              freezeTrailingRows,\n              hasAppendRow,\n              fillHandle,\n              rows\n          )\n        : undefined;\n\n    targetCtx.fillStyle = theme.bgCell;\n    if (drawRegions.length > 0) {\n        targetCtx.beginPath();\n        for (const r of drawRegions) {\n            targetCtx.rect(r.x, r.y, r.width, r.height);\n        }\n        targetCtx.clip();\n        targetCtx.fill();\n        targetCtx.beginPath();\n    } else {\n        targetCtx.fillRect(0, 0, width, height);\n    }\n\n    const spans = drawCells(\n        targetCtx,\n        effectiveCols,\n        mappedColumns,\n        height,\n        totalHeaderHeight,\n        translateX,\n        translateY,\n        cellYOffset,\n        rows,\n        getRowHeight,\n        getCellContent,\n        getGroupDetails,\n        getRowThemeOverride,\n        disabledRows,\n        isFocused,\n        drawFocus,\n        freezeTrailingRows,\n        hasAppendRow,\n        drawRegions,\n        damage,\n        selection,\n        prelightCells,\n        highlightRegions,\n        imageLoader,\n        spriteManager,\n        hoverValues,\n        hoverInfo,\n        drawCellCallback,\n        hyperWrapping,\n        theme,\n        enqueue,\n        renderStateProvider,\n        getCellRenderer,\n        overrideCursor,\n        minimumCellWidth\n    );\n\n    drawBlanks(\n        targetCtx,\n        effectiveCols,\n        mappedColumns,\n        width,\n        height,\n        totalHeaderHeight,\n        translateX,\n        translateY,\n        cellYOffset,\n        rows,\n        getRowHeight,\n        getRowThemeOverride,\n        selection.rows,\n        disabledRows,\n        freezeTrailingRows,\n        hasAppendRow,\n        drawRegions,\n        damage,\n        theme\n    );\n\n    drawExtraRowThemes(\n        targetCtx,\n        effectiveCols,\n        cellYOffset,\n        translateX,\n        translateY,\n        width,\n        height,\n        drawRegions,\n        totalHeaderHeight,\n        getRowHeight,\n        getRowThemeOverride,\n        verticalBorder,\n        freezeTrailingRows,\n        rows,\n        theme\n    );\n\n    drawGridLines(\n        targetCtx,\n        effectiveCols,\n        cellYOffset,\n        translateX,\n        translateY,\n        width,\n        height,\n        drawRegions,\n        spans,\n        groupHeaderHeight,\n        totalHeaderHeight,\n        getRowHeight,\n        getRowThemeOverride,\n        verticalBorder,\n        freezeTrailingRows,\n        rows,\n        theme\n    );\n\n    highlightRedraw?.();\n    focusRedraw?.();\n\n    if (isResizing) {\n        walkColumns(effectiveCols, 0, translateX, 0, totalHeaderHeight, (c, x) => {\n            if (c.sourceIndex === resizeCol) {\n                drawColumnResizeOutline(\n                    overlayCtx,\n                    x + c.width,\n                    0,\n                    totalHeaderHeight + 1,\n                    blend(theme.resizeIndicatorColor ?? theme.accentLight, theme.bgHeader)\n                );\n                drawColumnResizeOutline(\n                    targetCtx,\n                    x + c.width,\n                    totalHeaderHeight,\n                    height,\n                    blend(theme.resizeIndicatorColor ?? theme.accentLight, theme.bgCell)\n                );\n                return true;\n            }\n            return false;\n        });\n    }\n\n    if (mainCtx !== null) {\n        mainCtx.fillStyle = theme.bgCell;\n        mainCtx.fillRect(0, 0, width, height);\n        mainCtx.drawImage(targetCtx.canvas, 0, 0);\n    }\n\n    const lastRowDrawn = getLastRow(\n        effectiveCols,\n        height,\n        totalHeaderHeight,\n        translateX,\n        translateY,\n        cellYOffset,\n        rows,\n        getRowHeight,\n        freezeTrailingRows,\n        hasAppendRow\n    );\n\n    imageLoader?.setWindow(\n        {\n            x: cellXOffset,\n            y: cellYOffset,\n            width: effectiveCols.length,\n            height: lastRowDrawn - cellYOffset,\n        },\n        freezeColumns,\n        Array.from({ length: freezeTrailingRows }, (_, i) => rows - 1 - i)\n    );\n\n    const scrollX = last !== undefined && (cellXOffset !== last.cellXOffset || translateX !== last.translateX);\n    const scrollY = last !== undefined && (cellYOffset !== last.cellYOffset || translateY !== last.translateY);\n\n    lastBlitData.current = {\n        cellXOffset,\n        cellYOffset,\n        translateX,\n        translateY,\n        mustDrawFocusOnHeader,\n        mustDrawHighlightRingsOnHeader,\n        lastBuffer: doubleBuffer ? (targetBuffer === bufferA ? \"a\" : \"b\") : undefined,\n        aBufferScroll: targetBuffer === bufferA ? [scrollX, scrollY] : last?.aBufferScroll,\n        bBufferScroll: targetBuffer === bufferB ? [scrollX, scrollY] : last?.bBufferScroll,\n    };\n\n    targetCtx.restore();\n    overlayCtx.restore();\n}\n","import clamp from \"lodash/clamp.js\";\nimport type { Item } from \"./data-grid-types.js\";\nimport { itemsAreEqual } from \"./render/data-grid-lib.js\";\n\ntype StateItem = { item: Item; hoverAmount: number };\nexport type HoverValues = readonly Readonly<StateItem>[];\nexport type StepCallback = (values: HoverValues) => void;\n\nconst hoverTime = 80;\n\nfunction easeOutCubic(x: number) {\n    const x1 = x - 1;\n    return x1 * x1 * x1 + 1;\n}\n\nexport class AnimationManager {\n    constructor(private callback: StepCallback) {}\n\n    private currentHoveredItem: StateItem | undefined = undefined;\n    private leavingItems: StateItem[] = [];\n\n    private lastAnimationTime: number | undefined;\n\n    private addToLeavingItems = (item: StateItem) => {\n        const isAlreadyLeaving = this.leavingItems.some(i => itemsAreEqual(i.item, item.item));\n\n        if (isAlreadyLeaving) {\n            return;\n        }\n\n        this.leavingItems.push(item);\n    };\n\n    /**\n     * @returns the hover amount of the item, if it was leaving (0 if not).\n     */\n    private removeFromLeavingItems = (item: Item): number => {\n        const leavingItem = this.leavingItems.find(e => itemsAreEqual(e.item, item));\n\n        this.leavingItems = this.leavingItems.filter(i => i !== leavingItem);\n\n        return leavingItem?.hoverAmount ?? 0;\n    };\n\n    private cleanUpLeavingElements = () => {\n        this.leavingItems = this.leavingItems.filter(i => i.hoverAmount > 0);\n    };\n\n    private shouldStep = () => {\n        const hasLeavingItems = this.leavingItems.length > 0;\n        const currentHoveredIsAnimating =\n            this.currentHoveredItem !== undefined && this.currentHoveredItem.hoverAmount < 1;\n\n        return hasLeavingItems || currentHoveredIsAnimating;\n    };\n\n    private getAnimatingItems = (): StateItem[] => {\n        // this is horrible. We shoudl be mutating the array in place. The reason we don't right now is because the\n        // hoveramount is used as both the tweened value and the raw value. We should separate these two things.\n        // Then we can stop doing the allocation insanity dance.\n        if (this.currentHoveredItem !== undefined) {\n            return [...this.leavingItems, this.currentHoveredItem];\n        }\n        return this.leavingItems.map(x => ({ ...x, hoverAmount: easeOutCubic(x.hoverAmount) }));\n    };\n\n    private step = (timestamp: number): void => {\n        if (this.lastAnimationTime === undefined) {\n            this.lastAnimationTime = timestamp;\n        } else {\n            const step = timestamp - this.lastAnimationTime;\n            const delta = step / hoverTime;\n\n            for (const item of this.leavingItems) {\n                item.hoverAmount = clamp(item.hoverAmount - delta, 0, 1);\n            }\n\n            if (this.currentHoveredItem !== undefined) {\n                this.currentHoveredItem.hoverAmount = clamp(this.currentHoveredItem.hoverAmount + delta, 0, 1);\n            }\n\n            const animating = this.getAnimatingItems();\n            this.callback(animating);\n\n            this.cleanUpLeavingElements();\n        }\n\n        if (this.shouldStep()) {\n            this.lastAnimationTime = timestamp;\n            window.requestAnimationFrame(this.step);\n        } else {\n            this.lastAnimationTime = undefined;\n        }\n    };\n\n    public setHovered = (item: Item | undefined): void => {\n        if (itemsAreEqual(this.currentHoveredItem?.item, item)) {\n            return;\n        }\n\n        if (this.currentHoveredItem !== undefined) {\n            this.addToLeavingItems(this.currentHoveredItem);\n        }\n\n        if (item !== undefined) {\n            const hoverAmount = this.removeFromLeavingItems(item);\n            this.currentHoveredItem = {\n                item,\n                hoverAmount,\n            };\n        } else {\n            this.currentHoveredItem = undefined;\n        }\n\n        if (this.lastAnimationTime === undefined) {\n            window.requestAnimationFrame(this.step);\n        }\n    };\n}\n","import * as React from \"react\";\nimport { type Item } from \"./data-grid-types.js\";\nimport { CellSet } from \"./cell-set.js\";\nimport { packColRowToNumber, unpackNumberToColRow } from \"../../common/render-state-provider.js\";\n\nexport type EnqueueCallback = (item: Item) => void;\n\nexport function useAnimationQueue(draw: (items: CellSet) => void): EnqueueCallback {\n    const queue = React.useRef<number[]>([]);\n    const seq = React.useRef(0);\n    const drawRef = React.useRef(draw);\n    drawRef.current = draw;\n\n    const loop = React.useCallback(() => {\n        const requeue = () => window.requestAnimationFrame(fn);\n\n        const fn = () => {\n            const toDraw = queue.current.map(unpackNumberToColRow);\n\n            queue.current = [];\n            drawRef.current(new CellSet(toDraw));\n            if (queue.current.length > 0) {\n                seq.current++;\n            } else {\n                seq.current = 0;\n            }\n        };\n\n        window.requestAnimationFrame(seq.current > 600 ? requeue : fn);\n    }, []);\n\n    return React.useCallback(\n        (item: Item) => {\n            if (queue.current.length === 0) loop();\n            const packed = packColRowToNumber(item[0], item[1]);\n            if (queue.current.includes(packed)) return;\n            queue.current.push(packed);\n        },\n        [loop]\n    );\n}\n","import * as React from \"react\";\nimport type { FullTheme } from \"../../common/styles.js\";\nimport {\n    computeBounds,\n    getColumnIndexForX,\n    getEffectiveColumns,\n    getRowIndexForY,\n    getStickyWidth,\n    rectBottomRight,\n    useMappedColumns,\n} from \"./render/data-grid-lib.js\";\nimport {\n    GridCellKind,\n    type Rectangle,\n    type GridSelection,\n    type InnerGridCell,\n    InnerGridCellKind,\n    CompactSelection,\n    type Item,\n    type DrawHeaderCallback,\n    isReadWriteCell,\n    isInnerOnlyCell,\n    booleanCellIsEditable,\n    type InnerGridColumn,\n    type DrawCellCallback,\n} from \"./data-grid-types.js\";\nimport { CellSet } from \"./cell-set.js\";\nimport { SpriteManager, type SpriteMap } from \"./data-grid-sprites.js\";\nimport { direction, getScrollBarWidth, useDebouncedMemo, useEventListener } from \"../../common/utils.js\";\nimport clamp from \"lodash/clamp.js\";\nimport makeRange from \"lodash/range.js\";\nimport { drawGrid } from \"./render/data-grid-render.js\";\nimport { type BlitData } from \"./render/data-grid-render.blit.js\";\nimport { AnimationManager, type StepCallback } from \"./animation-manager.js\";\nimport { RenderStateProvider, packColRowToNumber } from \"../../common/render-state-provider.js\";\nimport { browserIsFirefox, browserIsSafari } from \"../../common/browser-detect.js\";\nimport { type EnqueueCallback, useAnimationQueue } from \"./use-animation-queue.js\";\nimport { assert } from \"../../common/support.js\";\nimport type { CellRenderer, GetCellRendererCallback } from \"../../cells/cell-types.js\";\nimport type { DrawGridArg } from \"./render/draw-grid-arg.js\";\nimport type { ImageWindowLoader } from \"./image-window-loader-interface.js\";\nimport {\n    type GridMouseEventArgs,\n    type GridKeyEventArgs,\n    type GridDragEventArgs,\n    OutOfBoundsRegionAxis,\n    outOfBoundsKind,\n    groupHeaderKind,\n    headerKind,\n    mouseEventArgsAreEqual,\n} from \"./event-args.js\";\nimport { pointInRect } from \"../../common/math.js\";\nimport {\n    type GroupDetailsCallback,\n    type GetRowThemeCallback,\n    type Highlight,\n    drawCell,\n} from \"./render/data-grid-render.cells.js\";\nimport { getActionBoundsForGroup, getHeaderMenuBounds, drawHeader } from \"./render/data-grid-render.header.js\";\n\nexport interface DataGridProps {\n    readonly width: number;\n    readonly height: number;\n\n    readonly cellXOffset: number;\n    readonly cellYOffset: number;\n\n    readonly translateX: number | undefined;\n    readonly translateY: number | undefined;\n\n    readonly accessibilityHeight: number;\n\n    readonly freezeColumns: number;\n    readonly freezeTrailingRows: number;\n    readonly hasAppendRow: boolean;\n    readonly firstColAccessible: boolean;\n\n    /**\n     * Enables or disables the overlay shadow when scrolling horizontally\n     * @group Style\n     */\n    readonly fixedShadowX: boolean | undefined;\n    /**\n     * Enables or disables the overlay shadow when scrolling vertical\n     * @group Style\n     */\n    readonly fixedShadowY: boolean | undefined;\n\n    readonly allowResize: boolean | undefined;\n    readonly isResizing: boolean;\n    readonly resizeColumn: number | undefined;\n    readonly isDragging: boolean;\n    readonly isFilling: boolean;\n    readonly isFocused: boolean;\n\n    readonly columns: readonly InnerGridColumn[];\n    /**\n     * The number of rows in the grid.\n     * @group Data\n     */\n    readonly rows: number;\n\n    readonly headerHeight: number;\n    readonly groupHeaderHeight: number;\n    readonly enableGroups: boolean;\n    readonly rowHeight: number | ((index: number) => number);\n\n    readonly canvasRef: React.MutableRefObject<HTMLCanvasElement | null> | undefined;\n\n    readonly eventTargetRef: React.MutableRefObject<HTMLDivElement | null> | undefined;\n\n    readonly getCellContent: (cell: Item, forceStrict?: boolean) => InnerGridCell;\n    /**\n     * Provides additional details about groups to extend group functionality.\n     * @group Data\n     */\n    readonly getGroupDetails: GroupDetailsCallback | undefined;\n    /**\n     * Provides per row theme overrides.\n     * @group Style\n     */\n    readonly getRowThemeOverride: GetRowThemeCallback | undefined;\n    /**\n     * Emitted when a header menu disclosure indicator is clicked.\n     * @group Events\n     */\n    readonly onHeaderMenuClick: ((col: number, screenPosition: Rectangle) => void) | undefined;\n\n    readonly selection: GridSelection;\n    readonly prelightCells: readonly Item[] | undefined;\n    /**\n     * Highlight regions provide hints to users about relations between cells and selections.\n     * @group Selection\n     */\n    readonly highlightRegions: readonly Highlight[] | undefined;\n\n    /**\n     * Enabled/disables the fill handle.\n     * @defaultValue false\n     * @group Editing\n     */\n    readonly fillHandle: boolean | undefined;\n\n    readonly disabledRows: CompactSelection | undefined;\n    /**\n     * Allows passing a custom image window loader.\n     * @group Advanced\n     */\n    readonly imageWindowLoader: ImageWindowLoader;\n\n    /**\n     * Emitted when an item is hovered.\n     * @group Events\n     */\n    readonly onItemHovered: (args: GridMouseEventArgs) => void;\n    readonly onMouseMove: (args: GridMouseEventArgs) => void;\n    readonly onMouseDown: (args: GridMouseEventArgs) => void;\n    readonly onMouseUp: (args: GridMouseEventArgs, isOutside: boolean) => void;\n    readonly onContextMenu: (args: GridMouseEventArgs, preventDefault: () => void) => void;\n\n    readonly onCanvasFocused: () => void;\n    readonly onCanvasBlur: () => void;\n    readonly onCellFocused: (args: Item) => void;\n\n    readonly onMouseMoveRaw: (event: MouseEvent) => void;\n\n    /**\n     * Emitted when the canvas receives a key down event.\n     * @group Events\n     */\n    readonly onKeyDown: (event: GridKeyEventArgs) => void;\n    /**\n     * Emitted when the canvas receives a key up event.\n     * @group Events\n     */\n    readonly onKeyUp: ((event: GridKeyEventArgs) => void) | undefined;\n\n    readonly verticalBorder: (col: number) => boolean;\n\n    /**\n     * Determines what can be dragged using HTML drag and drop\n     * @defaultValue false\n     * @group Drag and Drop\n     */\n    readonly isDraggable: boolean | \"cell\" | \"header\" | undefined;\n    /**\n     * If `isDraggable` is set, the grid becomes HTML draggable, and `onDragStart` will be called when dragging starts.\n     * You can use this to build a UI where the user can drag the Grid around.\n     * @group Drag and Drop\n     */\n    readonly onDragStart: (args: GridDragEventArgs) => void;\n    readonly onDragEnd: () => void;\n\n    /** @group Drag and Drop */\n    readonly onDragOverCell: ((cell: Item, dataTransfer: DataTransfer | null) => void) | undefined;\n    /** @group Drag and Drop */\n    readonly onDragLeave: (() => void) | undefined;\n\n    /**\n     * Called when a HTML Drag and Drop event is ended on the data grid.\n     * @group Drag and Drop\n     */\n    readonly onDrop: ((cell: Item, dataTransfer: DataTransfer | null) => void) | undefined;\n\n    /**\n     * Overrides the rendering of a header. The grid will call this for every header it needs to render. Header\n     * rendering is not as well optimized because they do not redraw as often, but very heavy drawing methods can\n     * negatively impact horizontal scrolling performance.\n     *\n     * It is possible to return `false` after rendering just a background and the regular foreground rendering\n     * will happen.\n     * @group Drawing\n     * @returns `false` if default header rendering should still happen, `true` to cancel rendering.\n     */\n    readonly drawHeader: DrawHeaderCallback | undefined;\n\n    readonly drawCell: DrawCellCallback | undefined;\n\n    /**\n     * Controls the drawing of the focus ring.\n     * @defaultValue true\n     * @group Style\n     */\n    readonly drawFocusRing: boolean | undefined;\n\n    readonly dragAndDropState:\n        | {\n              src: number;\n              dest: number;\n          }\n        | undefined;\n\n    /**\n     * Experimental features\n     * @group Advanced\n     * @experimental\n     */\n    readonly experimental:\n        | {\n              readonly disableAccessibilityTree?: boolean;\n              readonly disableMinimumCellWidth?: boolean;\n              readonly paddingRight?: number;\n              readonly paddingBottom?: number;\n              readonly enableFirefoxRescaling?: boolean;\n              readonly enableSafariRescaling?: boolean;\n              readonly kineticScrollPerfHack?: boolean;\n              readonly isSubGrid?: boolean;\n              readonly strict?: boolean;\n              readonly scrollbarWidthOverride?: number;\n              readonly hyperWrapping?: boolean;\n              readonly renderStrategy?: \"single-buffer\" | \"double-buffer\" | \"direct\";\n          }\n        | undefined;\n\n    /**\n     * Additional header icons for use by `GridColumn`.\n     *\n     * Providing custom header icons to the data grid must be done with a somewhat non-standard mechanism to allow\n     * theming and scaling. The `headerIcons` property takes a dictionary which maps icon names to functions which can\n     * take a foreground and background color and returns back a string representation of an svg. The svg should contain\n     * a header similar to this `<svg width=\"20\" height=\"20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">` and\n     * interpolate the fg/bg colors into the string.\n     *\n     * We recognize this process is not fantastic from a graphics workflow standpoint, improvements are very welcome\n     * here.\n     *\n     * @group Style\n     */\n    readonly headerIcons: SpriteMap | undefined;\n\n    /** Controls smooth scrolling in the data grid. If smooth scrolling is not enabled the grid will always be cell\n     * aligned.\n     * @defaultValue `false`\n     * @group Style\n     */\n    readonly smoothScrollX: boolean | undefined;\n    /** Controls smooth scrolling in the data grid. If smooth scrolling is not enabled the grid will always be cell\n     * aligned.\n     * @defaultValue `false`\n     * @group Style\n     */\n    readonly smoothScrollY: boolean | undefined;\n\n    readonly theme: FullTheme;\n\n    readonly getCellRenderer: <T extends InnerGridCell>(cell: T) => CellRenderer<T> | undefined;\n}\n\ntype DamageUpdateList = readonly {\n    cell: Item;\n    // newValue: GridCell,\n}[];\n\nconst fillHandleClickSize = 6;\n\nexport interface DataGridRef {\n    focus: () => void;\n    getBounds: (col?: number, row?: number) => Rectangle | undefined;\n    damage: (cells: DamageUpdateList) => void;\n}\n\nconst getRowData = (cell: InnerGridCell, getCellRenderer?: GetCellRendererCallback) => {\n    if (cell.kind === GridCellKind.Custom) return cell.copyData;\n    const r = getCellRenderer?.(cell);\n    return r?.getAccessibilityString(cell) ?? \"\";\n};\n\nconst DataGrid: React.ForwardRefRenderFunction<DataGridRef, DataGridProps> = (p, forwardedRef) => {\n    const {\n        width,\n        height,\n        accessibilityHeight,\n        columns,\n        cellXOffset: cellXOffsetReal,\n        cellYOffset,\n        headerHeight,\n        fillHandle = false,\n        groupHeaderHeight,\n        rowHeight,\n        rows,\n        getCellContent,\n        getRowThemeOverride,\n        onHeaderMenuClick,\n        enableGroups,\n        isFilling,\n        onCanvasFocused,\n        onCanvasBlur,\n        isFocused,\n        selection,\n        freezeColumns,\n        onContextMenu,\n        freezeTrailingRows,\n        fixedShadowX = true,\n        fixedShadowY = true,\n        drawFocusRing = true,\n        onMouseDown,\n        onMouseUp,\n        onMouseMoveRaw,\n        onMouseMove,\n        onItemHovered,\n        dragAndDropState,\n        firstColAccessible,\n        onKeyDown,\n        onKeyUp,\n        highlightRegions,\n        canvasRef,\n        onDragStart,\n        onDragEnd,\n        eventTargetRef,\n        isResizing,\n        resizeColumn: resizeCol,\n        isDragging,\n        isDraggable = false,\n        allowResize,\n        disabledRows,\n        hasAppendRow,\n        getGroupDetails,\n        theme,\n        prelightCells,\n        headerIcons,\n        verticalBorder,\n        drawCell: drawCellCallback,\n        drawHeader: drawHeaderCallback,\n        onCellFocused,\n        onDragOverCell,\n        onDrop,\n        onDragLeave,\n        imageWindowLoader,\n        smoothScrollX = false,\n        smoothScrollY = false,\n        experimental,\n        getCellRenderer,\n    } = p;\n    const translateX = p.translateX ?? 0;\n    const translateY = p.translateY ?? 0;\n    const cellXOffset = Math.max(freezeColumns, Math.min(columns.length - 1, cellXOffsetReal));\n\n    const ref = React.useRef<HTMLCanvasElement | null>(null);\n    const imageLoader = imageWindowLoader;\n    const damageRegion = React.useRef<CellSet | undefined>();\n    const [scrolling, setScrolling] = React.useState<boolean>(false);\n    const hoverValues = React.useRef<readonly { item: Item; hoverAmount: number }[]>([]);\n    const lastBlitData = React.useRef<BlitData | undefined>();\n    const [hoveredItemInfo, setHoveredItemInfo] = React.useState<[Item, readonly [number, number]] | undefined>();\n    const [hoveredOnEdge, setHoveredOnEdge] = React.useState<boolean>();\n    const overlayRef = React.useRef<HTMLCanvasElement | null>(null);\n    const [drawCursorOverride, setDrawCursorOverride] = React.useState<React.CSSProperties[\"cursor\"] | undefined>();\n\n    const [lastWasTouch, setLastWasTouch] = React.useState(false);\n    const lastWasTouchRef = React.useRef(lastWasTouch);\n    lastWasTouchRef.current = lastWasTouch;\n\n    const spriteManager = React.useMemo(\n        () =>\n            new SpriteManager(headerIcons, () => {\n                lastArgsRef.current = undefined;\n                lastDrawRef.current();\n            }),\n        [headerIcons]\n    );\n    const totalHeaderHeight = enableGroups ? groupHeaderHeight + headerHeight : headerHeight;\n\n    const scrollingStopRef = React.useRef(-1);\n    const enableFirefoxRescaling = (experimental?.enableFirefoxRescaling ?? false) && browserIsFirefox.value;\n    const enableSafariRescaling = (experimental?.enableSafariRescaling ?? false) && browserIsSafari.value;\n    React.useLayoutEffect(() => {\n        if (window.devicePixelRatio === 1 || (!enableFirefoxRescaling && !enableSafariRescaling)) return;\n        // We don't want to go into scroll mode for a single repaint\n        if (scrollingStopRef.current !== -1) {\n            setScrolling(true);\n        }\n        window.clearTimeout(scrollingStopRef.current);\n        scrollingStopRef.current = window.setTimeout(() => {\n            setScrolling(false);\n            scrollingStopRef.current = -1;\n        }, 200);\n    }, [cellYOffset, cellXOffset, translateX, translateY, enableFirefoxRescaling, enableSafariRescaling]);\n\n    const mappedColumns = useMappedColumns(columns, freezeColumns);\n    const stickyX = fixedShadowX ? getStickyWidth(mappedColumns, dragAndDropState) : 0;\n\n    // row: -1 === columnHeader, -2 === groupHeader\n    const getBoundsForItem = React.useCallback(\n        (canvas: HTMLCanvasElement, col: number, row: number): Rectangle | undefined => {\n            const rect = canvas.getBoundingClientRect();\n\n            if (col >= mappedColumns.length || row >= rows) {\n                return undefined;\n            }\n\n            const scale = rect.width / width;\n\n            const result = computeBounds(\n                col,\n                row,\n                width,\n                height,\n                groupHeaderHeight,\n                totalHeaderHeight,\n                cellXOffset,\n                cellYOffset,\n                translateX,\n                translateY,\n                rows,\n                freezeColumns,\n                freezeTrailingRows,\n                mappedColumns,\n                rowHeight\n            );\n\n            if (scale !== 1) {\n                result.x *= scale;\n                result.y *= scale;\n                result.width *= scale;\n                result.height *= scale;\n            }\n\n            result.x += rect.x;\n            result.y += rect.y;\n\n            return result;\n        },\n        [\n            width,\n            height,\n            groupHeaderHeight,\n            totalHeaderHeight,\n            cellXOffset,\n            cellYOffset,\n            translateX,\n            translateY,\n            rows,\n            freezeColumns,\n            freezeTrailingRows,\n            mappedColumns,\n            rowHeight,\n        ]\n    );\n\n    const getMouseArgsForPosition = React.useCallback(\n        (canvas: HTMLCanvasElement, posX: number, posY: number, ev?: MouseEvent | TouchEvent): GridMouseEventArgs => {\n            const rect = canvas.getBoundingClientRect();\n            const scale = rect.width / width;\n            const x = (posX - rect.left) / scale;\n            const y = (posY - rect.top) / scale;\n            const edgeDetectionBuffer = 5;\n\n            const effectiveCols = getEffectiveColumns(mappedColumns, cellXOffset, width, undefined, translateX);\n\n            let button = 0;\n            let buttons = 0;\n            if (ev instanceof MouseEvent) {\n                button = ev.button;\n                buttons = ev.buttons;\n            }\n\n            // -1 === off right edge\n            const col = getColumnIndexForX(x, effectiveCols, translateX);\n\n            // -1: header or above\n            // undefined: offbottom\n            const row = getRowIndexForY(\n                y,\n                height,\n                enableGroups,\n                headerHeight,\n                groupHeaderHeight,\n                rows,\n                rowHeight,\n                cellYOffset,\n                translateY,\n                freezeTrailingRows\n            );\n\n            const shiftKey = ev?.shiftKey === true;\n            const ctrlKey = ev?.ctrlKey === true;\n            const metaKey = ev?.metaKey === true;\n            const isTouch = (ev !== undefined && !(ev instanceof MouseEvent)) || (ev as any)?.pointerType === \"touch\";\n\n            const scrollEdge: GridMouseEventArgs[\"scrollEdge\"] = [\n                x < 0 ? -1 : width < x ? 1 : 0,\n                y < totalHeaderHeight ? -1 : height < y ? 1 : 0,\n            ];\n\n            let result: GridMouseEventArgs;\n            if (col === -1 || y < 0 || x < 0 || row === undefined || x > width || y > height) {\n                const horizontal = x > width ? 1 : x < 0 ? -1 : 0;\n                const vertical = y > height ? 1 : y < 0 ? -1 : 0;\n\n                let innerHorizontal: OutOfBoundsRegionAxis = horizontal * 2;\n                let innerVertical: OutOfBoundsRegionAxis = vertical * 2;\n                if (horizontal === 0)\n                    innerHorizontal = col === -1 ? OutOfBoundsRegionAxis.EndPadding : OutOfBoundsRegionAxis.Center;\n                if (vertical === 0)\n                    innerVertical = row === undefined ? OutOfBoundsRegionAxis.EndPadding : OutOfBoundsRegionAxis.Center;\n\n                let isEdge = false;\n                if (col === -1 && row === -1) {\n                    const b = getBoundsForItem(canvas, mappedColumns.length - 1, -1);\n                    assert(b !== undefined);\n                    isEdge = posX < b.x + b.width + edgeDetectionBuffer;\n                }\n\n                // This is used to ensure that clicking on the scrollbar doesn't unset the selection.\n                // Unfortunately this doesn't work for overlay scrollbars because they are just a broken interaction\n                // by design.\n                const isMaybeScrollbar =\n                    (x > width && x < width + getScrollBarWidth()) || (y > height && y < height + getScrollBarWidth());\n\n                result = {\n                    kind: outOfBoundsKind,\n                    location: [col !== -1 ? col : x < 0 ? 0 : mappedColumns.length - 1, row ?? rows - 1],\n                    region: [innerHorizontal, innerVertical],\n                    shiftKey,\n                    ctrlKey,\n                    metaKey,\n                    isEdge,\n                    isTouch,\n                    button,\n                    buttons,\n                    scrollEdge,\n                    isMaybeScrollbar,\n                };\n            } else if (row <= -1) {\n                let bounds = getBoundsForItem(canvas, col, row);\n                assert(bounds !== undefined);\n                let isEdge = bounds !== undefined && bounds.x + bounds.width - posX <= edgeDetectionBuffer;\n\n                const previousCol = col - 1;\n                if (posX - bounds.x <= edgeDetectionBuffer && previousCol >= 0) {\n                    isEdge = true;\n                    bounds = getBoundsForItem(canvas, previousCol, row);\n                    assert(bounds !== undefined);\n                    result = {\n                        kind: enableGroups && row === -2 ? groupHeaderKind : headerKind,\n                        location: [previousCol, row] as any,\n                        bounds: bounds,\n                        group: mappedColumns[previousCol].group ?? \"\",\n                        isEdge,\n                        shiftKey,\n                        ctrlKey,\n                        metaKey,\n                        isTouch,\n                        localEventX: posX - bounds.x,\n                        localEventY: posY - bounds.y,\n                        button,\n                        buttons,\n                        scrollEdge,\n                    };\n                } else {\n                    result = {\n                        kind: enableGroups && row === -2 ? groupHeaderKind : headerKind,\n                        group: mappedColumns[col].group ?? \"\",\n                        location: [col, row] as any,\n                        bounds: bounds,\n                        isEdge,\n                        shiftKey,\n                        ctrlKey,\n                        metaKey,\n                        isTouch,\n                        localEventX: posX - bounds.x,\n                        localEventY: posY - bounds.y,\n                        button,\n                        buttons,\n                        scrollEdge,\n                    };\n                }\n            } else {\n                const bounds = getBoundsForItem(canvas, col, row);\n                assert(bounds !== undefined);\n                const isEdge = bounds !== undefined && bounds.x + bounds.width - posX < edgeDetectionBuffer;\n\n                let isFillHandle = false;\n                if (fillHandle && selection.current !== undefined) {\n                    const fillHandleLocation = rectBottomRight(selection.current.range);\n                    const fillHandleCellBounds = getBoundsForItem(canvas, fillHandleLocation[0], fillHandleLocation[1]);\n\n                    if (fillHandleCellBounds !== undefined) {\n                        const handleLogicalCenterX = fillHandleCellBounds.x + fillHandleCellBounds.width - 2;\n                        const handleLogicalCenterY = fillHandleCellBounds.y + fillHandleCellBounds.height - 2;\n\n                        //check if posX and posY are within fillHandleClickSize from handleLogicalCenter\n                        isFillHandle =\n                            Math.abs(handleLogicalCenterX - posX) < fillHandleClickSize &&\n                            Math.abs(handleLogicalCenterY - posY) < fillHandleClickSize;\n                    }\n                }\n\n                result = {\n                    kind: \"cell\",\n                    location: [col, row],\n                    bounds: bounds,\n                    isEdge,\n                    shiftKey,\n                    ctrlKey,\n                    isFillHandle,\n                    metaKey,\n                    isTouch,\n                    localEventX: posX - bounds.x,\n                    localEventY: posY - bounds.y,\n                    button,\n                    buttons,\n                    scrollEdge,\n                };\n            }\n            return result;\n        },\n        [\n            width,\n            mappedColumns,\n            cellXOffset,\n            translateX,\n            height,\n            enableGroups,\n            headerHeight,\n            groupHeaderHeight,\n            rows,\n            rowHeight,\n            cellYOffset,\n            translateY,\n            freezeTrailingRows,\n            getBoundsForItem,\n            fillHandle,\n            selection,\n            totalHeaderHeight,\n        ]\n    );\n\n    const [hoveredItem] = hoveredItemInfo ?? [];\n\n    const enqueueRef = React.useRef<EnqueueCallback>(() => {\n        // do nothing\n    });\n    const hoverInfoRef = React.useRef(hoveredItemInfo);\n    hoverInfoRef.current = hoveredItemInfo;\n\n    const [bufferACtx, bufferBCtx] = React.useMemo(() => {\n        const a = document.createElement(\"canvas\");\n        const b = document.createElement(\"canvas\");\n        a.style[\"display\"] = \"none\";\n        a.style[\"opacity\"] = \"0\";\n        a.style[\"position\"] = \"fixed\";\n        b.style[\"display\"] = \"none\";\n        b.style[\"opacity\"] = \"0\";\n        b.style[\"position\"] = \"fixed\";\n        return [a.getContext(\"2d\", { alpha: false }), b.getContext(\"2d\", { alpha: false })];\n    }, []);\n\n    React.useLayoutEffect(() => {\n        if (bufferACtx === null || bufferBCtx === null) return;\n        document.documentElement.append(bufferACtx.canvas);\n        document.documentElement.append(bufferBCtx.canvas);\n        return () => {\n            bufferACtx.canvas.remove();\n            bufferBCtx.canvas.remove();\n        };\n    }, [bufferACtx, bufferBCtx]);\n\n    const renderStateProvider = React.useMemo(() => new RenderStateProvider(), []);\n\n    const maxDPR = enableFirefoxRescaling && scrolling ? 1 : enableSafariRescaling && scrolling ? 2 : 5;\n    const minimumCellWidth = experimental?.disableMinimumCellWidth === true ? 1 : 10;\n    const lastArgsRef = React.useRef<DrawGridArg>();\n\n    const canvasCtx = React.useRef<CanvasRenderingContext2D | null>(null);\n    const overlayCtx = React.useRef<CanvasRenderingContext2D | null>(null);\n\n    const draw = React.useCallback(() => {\n        const canvas = ref.current;\n        const overlay = overlayRef.current;\n        if (canvas === null || overlay === null) return;\n\n        if (canvasCtx.current === null) {\n            canvasCtx.current = canvas.getContext(\"2d\", { alpha: false });\n            canvas.width = 0;\n            canvas.height = 0;\n        }\n\n        if (overlayCtx.current === null) {\n            overlayCtx.current = overlay.getContext(\"2d\", { alpha: false });\n            overlay.width = 0;\n            overlay.height = 0;\n        }\n\n        if (canvasCtx.current === null || overlayCtx.current === null || bufferACtx === null || bufferBCtx === null) {\n            return;\n        }\n\n        let didOverride = false;\n        const overrideCursor = (cursor: React.CSSProperties[\"cursor\"]) => {\n            didOverride = true;\n            setDrawCursorOverride(cursor);\n        };\n\n        const last = lastArgsRef.current;\n        const current = {\n            headerCanvasCtx: overlayCtx.current,\n            canvasCtx: canvasCtx.current,\n            bufferACtx,\n            bufferBCtx,\n            width,\n            height,\n            cellXOffset,\n            cellYOffset,\n            translateX: Math.round(translateX),\n            translateY: Math.round(translateY),\n            mappedColumns,\n            enableGroups,\n            freezeColumns,\n            dragAndDropState,\n            theme,\n            headerHeight,\n            groupHeaderHeight,\n            disabledRows: disabledRows ?? CompactSelection.empty(),\n            rowHeight,\n            verticalBorder,\n            isResizing,\n            resizeCol,\n            isFocused,\n            selection,\n            fillHandle,\n            drawCellCallback,\n            hasAppendRow,\n            overrideCursor,\n            maxScaleFactor: maxDPR,\n            freezeTrailingRows,\n            rows,\n            drawFocus: drawFocusRing,\n            getCellContent,\n            getGroupDetails: getGroupDetails ?? (name => ({ name })),\n            getRowThemeOverride,\n            drawHeaderCallback,\n            prelightCells,\n            highlightRegions,\n            imageLoader,\n            lastBlitData,\n            damage: damageRegion.current,\n            hoverValues: hoverValues.current,\n            hoverInfo: hoverInfoRef.current,\n            spriteManager,\n            scrolling,\n            hyperWrapping: experimental?.hyperWrapping ?? false,\n            touchMode: lastWasTouch,\n            enqueue: enqueueRef.current,\n            renderStateProvider,\n            renderStrategy: experimental?.renderStrategy ?? (browserIsSafari.value ? \"double-buffer\" : \"single-buffer\"),\n            getCellRenderer,\n            minimumCellWidth,\n        };\n\n        // This confusing bit of code due to some poor design. Long story short, the damage property is only used\n        // with what is effectively the \"last args\" for the last normal draw anyway. We don't want the drawing code\n        // to look at this and go \"shit dawg, nothing changed\" so we force it to draw frash, but the damage restricts\n        // the draw anyway.\n        //\n        // Dear future Jason, I'm sorry. It was expedient, it worked, and had almost zero perf overhead. THe universe\n        // basically made me do it. What choice did I have?\n        if (current.damage === undefined) {\n            lastArgsRef.current = current;\n            drawGrid(current, last);\n        } else {\n            drawGrid(current, undefined);\n        }\n\n        // don't reset on damage events\n        if (!didOverride && (current.damage === undefined || current.damage.has(hoverInfoRef?.current?.[0]))) {\n            setDrawCursorOverride(undefined);\n        }\n    }, [\n        bufferACtx,\n        bufferBCtx,\n        width,\n        height,\n        cellXOffset,\n        cellYOffset,\n        translateX,\n        translateY,\n        mappedColumns,\n        enableGroups,\n        freezeColumns,\n        dragAndDropState,\n        theme,\n        headerHeight,\n        groupHeaderHeight,\n        disabledRows,\n        rowHeight,\n        verticalBorder,\n        isResizing,\n        hasAppendRow,\n        resizeCol,\n        isFocused,\n        selection,\n        fillHandle,\n        freezeTrailingRows,\n        rows,\n        drawFocusRing,\n        maxDPR,\n        getCellContent,\n        getGroupDetails,\n        getRowThemeOverride,\n        drawCellCallback,\n        drawHeaderCallback,\n        prelightCells,\n        highlightRegions,\n        imageLoader,\n        spriteManager,\n        scrolling,\n        experimental?.hyperWrapping,\n        experimental?.renderStrategy,\n        lastWasTouch,\n        renderStateProvider,\n        getCellRenderer,\n        minimumCellWidth,\n    ]);\n\n    const lastDrawRef = React.useRef(draw);\n    React.useLayoutEffect(() => {\n        draw();\n        lastDrawRef.current = draw;\n    }, [draw]);\n\n    React.useLayoutEffect(() => {\n        const fn = async () => {\n            if (document?.fonts?.ready === undefined) return;\n            await document.fonts.ready;\n            lastArgsRef.current = undefined;\n            lastDrawRef.current();\n        };\n        void fn();\n    }, []);\n\n    const damageInternal = React.useCallback((locations: CellSet) => {\n        damageRegion.current = locations;\n        lastDrawRef.current();\n        damageRegion.current = undefined;\n    }, []);\n\n    const enqueue = useAnimationQueue(damageInternal);\n    enqueueRef.current = enqueue;\n\n    const damage = React.useCallback(\n        (cells: DamageUpdateList) => {\n            damageInternal(new CellSet(cells.map(x => x.cell)));\n        },\n        [damageInternal]\n    );\n\n    imageLoader.setCallback(damageInternal);\n\n    const [overFill, setOverFill] = React.useState(false);\n\n    const [hCol, hRow] = hoveredItem ?? [];\n    const headerHovered = hCol !== undefined && hRow === -1;\n    const groupHeaderHovered = hCol !== undefined && hRow === -2;\n    let clickableInnerCellHovered = false;\n    let editableBoolHovered = false;\n    let cursorOverride: React.CSSProperties[\"cursor\"] | undefined = drawCursorOverride;\n    if (cursorOverride === undefined && hCol !== undefined && hRow !== undefined && hRow > -1 && hRow < rows) {\n        const cell = getCellContent([hCol, hRow], true);\n        clickableInnerCellHovered =\n            cell.kind === InnerGridCellKind.NewRow ||\n            (cell.kind === InnerGridCellKind.Marker && cell.markerKind !== \"number\");\n        editableBoolHovered = cell.kind === GridCellKind.Boolean && booleanCellIsEditable(cell);\n        cursorOverride = cell.cursor;\n    }\n    const canDrag = hoveredOnEdge ?? false;\n    const cursor = isDragging\n        ? \"grabbing\"\n        : canDrag || isResizing\n        ? \"col-resize\"\n        : overFill || isFilling\n        ? \"crosshair\"\n        : cursorOverride !== undefined\n        ? cursorOverride\n        : headerHovered || clickableInnerCellHovered || editableBoolHovered || groupHeaderHovered\n        ? \"pointer\"\n        : \"default\";\n    const style = React.useMemo(\n        () => ({\n            // width,\n            // height,\n            contain: \"strict\",\n            display: \"block\",\n            cursor,\n        }),\n        [cursor]\n    );\n\n    const lastSetCursor = React.useRef<typeof cursor>(\"default\");\n    const target = eventTargetRef?.current;\n    if (target !== null && target !== undefined && lastSetCursor.current !== style.cursor) {\n        // because we have an event target we need to set its cursor instead.\n        target.style.cursor = lastSetCursor.current = style.cursor;\n    }\n\n    const groupHeaderActionForEvent = React.useCallback(\n        (group: string, bounds: Rectangle, localEventX: number, localEventY: number) => {\n            if (getGroupDetails === undefined) return undefined;\n            const groupDesc = getGroupDetails(group);\n            if (groupDesc.actions !== undefined) {\n                const boxes = getActionBoundsForGroup(bounds, groupDesc.actions);\n                for (const [i, box] of boxes.entries()) {\n                    if (pointInRect(box, localEventX + bounds.x, localEventY + box.y)) {\n                        return groupDesc.actions[i];\n                    }\n                }\n            }\n            return undefined;\n        },\n        [getGroupDetails]\n    );\n\n    const isOverHeaderMenu = React.useCallback(\n        (canvas: HTMLCanvasElement, col: number, clientX: number, clientY: number) => {\n            const header = columns[col];\n\n            if (!isDragging && !isResizing && header.hasMenu === true && !(hoveredOnEdge ?? false)) {\n                const headerBounds = getBoundsForItem(canvas, col, -1);\n                assert(headerBounds !== undefined);\n                const menuBounds = getHeaderMenuBounds(\n                    headerBounds.x,\n                    headerBounds.y,\n                    headerBounds.width,\n                    headerBounds.height,\n                    direction(header.title) === \"rtl\"\n                );\n                if (\n                    clientX > menuBounds.x &&\n                    clientX < menuBounds.x + menuBounds.width &&\n                    clientY > menuBounds.y &&\n                    clientY < menuBounds.y + menuBounds.height\n                ) {\n                    return headerBounds;\n                }\n            }\n            return undefined;\n        },\n        [columns, getBoundsForItem, hoveredOnEdge, isDragging, isResizing]\n    );\n\n    const downTime = React.useRef(0);\n    const downPosition = React.useRef<Item>();\n    const mouseDown = React.useRef(false);\n    const onMouseDownImpl = React.useCallback(\n        (ev: MouseEvent | TouchEvent) => {\n            const canvas = ref.current;\n            const eventTarget = eventTargetRef?.current;\n            if (canvas === null || (ev.target !== canvas && ev.target !== eventTarget)) return;\n            mouseDown.current = true;\n\n            let clientX: number;\n            let clientY: number;\n            if (ev instanceof MouseEvent) {\n                clientX = ev.clientX;\n                clientY = ev.clientY;\n            } else {\n                clientX = ev.touches[0].clientX;\n                clientY = ev.touches[0].clientY;\n            }\n            if (ev.target === eventTarget && eventTarget !== null) {\n                const bounds = eventTarget.getBoundingClientRect();\n                if (clientX > bounds.right || clientY > bounds.bottom) return;\n            }\n\n            const args = getMouseArgsForPosition(canvas, clientX, clientY, ev);\n            downPosition.current = args.location;\n\n            if (args.isTouch) {\n                downTime.current = Date.now();\n            }\n            if (lastWasTouchRef.current !== args.isTouch) {\n                setLastWasTouch(args.isTouch);\n            }\n\n            if (\n                args.kind === headerKind &&\n                isOverHeaderMenu(canvas, args.location[0], clientX, clientY) !== undefined\n            ) {\n                return;\n            } else if (args.kind === groupHeaderKind) {\n                const action = groupHeaderActionForEvent(args.group, args.bounds, args.localEventX, args.localEventY);\n                if (action !== undefined) {\n                    return;\n                }\n            }\n\n            onMouseDown?.(args);\n            if (\n                !args.isTouch &&\n                isDraggable !== true &&\n                isDraggable !== args.kind &&\n                args.button < 3 &&\n                args.button !== 1\n            ) {\n                // preventing default in touch events stops scroll\n                ev.preventDefault();\n            }\n        },\n        [eventTargetRef, isDraggable, getMouseArgsForPosition, groupHeaderActionForEvent, isOverHeaderMenu, onMouseDown]\n    );\n    useEventListener(\"touchstart\", onMouseDownImpl, window, false);\n    useEventListener(\"mousedown\", onMouseDownImpl, window, false);\n\n    const lastUpTime = React.useRef(0);\n\n    const onMouseUpImpl = React.useCallback(\n        (ev: MouseEvent | TouchEvent) => {\n            const lastUpTimeValue = lastUpTime.current;\n            lastUpTime.current = Date.now();\n            const canvas = ref.current;\n            mouseDown.current = false;\n            if (onMouseUp === undefined || canvas === null) return;\n            const eventTarget = eventTargetRef?.current;\n\n            const isOutside = ev.target !== canvas && ev.target !== eventTarget;\n\n            let clientX: number;\n            let clientY: number;\n            let canCancel = true;\n            if (ev instanceof MouseEvent) {\n                clientX = ev.clientX;\n                clientY = ev.clientY;\n                canCancel = ev.button < 3;\n                if ((ev as any).pointerType === \"touch\") {\n                    return;\n                }\n            } else {\n                clientX = ev.changedTouches[0].clientX;\n                clientY = ev.changedTouches[0].clientY;\n            }\n\n            let args = getMouseArgsForPosition(canvas, clientX, clientY, ev);\n\n            if (args.isTouch && downTime.current !== 0 && Date.now() - downTime.current > 500) {\n                args = {\n                    ...args,\n                    isLongTouch: true,\n                };\n            }\n\n            if (lastUpTimeValue !== 0 && Date.now() - lastUpTimeValue < (args.isTouch ? 1000 : 500)) {\n                args = {\n                    ...args,\n                    isDoubleClick: true,\n                };\n            }\n\n            if (lastWasTouchRef.current !== args.isTouch) {\n                setLastWasTouch(args.isTouch);\n            }\n\n            if (!isOutside && ev.cancelable && canCancel) {\n                ev.preventDefault();\n            }\n\n            const [col] = args.location;\n            const headerBounds = isOverHeaderMenu(canvas, col, clientX, clientY);\n            if (args.kind === headerKind && headerBounds !== undefined) {\n                if (args.button !== 0 || downPosition.current?.[0] !== col || downPosition.current?.[1] !== -1) {\n                    // force outside so that click will not process\n                    onMouseUp(args, true);\n                }\n                return;\n            } else if (args.kind === groupHeaderKind) {\n                const action = groupHeaderActionForEvent(args.group, args.bounds, args.localEventX, args.localEventY);\n                if (action !== undefined) {\n                    if (args.button === 0) {\n                        action.onClick(args);\n                    }\n                    return;\n                }\n            }\n\n            onMouseUp(args, isOutside);\n        },\n        [onMouseUp, eventTargetRef, getMouseArgsForPosition, isOverHeaderMenu, groupHeaderActionForEvent]\n    );\n    useEventListener(\"mouseup\", onMouseUpImpl, window, false);\n    useEventListener(\"touchend\", onMouseUpImpl, window, false);\n\n    const onClickImpl = React.useCallback(\n        (ev: MouseEvent | TouchEvent) => {\n            const canvas = ref.current;\n            if (canvas === null) return;\n            const eventTarget = eventTargetRef?.current;\n\n            const isOutside = ev.target !== canvas && ev.target !== eventTarget;\n\n            let clientX: number;\n            let clientY: number;\n            let canCancel = true;\n            if (ev instanceof MouseEvent) {\n                clientX = ev.clientX;\n                clientY = ev.clientY;\n                canCancel = ev.button < 3;\n            } else {\n                clientX = ev.changedTouches[0].clientX;\n                clientY = ev.changedTouches[0].clientY;\n            }\n\n            const args = getMouseArgsForPosition(canvas, clientX, clientY, ev);\n\n            if (lastWasTouchRef.current !== args.isTouch) {\n                setLastWasTouch(args.isTouch);\n            }\n\n            if (!isOutside && ev.cancelable && canCancel) {\n                ev.preventDefault();\n            }\n\n            const [col] = args.location;\n            const headerBounds = isOverHeaderMenu(canvas, col, clientX, clientY);\n            if (args.kind === headerKind && headerBounds !== undefined) {\n                if (args.button === 0 && downPosition.current?.[0] === col && downPosition.current?.[1] === -1) {\n                    onHeaderMenuClick?.(col, headerBounds);\n                }\n            } else if (args.kind === groupHeaderKind) {\n                const action = groupHeaderActionForEvent(args.group, args.bounds, args.localEventX, args.localEventY);\n                if (action !== undefined && args.button === 0) {\n                    action.onClick(args);\n                }\n            }\n        },\n        [eventTargetRef, getMouseArgsForPosition, isOverHeaderMenu, onHeaderMenuClick, groupHeaderActionForEvent]\n    );\n    useEventListener(\"click\", onClickImpl, window, false);\n\n    const onContextMenuImpl = React.useCallback(\n        (ev: MouseEvent) => {\n            const canvas = ref.current;\n            const eventTarget = eventTargetRef?.current;\n            if (canvas === null || (ev.target !== canvas && ev.target !== eventTarget) || onContextMenu === undefined)\n                return;\n            const args = getMouseArgsForPosition(canvas, ev.clientX, ev.clientY, ev);\n            onContextMenu(args, () => {\n                if (ev.cancelable) ev.preventDefault();\n            });\n        },\n        [eventTargetRef, getMouseArgsForPosition, onContextMenu]\n    );\n    useEventListener(\"contextmenu\", onContextMenuImpl, eventTargetRef?.current ?? null, false);\n\n    const onAnimationFrame = React.useCallback<StepCallback>(values => {\n        damageRegion.current = new CellSet(values.map(x => x.item));\n        hoverValues.current = values;\n        lastDrawRef.current();\n        damageRegion.current = undefined;\n    }, []);\n\n    const animManagerValue = React.useMemo(() => new AnimationManager(onAnimationFrame), [onAnimationFrame]);\n    const animationManager = React.useRef(animManagerValue);\n    animationManager.current = animManagerValue;\n    React.useLayoutEffect(() => {\n        const am = animationManager.current;\n        if (hoveredItem === undefined || hoveredItem[1] < 0) {\n            am.setHovered(hoveredItem);\n            return;\n        }\n        const cell = getCellContent(hoveredItem as [number, number], true);\n        const r = getCellRenderer(cell);\n        const cellNeedsHover =\n            (r === undefined && cell.kind === GridCellKind.Custom) ||\n            (r?.needsHover !== undefined && (typeof r.needsHover === \"boolean\" ? r.needsHover : r.needsHover(cell)));\n        am.setHovered(cellNeedsHover ? hoveredItem : undefined);\n    }, [getCellContent, getCellRenderer, hoveredItem]);\n\n    const hoveredRef = React.useRef<GridMouseEventArgs>();\n    const onMouseMoveImpl = React.useCallback(\n        (ev: MouseEvent) => {\n            const canvas = ref.current;\n            if (canvas === null) return;\n\n            const eventTarget = eventTargetRef?.current;\n            const isIndirect = ev.target !== canvas && ev.target !== eventTarget;\n\n            const args = getMouseArgsForPosition(canvas, ev.clientX, ev.clientY, ev);\n            if (args.kind !== \"out-of-bounds\" && isIndirect && !mouseDown.current && !args.isTouch) {\n                // we are obscured by something else, so we want to not register events if we are not doing anything\n                // important already\n                return;\n            }\n\n            // the point here is not to trigger re-renders every time the mouse moves over a cell\n            // that doesn't care about the mouse positon.\n            const maybeSetHoveredInfo = (newVal: typeof hoveredItemInfo, needPosition: boolean) => {\n                setHoveredItemInfo(cv => {\n                    if (cv === newVal) return cv;\n                    if (\n                        cv?.[0][0] === newVal?.[0][0] &&\n                        cv?.[0][1] === newVal?.[0][1] &&\n                        ((cv?.[1][0] === newVal?.[1][0] && cv?.[1][1] === newVal?.[1][1]) || !needPosition)\n                    ) {\n                        return cv;\n                    }\n                    return newVal;\n                });\n            };\n\n            if (!mouseEventArgsAreEqual(args, hoveredRef.current)) {\n                setDrawCursorOverride(undefined);\n                onItemHovered?.(args);\n                maybeSetHoveredInfo(\n                    args.kind === outOfBoundsKind ? undefined : [args.location, [args.localEventX, args.localEventY]],\n                    true\n                );\n                hoveredRef.current = args;\n            } else if (args.kind === \"cell\" || args.kind === headerKind || args.kind === groupHeaderKind) {\n                let needsDamageCell = false;\n                let needsHoverPosition = true;\n\n                if (args.kind === \"cell\") {\n                    const toCheck = getCellContent(args.location);\n                    const rendererNeeds = getCellRenderer(toCheck)?.needsHoverPosition;\n                    // custom cells we will assume need the position if they don't explicitly say they don't, everything\n                    // else we will assume doesn't need it.\n                    needsHoverPosition = rendererNeeds ?? toCheck.kind === GridCellKind.Custom;\n                    needsDamageCell = needsHoverPosition;\n                } else if (args.kind === groupHeaderKind) {\n                    needsDamageCell = true;\n                }\n\n                const newInfo: typeof hoverInfoRef.current = [args.location, [args.localEventX, args.localEventY]];\n                maybeSetHoveredInfo(newInfo, needsHoverPosition);\n                hoverInfoRef.current = newInfo;\n                if (needsDamageCell) {\n                    damageInternal(new CellSet([args.location]));\n                }\n            }\n\n            const notRowMarkerCol = args.location[0] >= (firstColAccessible ? 0 : 1);\n            setHoveredOnEdge(args.kind === headerKind && args.isEdge && notRowMarkerCol && allowResize === true);\n\n            setOverFill(args.kind === \"cell\" && args.isFillHandle);\n\n            onMouseMoveRaw?.(ev);\n            onMouseMove(args);\n        },\n        [\n            eventTargetRef,\n            getMouseArgsForPosition,\n            firstColAccessible,\n            allowResize,\n            onMouseMoveRaw,\n            onMouseMove,\n            onItemHovered,\n            getCellContent,\n            getCellRenderer,\n            damageInternal,\n        ]\n    );\n    useEventListener(\"mousemove\", onMouseMoveImpl, window, true);\n\n    const onKeyDownImpl = React.useCallback(\n        (event: React.KeyboardEvent<HTMLCanvasElement>) => {\n            const canvas = ref.current;\n            if (canvas === null) return;\n\n            let bounds: Rectangle | undefined;\n            let location: Item | undefined = undefined;\n            if (selection.current !== undefined) {\n                bounds = getBoundsForItem(canvas, selection.current.cell[0], selection.current.cell[1]);\n                location = selection.current.cell;\n            }\n\n            onKeyDown?.({\n                bounds,\n                stopPropagation: () => event.stopPropagation(),\n                preventDefault: () => event.preventDefault(),\n                cancel: () => undefined,\n                ctrlKey: event.ctrlKey,\n                metaKey: event.metaKey,\n                shiftKey: event.shiftKey,\n                altKey: event.altKey,\n                key: event.key,\n                keyCode: event.keyCode,\n                rawEvent: event,\n                location,\n            });\n        },\n        [onKeyDown, selection, getBoundsForItem]\n    );\n\n    const onKeyUpImpl = React.useCallback(\n        (event: React.KeyboardEvent<HTMLCanvasElement>) => {\n            const canvas = ref.current;\n            if (canvas === null) return;\n\n            let bounds: Rectangle | undefined;\n            let location: Item | undefined = undefined;\n            if (selection.current !== undefined) {\n                bounds = getBoundsForItem(canvas, selection.current.cell[0], selection.current.cell[1]);\n                location = selection.current.cell;\n            }\n\n            onKeyUp?.({\n                bounds,\n                stopPropagation: () => event.stopPropagation(),\n                preventDefault: () => event.preventDefault(),\n                cancel: () => undefined,\n                ctrlKey: event.ctrlKey,\n                metaKey: event.metaKey,\n                shiftKey: event.shiftKey,\n                altKey: event.altKey,\n                key: event.key,\n                keyCode: event.keyCode,\n                rawEvent: event,\n                location,\n            });\n        },\n        [onKeyUp, selection, getBoundsForItem]\n    );\n\n    const refImpl = React.useCallback(\n        (instance: HTMLCanvasElement | null) => {\n            ref.current = instance;\n            if (canvasRef !== undefined) {\n                canvasRef.current = instance;\n            }\n        },\n        [canvasRef]\n    );\n\n    const onDragStartImpl = React.useCallback(\n        (event: DragEvent) => {\n            const canvas = ref.current;\n            if (canvas === null || isDraggable === false || isResizing) {\n                event.preventDefault();\n                return;\n            }\n\n            let dragMime: string | undefined;\n            let dragData: string | undefined;\n\n            const args = getMouseArgsForPosition(canvas, event.clientX, event.clientY);\n\n            if (isDraggable !== true && args.kind !== isDraggable) {\n                event.preventDefault();\n                return;\n            }\n\n            const setData = (mime: string, payload: string) => {\n                dragMime = mime;\n                dragData = payload;\n            };\n\n            let dragImage: Element | undefined;\n            let dragImageX: number | undefined;\n            let dragImageY: number | undefined;\n            const setDragImage = (image: Element, x: number, y: number) => {\n                dragImage = image;\n                dragImageX = x;\n                dragImageY = y;\n            };\n\n            let prevented = false;\n\n            onDragStart?.({\n                ...args,\n                setData,\n                setDragImage,\n                preventDefault: () => (prevented = true),\n                defaultPrevented: () => prevented,\n            });\n            if (!prevented && dragMime !== undefined && dragData !== undefined && event.dataTransfer !== null) {\n                event.dataTransfer.setData(dragMime, dragData);\n                event.dataTransfer.effectAllowed = \"copyLink\";\n\n                if (dragImage !== undefined && dragImageX !== undefined && dragImageY !== undefined) {\n                    event.dataTransfer.setDragImage(dragImage, dragImageX, dragImageY);\n                } else {\n                    const [col, row] = args.location;\n                    if (row !== undefined) {\n                        const offscreen = document.createElement(\"canvas\");\n                        const boundsForDragTarget = getBoundsForItem(canvas, col, row);\n\n                        assert(boundsForDragTarget !== undefined);\n                        const dpr = Math.ceil(window.devicePixelRatio ?? 1);\n                        offscreen.width = boundsForDragTarget.width * dpr;\n                        offscreen.height = boundsForDragTarget.height * dpr;\n\n                        const ctx = offscreen.getContext(\"2d\");\n                        if (ctx !== null) {\n                            ctx.scale(dpr, dpr);\n                            ctx.textBaseline = \"middle\";\n                            if (row === -1) {\n                                ctx.font = theme.headerFontFull;\n                                ctx.fillStyle = theme.bgHeader;\n                                ctx.fillRect(0, 0, offscreen.width, offscreen.height);\n                                drawHeader(\n                                    ctx,\n                                    0,\n                                    0,\n                                    boundsForDragTarget.width,\n                                    boundsForDragTarget.height,\n                                    mappedColumns[col],\n                                    false,\n                                    theme,\n                                    false,\n                                    false,\n                                    0,\n                                    spriteManager,\n                                    drawHeaderCallback,\n                                    false\n                                );\n                            } else {\n                                ctx.font = theme.baseFontFull;\n                                ctx.fillStyle = theme.bgCell;\n                                ctx.fillRect(0, 0, offscreen.width, offscreen.height);\n                                drawCell(\n                                    ctx,\n                                    getCellContent([col, row]),\n                                    0,\n                                    row,\n                                    false,\n                                    false,\n                                    0,\n                                    0,\n                                    boundsForDragTarget.width,\n                                    boundsForDragTarget.height,\n                                    false,\n                                    theme,\n                                    theme.bgCell,\n                                    imageLoader,\n                                    spriteManager,\n                                    1,\n                                    undefined,\n                                    false,\n                                    0,\n                                    undefined,\n                                    undefined,\n                                    undefined,\n                                    renderStateProvider,\n                                    getCellRenderer,\n                                    () => undefined\n                                );\n                            }\n                        }\n\n                        offscreen.style.left = \"-100%\";\n                        offscreen.style.position = \"absolute\";\n                        offscreen.style.width = `${boundsForDragTarget.width}px`;\n                        offscreen.style.height = `${boundsForDragTarget.height}px`;\n\n                        document.body.append(offscreen);\n\n                        event.dataTransfer.setDragImage(\n                            offscreen,\n                            boundsForDragTarget.width / 2,\n                            boundsForDragTarget.height / 2\n                        );\n\n                        window.setTimeout(() => {\n                            offscreen.remove();\n                        }, 0);\n                    }\n                }\n            } else {\n                event.preventDefault();\n            }\n        },\n        [\n            isDraggable,\n            isResizing,\n            getMouseArgsForPosition,\n            onDragStart,\n            getBoundsForItem,\n            theme,\n            mappedColumns,\n            spriteManager,\n            drawHeaderCallback,\n            getCellContent,\n            imageLoader,\n            renderStateProvider,\n            getCellRenderer,\n        ]\n    );\n    useEventListener(\"dragstart\", onDragStartImpl, eventTargetRef?.current ?? null, false, false);\n\n    const activeDropTarget = React.useRef<Item | undefined>();\n\n    const onDragOverImpl = React.useCallback(\n        (event: DragEvent) => {\n            const canvas = ref.current;\n            if (onDrop !== undefined) {\n                // Need to preventDefault to allow drop\n                event.preventDefault();\n            }\n\n            if (canvas === null || onDragOverCell === undefined) {\n                return;\n            }\n\n            const args = getMouseArgsForPosition(canvas, event.clientX, event.clientY);\n\n            const [rawCol, row] = args.location;\n            const col = rawCol - (firstColAccessible ? 0 : 1);\n            const [activeCol, activeRow] = activeDropTarget.current ?? [];\n\n            if (activeCol !== col || activeRow !== row) {\n                activeDropTarget.current = [col, row];\n                onDragOverCell([col, row], event.dataTransfer);\n            }\n        },\n        [firstColAccessible, getMouseArgsForPosition, onDragOverCell, onDrop]\n    );\n    useEventListener(\"dragover\", onDragOverImpl, eventTargetRef?.current ?? null, false, false);\n\n    const onDragEndImpl = React.useCallback(() => {\n        activeDropTarget.current = undefined;\n        onDragEnd?.();\n    }, [onDragEnd]);\n    useEventListener(\"dragend\", onDragEndImpl, eventTargetRef?.current ?? null, false, false);\n\n    const onDropImpl = React.useCallback(\n        (event: DragEvent) => {\n            const canvas = ref.current;\n            if (canvas === null || onDrop === undefined) {\n                return;\n            }\n\n            // Default can mess up sometimes.\n            event.preventDefault();\n\n            const args = getMouseArgsForPosition(canvas, event.clientX, event.clientY);\n\n            const [rawCol, row] = args.location;\n            const col = rawCol - (firstColAccessible ? 0 : 1);\n\n            onDrop([col, row], event.dataTransfer);\n        },\n        [firstColAccessible, getMouseArgsForPosition, onDrop]\n    );\n    useEventListener(\"drop\", onDropImpl, eventTargetRef?.current ?? null, false, false);\n\n    const onDragLeaveImpl = React.useCallback(() => {\n        onDragLeave?.();\n    }, [onDragLeave]);\n    useEventListener(\"dragleave\", onDragLeaveImpl, eventTargetRef?.current ?? null, false, false);\n\n    const selectionRef = React.useRef(selection);\n    selectionRef.current = selection;\n    const focusRef = React.useRef<HTMLElement | null>(null);\n    const focusElement = React.useCallback(\n        (el: HTMLElement | null) => {\n            // We don't want to steal the focus if we don't currently own the focus.\n            if (ref.current === null || !ref.current.contains(document.activeElement)) return;\n            if (el === null && selectionRef.current.current !== undefined) {\n                canvasRef?.current?.focus({\n                    preventScroll: true,\n                });\n            } else if (el !== null) {\n                el.focus({\n                    preventScroll: true,\n                });\n            }\n            focusRef.current = el;\n        },\n        [canvasRef]\n    );\n\n    React.useImperativeHandle(\n        forwardedRef,\n        () => ({\n            focus: () => {\n                const el = focusRef.current;\n                // The element in the ref may have been removed however our callback method ref\n                // won't see the removal so bad things happen. Checking to see if the element is\n                // no longer attached is enough to resolve the problem. In the future this\n                // should be replaced with something much more robust.\n                if (el === null || !document.contains(el)) {\n                    canvasRef?.current?.focus({\n                        preventScroll: true,\n                    });\n                } else {\n                    el.focus({\n                        preventScroll: true,\n                    });\n                }\n            },\n            getBounds: (col?: number, row?: number) => {\n                if (canvasRef === undefined || canvasRef.current === null) {\n                    return undefined;\n                }\n\n                return getBoundsForItem(canvasRef.current, col ?? 0, row ?? -1);\n            },\n            damage,\n        }),\n        [canvasRef, damage, getBoundsForItem]\n    );\n\n    const lastFocusedSubdomNode = React.useRef<Item>();\n\n    const accessibilityTree = useDebouncedMemo(\n        () => {\n            if (width < 50 || experimental?.disableAccessibilityTree === true) return null;\n            let effectiveCols = getEffectiveColumns(mappedColumns, cellXOffset, width, dragAndDropState, translateX);\n            const colOffset = firstColAccessible ? 0 : -1;\n            if (!firstColAccessible && effectiveCols[0]?.sourceIndex === 0) {\n                effectiveCols = effectiveCols.slice(1);\n            }\n\n            const [fCol, fRow] = selection.current?.cell ?? [];\n            const range = selection.current?.range;\n\n            const visibleCols = effectiveCols.map(c => c.sourceIndex);\n            const visibleRows = makeRange(cellYOffset, Math.min(rows, cellYOffset + accessibilityHeight));\n\n            // Maintain focus within grid if we own it but focused cell is outside visible viewport\n            // and not rendered.\n            if (\n                fCol !== undefined &&\n                fRow !== undefined &&\n                !(visibleCols.includes(fCol) && visibleRows.includes(fRow))\n            ) {\n                focusElement(null);\n            }\n\n            return (\n                <table\n                    key=\"access-tree\"\n                    role=\"grid\"\n                    aria-rowcount={rows + 1}\n                    aria-multiselectable=\"true\"\n                    aria-colcount={mappedColumns.length + colOffset}>\n                    <thead role=\"rowgroup\">\n                        <tr role=\"row\" aria-rowindex={1}>\n                            {effectiveCols.map(c => (\n                                <th\n                                    role=\"columnheader\"\n                                    aria-selected={selection.columns.hasIndex(c.sourceIndex)}\n                                    aria-colindex={c.sourceIndex + 1 + colOffset}\n                                    tabIndex={-1}\n                                    onFocus={e => {\n                                        if (e.target === focusRef.current) return;\n                                        return onCellFocused?.([c.sourceIndex, -1]);\n                                    }}\n                                    key={c.sourceIndex}>\n                                    {c.title}\n                                </th>\n                            ))}\n                        </tr>\n                    </thead>\n                    <tbody role=\"rowgroup\">\n                        {visibleRows.map(row => (\n                            <tr\n                                role=\"row\"\n                                aria-selected={selection.rows.hasIndex(row)}\n                                key={row}\n                                aria-rowindex={row + 2}>\n                                {effectiveCols.map(c => {\n                                    const col = c.sourceIndex;\n                                    const key = packColRowToNumber(col, row);\n                                    const focused = fCol === col && fRow === row;\n                                    const selected =\n                                        range !== undefined &&\n                                        col >= range.x &&\n                                        col < range.x + range.width &&\n                                        row >= range.y &&\n                                        row < range.y + range.height;\n                                    const id = `glide-cell-${col}-${row}`;\n                                    const location: Item = [col, row];\n                                    const cellContent = getCellContent(location, true);\n                                    return (\n                                        <td\n                                            key={key}\n                                            role=\"gridcell\"\n                                            aria-colindex={col + 1 + colOffset}\n                                            aria-selected={selected}\n                                            aria-readonly={\n                                                isInnerOnlyCell(cellContent) || !isReadWriteCell(cellContent)\n                                            }\n                                            id={id}\n                                            data-testid={id}\n                                            onClick={() => {\n                                                const canvas = canvasRef?.current;\n                                                if (canvas === null || canvas === undefined) return;\n                                                return onKeyDown?.({\n                                                    bounds: getBoundsForItem(canvas, col, row),\n                                                    cancel: () => undefined,\n                                                    preventDefault: () => undefined,\n                                                    stopPropagation: () => undefined,\n                                                    ctrlKey: false,\n                                                    key: \"Enter\",\n                                                    keyCode: 13,\n                                                    metaKey: false,\n                                                    shiftKey: false,\n                                                    altKey: false,\n                                                    rawEvent: undefined,\n                                                    location,\n                                                });\n                                            }}\n                                            onFocusCapture={e => {\n                                                if (\n                                                    e.target === focusRef.current ||\n                                                    (lastFocusedSubdomNode.current?.[0] === col &&\n                                                        lastFocusedSubdomNode.current?.[1] === row)\n                                                )\n                                                    return;\n                                                lastFocusedSubdomNode.current = location;\n                                                return onCellFocused?.(location);\n                                            }}\n                                            ref={focused ? focusElement : undefined}\n                                            tabIndex={-1}>\n                                            {getRowData(cellContent, getCellRenderer)}\n                                        </td>\n                                    );\n                                })}\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            );\n        },\n        [\n            width,\n            mappedColumns,\n            cellXOffset,\n            dragAndDropState,\n            translateX,\n            rows,\n            cellYOffset,\n            accessibilityHeight,\n            selection,\n            focusElement,\n            getCellContent,\n            canvasRef,\n            onKeyDown,\n            getBoundsForItem,\n            onCellFocused,\n        ],\n        200\n    );\n\n    const opacityX =\n        freezeColumns === 0 || !fixedShadowX ? 0 : cellXOffset > freezeColumns ? 1 : clamp(-translateX / 100, 0, 1);\n\n    const absoluteOffsetY = -cellYOffset * 32 + translateY;\n    const opacityY = !fixedShadowY ? 0 : clamp(-absoluteOffsetY / 100, 0, 1);\n\n    const stickyShadow = React.useMemo(() => {\n        if (!opacityX && !opacityY) {\n            return null;\n        }\n\n        const styleX: React.CSSProperties = {\n            position: \"absolute\",\n            top: 0,\n            left: stickyX,\n            width: width - stickyX,\n            height: height,\n            opacity: opacityX,\n            pointerEvents: \"none\",\n            transition: !smoothScrollX ? \"opacity 0.2s\" : undefined,\n            boxShadow: \"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)\",\n        };\n\n        const styleY: React.CSSProperties = {\n            position: \"absolute\",\n            top: totalHeaderHeight,\n            left: 0,\n            width: width,\n            height: height,\n            opacity: opacityY,\n            pointerEvents: \"none\",\n            transition: !smoothScrollY ? \"opacity 0.2s\" : undefined,\n            boxShadow: \"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)\",\n        };\n\n        return (\n            <>\n                {opacityX > 0 && <div id=\"shadow-x\" style={styleX} />}\n                {opacityY > 0 && <div id=\"shadow-y\" style={styleY} />}\n            </>\n        );\n    }, [opacityX, opacityY, stickyX, width, smoothScrollX, totalHeaderHeight, height, smoothScrollY]);\n\n    const overlayStyle = React.useMemo<React.CSSProperties>(\n        () => ({\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n        }),\n        []\n    );\n\n    return (\n        <>\n            <canvas\n                data-testid=\"data-grid-canvas\"\n                tabIndex={0}\n                onKeyDown={onKeyDownImpl}\n                onKeyUp={onKeyUpImpl}\n                onFocus={onCanvasFocused}\n                onBlur={onCanvasBlur}\n                ref={refImpl}\n                style={style}>\n                {accessibilityTree}\n            </canvas>\n            <canvas ref={overlayRef} style={overlayStyle} />\n            {stickyShadow}\n        </>\n    );\n};\n\nexport default React.memo(React.forwardRef(DataGrid));\n","import type { Item, Rectangle } from \"./data-grid-types.js\";\n\n/** @category Types */\nexport interface BaseGridMouseEventArgs {\n    readonly shiftKey: boolean;\n    readonly ctrlKey: boolean;\n    readonly metaKey: boolean;\n    readonly isTouch: boolean;\n    readonly isLongTouch?: boolean;\n    readonly isDoubleClick?: boolean;\n    readonly isEdge: boolean;\n    readonly button: number;\n    readonly buttons: number;\n    readonly scrollEdge: readonly [xDir: -1 | 0 | 1, yDir: -1 | 0 | 1];\n}\n\nexport interface PositionableMouseEventArgs {\n    readonly localEventX: number;\n    readonly localEventY: number;\n}\n\n/** @category Types */\nexport interface GridMouseCellEventArgs extends BaseGridMouseEventArgs, PositionableMouseEventArgs {\n    readonly kind: \"cell\";\n    readonly location: Item;\n    readonly bounds: Rectangle;\n    readonly isFillHandle: boolean;\n}\n\n/** @category Types */\nexport const headerKind = \"header\" as const;\n/** @category Types */\nexport interface GridMouseHeaderEventArgs extends BaseGridMouseEventArgs, PositionableMouseEventArgs {\n    readonly kind: typeof headerKind;\n    readonly location: readonly [number, -1];\n    readonly bounds: Rectangle;\n    readonly group: string;\n}\n\n/** @category Types */\nexport const groupHeaderKind = \"group-header\" as const;\n/** @category Types */\nexport interface GridMouseGroupHeaderEventArgs extends BaseGridMouseEventArgs, PositionableMouseEventArgs {\n    readonly kind: typeof groupHeaderKind;\n    readonly location: readonly [number, -2];\n    readonly bounds: Rectangle;\n    readonly group: string;\n}\n\n/** @category Types */\nexport const outOfBoundsKind = \"out-of-bounds\" as const;\n/** @category Types */\n\nexport enum OutOfBoundsRegionAxis {\n    Start = -2,\n    StartPadding = -1,\n    Center = 0,\n    EndPadding = 1,\n    End = 2,\n}\n\nexport interface GridMouseOutOfBoundsEventArgs extends BaseGridMouseEventArgs {\n    readonly kind: typeof outOfBoundsKind;\n    readonly location: Item;\n    readonly isMaybeScrollbar: boolean;\n    readonly region: readonly [OutOfBoundsRegionAxis, OutOfBoundsRegionAxis];\n}\n\n/** @category Types */\nexport interface GridKeyEventArgs {\n    readonly bounds: Rectangle | undefined;\n    readonly key: string;\n    readonly keyCode: number;\n    readonly altKey: boolean;\n    readonly shiftKey: boolean;\n    readonly ctrlKey: boolean;\n    readonly metaKey: boolean;\n    readonly cancel: () => void;\n    readonly stopPropagation: () => void;\n    readonly preventDefault: () => void;\n    readonly rawEvent: React.KeyboardEvent<HTMLElement> | undefined;\n    readonly location: Item | undefined;\n}\n\n/** @category Types */\nexport type GridMouseEventArgs =\n    | GridMouseCellEventArgs\n    | GridMouseHeaderEventArgs\n    | GridMouseOutOfBoundsEventArgs\n    | GridMouseGroupHeaderEventArgs;\n\nexport interface PreventableEvent {\n    preventDefault: () => void;\n}\n/** @category Types */\nexport interface CellClickedEventArgs extends GridMouseCellEventArgs, PreventableEvent {}\n\n/** @category Types */\nexport interface HeaderClickedEventArgs extends GridMouseHeaderEventArgs, PreventableEvent {}\n\n/** @category Types */\nexport interface GroupHeaderClickedEventArgs extends GridMouseGroupHeaderEventArgs, PreventableEvent {}\n\nexport interface FillPatternEventArgs extends PreventableEvent {\n    patternSource: Rectangle;\n    fillDestination: Rectangle;\n}\n\nexport interface DragHandler {\n    readonly setData: (mime: string, payload: string) => void;\n    readonly setDragImage: (image: Element, x: number, y: number) => void;\n    readonly preventDefault: () => void;\n    readonly defaultPrevented: () => boolean;\n}\n\n/** @category Types */\nexport type GridDragEventArgs = GridMouseEventArgs & DragHandler;\n\nexport function mouseEventArgsAreEqual(args: GridMouseEventArgs | undefined, other: GridMouseEventArgs | undefined) {\n    if (args === other) return true;\n\n    if (args?.kind === \"out-of-bounds\") {\n        return (\n            args?.kind === other?.kind &&\n            args?.location[0] === other?.location[0] &&\n            args?.location[1] === other?.location[1] &&\n            args?.region[0] === other?.region[0] &&\n            args?.region[1] === other?.region[1]\n        );\n    }\n\n    return (\n        args?.kind === other?.kind &&\n        args?.location[0] === other?.location[0] &&\n        args?.location[1] === other?.location[1]\n    );\n}\n","/* eslint-disable unicorn/no-for-loop */\nimport type { FullTheme } from \"../../../common/styles.js\";\nimport {\n    type Item,\n    type GridSelection,\n    type InnerGridCell,\n    type InnerGridColumn,\n    type Rectangle,\n    type BaseGridCell,\n} from \"../data-grid-types.js\";\nimport { direction } from \"../../../common/utils.js\";\nimport React from \"react\";\nimport type { BaseDrawArgs, PrepResult } from \"../../../cells/cell-types.js\";\nimport { split as splitText, clearCache } from \"canvas-hypertxt\";\nimport type { FullyDefined } from \"../../../common/support.js\";\n\nexport interface MappedGridColumn extends FullyDefined<InnerGridColumn> {\n    sourceIndex: number;\n    sticky: boolean;\n}\n\nexport function useMappedColumns(\n    columns: readonly InnerGridColumn[],\n    freezeColumns: number\n): readonly MappedGridColumn[] {\n    return React.useMemo(\n        () =>\n            columns.map(\n                (c, i): MappedGridColumn => ({\n                    group: c.group,\n                    grow: c.grow,\n                    hasMenu: c.hasMenu,\n                    icon: c.icon,\n                    id: c.id,\n                    menuIcon: c.menuIcon,\n                    overlayIcon: c.overlayIcon,\n                    sourceIndex: i,\n                    sticky: i < freezeColumns,\n                    style: c.style,\n                    themeOverride: c.themeOverride,\n                    title: c.title,\n                    trailingRowOptions: c.trailingRowOptions,\n                    width: c.width,\n                    growOffset: c.growOffset,\n                    rowMarker: c.rowMarker,\n                    rowMarkerChecked: c.rowMarkerChecked,\n                })\n            ),\n        [columns, freezeColumns]\n    );\n}\n\nexport function gridSelectionHasItem(sel: GridSelection, item: Item): boolean {\n    const [col, row] = item;\n    if (sel.columns.hasIndex(col) || sel.rows.hasIndex(row)) return true;\n    if (sel.current !== undefined) {\n        if (itemsAreEqual(sel.current.cell, item)) return true;\n        const toCheck = [sel.current.range, ...sel.current.rangeStack]; // FIXME: pointless alloc\n        for (const r of toCheck) {\n            // dont we have a function for this?\n            if (col >= r.x && col < r.x + r.width && row >= r.y && row < r.y + r.height) return true;\n        }\n    }\n    return false;\n}\n\nexport function isGroupEqual(left: string | undefined, right: string | undefined): boolean {\n    return (left ?? \"\") === (right ?? \"\");\n}\n\nexport function cellIsSelected(location: Item, cell: InnerGridCell, selection: GridSelection): boolean {\n    if (selection.current === undefined) return false;\n\n    if (location[1] !== selection.current.cell[1]) return false;\n\n    if (cell.span === undefined) {\n        return selection.current.cell[0] === location[0];\n    }\n\n    return selection.current.cell[0] >= cell.span[0] && selection.current.cell[0] <= cell.span[1];\n}\n\nexport function itemIsInRect(location: Item, rect: Rectangle): boolean {\n    const [x, y] = location;\n\n    return x >= rect.x && x < rect.x + rect.width && y >= rect.y && y < rect.y + rect.height;\n}\n\nexport function itemsAreEqual(a: Item | undefined, b: Item | undefined): boolean {\n    return a?.[0] === b?.[0] && a?.[1] === b?.[1];\n}\n\nexport function rectBottomRight(rect: Rectangle): Item {\n    return [rect.x + rect.width - 1, rect.y + rect.height - 1];\n}\n\nfunction cellIsInRect(location: Item, cell: InnerGridCell, rect: Rectangle): boolean {\n    const startX = rect.x;\n    const endX = rect.x + rect.width - 1;\n    const startY = rect.y;\n    const endY = rect.y + rect.height - 1;\n\n    const [cellCol, cellRow] = location;\n    if (cellRow < startY || cellRow > endY) return false;\n\n    if (cell.span === undefined) {\n        return cellCol >= startX && cellCol <= endX;\n    }\n\n    const [spanStart, spanEnd] = cell.span;\n    return (\n        (spanStart >= startX && spanStart <= endX) ||\n        (spanEnd >= startX && spanStart <= endX) ||\n        (spanStart < startX && spanEnd > endX)\n    );\n}\n\nexport function cellIsInRange(\n    location: Item,\n    cell: InnerGridCell,\n    selection: GridSelection,\n    includeSingleSelection: boolean\n): number {\n    let result = 0;\n    if (selection.current === undefined) return result;\n\n    const range = selection.current.range;\n\n    if ((includeSingleSelection || range.height * range.width > 1) && cellIsInRect(location, cell, range)) {\n        result++;\n    }\n    for (const r of selection.current.rangeStack) {\n        if (cellIsInRect(location, cell, r)) {\n            result++;\n        }\n    }\n    return result;\n}\n\nexport function remapForDnDState(\n    columns: readonly MappedGridColumn[],\n    dndState?: {\n        src: number;\n        dest: number;\n    }\n) {\n    let mappedCols = columns;\n    if (dndState !== undefined) {\n        let writable = [...columns];\n        const temp = mappedCols[dndState.src];\n        if (dndState.src > dndState.dest) {\n            writable.splice(dndState.src, 1);\n            writable.splice(dndState.dest, 0, temp);\n        } else {\n            writable.splice(dndState.dest + 1, 0, temp);\n            writable.splice(dndState.src, 1);\n        }\n        writable = writable.map((c, i) => ({\n            ...c,\n            sticky: columns[i].sticky,\n        }));\n        mappedCols = writable;\n    }\n    return mappedCols;\n}\n\nexport function getStickyWidth(\n    columns: readonly MappedGridColumn[],\n    dndState?: {\n        src: number;\n        dest: number;\n    }\n): number {\n    let result = 0;\n    const remapped = remapForDnDState(columns, dndState);\n    for (let i = 0; i < remapped.length; i++) {\n        const c = remapped[i];\n        if (c.sticky) result += c.width;\n        else break;\n    }\n\n    return result;\n}\n\nexport function getFreezeTrailingHeight(\n    rows: number,\n    freezeTrailingRows: number,\n    getRowHeight: number | ((row: number) => number)\n): number {\n    if (typeof getRowHeight === \"number\") {\n        return freezeTrailingRows * getRowHeight;\n    } else {\n        let result = 0;\n        for (let i = rows - freezeTrailingRows; i < rows; i++) {\n            result += getRowHeight(i);\n        }\n        return result;\n    }\n}\n\nexport function getEffectiveColumns(\n    columns: readonly MappedGridColumn[],\n    cellXOffset: number,\n    width: number,\n    dndState?: {\n        src: number;\n        dest: number;\n    },\n    tx?: number\n): readonly MappedGridColumn[] {\n    const mappedCols = remapForDnDState(columns, dndState);\n\n    const sticky: MappedGridColumn[] = [];\n    for (const c of mappedCols) {\n        if (c.sticky) {\n            sticky.push(c);\n        } else {\n            break;\n        }\n    }\n    if (sticky.length > 0) {\n        for (const c of sticky) {\n            width -= c.width;\n        }\n    }\n    let endIndex = cellXOffset;\n    let curX = tx ?? 0;\n\n    while (curX <= width && endIndex < mappedCols.length) {\n        curX += mappedCols[endIndex].width;\n        endIndex++;\n    }\n\n    for (let i = cellXOffset; i < endIndex; i++) {\n        const c = mappedCols[i];\n        if (!c.sticky) {\n            sticky.push(c);\n        }\n    }\n\n    return sticky;\n}\n\nexport function getColumnIndexForX(\n    targetX: number,\n    effectiveColumns: readonly MappedGridColumn[],\n    translateX?: number\n): number {\n    let x = 0;\n    for (const c of effectiveColumns) {\n        const cx = c.sticky ? x : x + (translateX ?? 0);\n        if (targetX <= cx + c.width) {\n            return c.sourceIndex;\n        }\n        x += c.width;\n    }\n    return -1;\n}\n\nexport function getRowIndexForY(\n    targetY: number,\n    height: number,\n    hasGroups: boolean,\n    headerHeight: number,\n    groupHeaderHeight: number,\n    rows: number,\n    rowHeight: number | ((index: number) => number),\n    cellYOffset: number,\n    translateY: number,\n    freezeTrailingRows: number\n): number | undefined {\n    const totalHeaderHeight = headerHeight + groupHeaderHeight;\n    if (hasGroups && targetY <= groupHeaderHeight) return -2;\n    if (targetY <= totalHeaderHeight) return -1;\n\n    let y = height;\n    for (let fr = 0; fr < freezeTrailingRows; fr++) {\n        const row = rows - 1 - fr;\n        const rh = typeof rowHeight === \"number\" ? rowHeight : rowHeight(row);\n        y -= rh;\n        if (targetY >= y) {\n            return row;\n        }\n    }\n\n    const effectiveRows = rows - freezeTrailingRows;\n\n    const ty = targetY - (translateY ?? 0);\n    if (typeof rowHeight === \"number\") {\n        const target = Math.floor((ty - totalHeaderHeight) / rowHeight) + cellYOffset;\n        if (target >= effectiveRows) return undefined;\n        return target;\n    } else {\n        let curY = totalHeaderHeight;\n        for (let i = cellYOffset; i < effectiveRows; i++) {\n            const rh = rowHeight(i);\n            if (ty <= curY + rh) return i;\n            curY += rh;\n        }\n        return undefined;\n    }\n}\n\nlet metricsSize = 0;\nlet metricsCache: Record<string, TextMetrics | undefined> = {};\nconst isSSR = typeof window === \"undefined\";\n\nasync function clearCacheOnLoad() {\n    if (isSSR || document?.fonts?.ready === undefined) return;\n    await document.fonts.ready;\n    metricsSize = 0;\n    metricsCache = {};\n    clearCache();\n}\n\nvoid clearCacheOnLoad();\n\nfunction makeCacheKey(\n    s: string,\n    ctx: CanvasRenderingContext2D | undefined,\n    baseline: \"alphabetic\" | \"middle\",\n    font?: string\n) {\n    return `${s}_${font ?? ctx?.font}_${baseline}`;\n}\n\n/** @category Drawing */\nexport function measureTextCached(\n    s: string,\n    ctx: CanvasRenderingContext2D,\n    font?: string,\n    baseline: \"middle\" | \"alphabetic\" = \"middle\"\n): TextMetrics {\n    const key = makeCacheKey(s, ctx, baseline, font);\n    let metrics = metricsCache[key];\n    if (metrics === undefined) {\n        metrics = ctx.measureText(s);\n        metricsCache[key] = metrics;\n        metricsSize++;\n    }\n\n    if (metricsSize > 10_000) {\n        metricsCache = {};\n        metricsSize = 0;\n    }\n\n    return metrics;\n}\n\nexport function getMeasuredTextCache(s: string, font: string): TextMetrics | undefined {\n    const key = makeCacheKey(s, undefined, \"middle\", font);\n    return metricsCache[key];\n}\n\n/** @category Drawing */\nexport function getMiddleCenterBias(ctx: CanvasRenderingContext2D, font: string | FullTheme): number {\n    if (typeof font !== \"string\") {\n        font = font.baseFontFull;\n    }\n    return getMiddleCenterBiasInner(ctx, font);\n}\n\nfunction loadMetric(ctx: CanvasRenderingContext2D, baseline: \"alphabetic\" | \"middle\") {\n    const sample = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\n    ctx.save();\n    ctx.textBaseline = baseline;\n    const result = ctx.measureText(sample);\n\n    ctx.restore();\n\n    return result;\n}\n\nconst biasCache: { key: string; val: number }[] = [];\n\nfunction getMiddleCenterBiasInner(ctx: CanvasRenderingContext2D, font: string): number {\n    for (const x of biasCache) {\n        if (x.key === font) return x.val;\n    }\n\n    const alphabeticMetrics = loadMetric(ctx, \"alphabetic\");\n    const middleMetrics = loadMetric(ctx, \"middle\");\n\n    const bias =\n        -(middleMetrics.actualBoundingBoxDescent - alphabeticMetrics.actualBoundingBoxDescent) +\n        alphabeticMetrics.actualBoundingBoxAscent / 2;\n\n    biasCache.push({\n        key: font,\n        val: bias,\n    });\n\n    return bias;\n}\n\nexport function drawLastUpdateUnderlay(\n    args: BaseDrawArgs,\n    lastUpdate: number | undefined,\n    frameTime: number,\n    lastPrep: PrepResult | undefined,\n    isLastCol: boolean,\n    isLastRow: boolean\n) {\n    const { ctx, rect, theme } = args;\n    let progress = Number.MAX_SAFE_INTEGER;\n    const animTime = 500;\n    if (lastUpdate !== undefined) {\n        progress = frameTime - lastUpdate;\n\n        if (progress < animTime) {\n            const fade = 1 - progress / animTime;\n            ctx.globalAlpha = fade;\n            ctx.fillStyle = theme.bgSearchResult;\n            ctx.fillRect(rect.x + 1, rect.y + 1, rect.width - (isLastCol ? 2 : 1), rect.height - (isLastRow ? 2 : 1));\n            ctx.globalAlpha = 1;\n            if (lastPrep !== undefined) {\n                lastPrep.fillStyle = theme.bgSearchResult;\n            }\n        }\n    }\n\n    return progress < animTime;\n}\n\nexport function prepTextCell(\n    args: BaseDrawArgs,\n    lastPrep: PrepResult | undefined,\n    overrideColor?: string\n): Partial<PrepResult> {\n    const { ctx, theme } = args;\n    const result: Partial<PrepResult> = lastPrep ?? {};\n\n    const newFill = overrideColor ?? theme.textDark;\n    if (newFill !== result.fillStyle) {\n        ctx.fillStyle = newFill;\n        result.fillStyle = newFill;\n    }\n    return result;\n}\n\n/** @category Drawing */\nexport function drawTextCellExternal(args: BaseDrawArgs, data: string, contentAlign?: BaseGridCell[\"contentAlign\"]) {\n    const { rect, ctx, theme } = args;\n\n    ctx.fillStyle = theme.textDark;\n    drawTextCell(\n        {\n            ctx: ctx,\n            rect,\n            theme: theme,\n        },\n        data,\n        contentAlign\n    );\n}\n\nfunction drawSingleTextLine(\n    ctx: CanvasRenderingContext2D,\n    data: string,\n    x: number,\n    y: number,\n    w: number,\n    h: number,\n    bias: number,\n    theme: FullTheme,\n    contentAlign?: BaseGridCell[\"contentAlign\"]\n) {\n    if (contentAlign === \"right\") {\n        ctx.fillText(data, x + w - (theme.cellHorizontalPadding + 0.5), y + h / 2 + bias);\n    } else if (contentAlign === \"center\") {\n        ctx.fillText(data, x + w / 2, y + h / 2 + bias);\n    } else {\n        ctx.fillText(data, x + theme.cellHorizontalPadding + 0.5, y + h / 2 + bias);\n    }\n}\n\nexport function getEmHeight(ctx: CanvasRenderingContext2D, fontStyle: string): number {\n    const textMetrics = measureTextCached(\"ABCi09jgqpy\", ctx, fontStyle); // do not question the magic string\n    return textMetrics.actualBoundingBoxAscent + textMetrics.actualBoundingBoxDescent;\n}\n\nfunction truncateString(data: string, w: number): string {\n    if (data.includes(\"\\n\")) {\n        // new lines are rare and split is relatively expensive compared to the search\n        // it pays off to not do the split contantly. More accurately... it pays off not to run the regex.\n        // what even is the point of this? So what if there is a /r at the end of a line? It wont be drawn anyway.\n        data = data.split(/\\r?\\n/, 1)[0];\n    }\n    const max = w / 4; // no need to round, slice will just truncate this\n    if (data.length > max) {\n        data = data.slice(0, max);\n    }\n    return data;\n}\n\nfunction drawMultiLineText(\n    ctx: CanvasRenderingContext2D,\n    data: string,\n    x: number,\n    y: number,\n    w: number,\n    h: number,\n    bias: number,\n    theme: FullTheme,\n    contentAlign?: BaseGridCell[\"contentAlign\"],\n    hyperWrapping?: boolean\n) {\n    const fontStyle = theme.baseFontFull;\n    const split = splitText(ctx, data, fontStyle, w - theme.cellHorizontalPadding * 2, hyperWrapping ?? false);\n\n    const emHeight = getEmHeight(ctx, fontStyle);\n    const lineHeight = theme.lineHeight * emHeight;\n\n    const actualHeight = emHeight + lineHeight * (split.length - 1);\n    const mustClip = actualHeight + theme.cellVerticalPadding > h;\n\n    if (mustClip) {\n        // well now we have to clip because we might render outside the cell vertically\n        ctx.save();\n        ctx.rect(x, y, w, h);\n        ctx.clip();\n    }\n\n    const optimalY = y + h / 2 - actualHeight / 2;\n    let drawY = Math.max(y + theme.cellVerticalPadding, optimalY);\n    for (const line of split) {\n        drawSingleTextLine(ctx, line, x, drawY, w, emHeight, bias, theme, contentAlign);\n        drawY += lineHeight;\n        if (drawY > y + h) break;\n    }\n    if (mustClip) {\n        ctx.restore();\n    }\n}\n\n/** @category Drawing */\nexport function drawTextCell(\n    args: Pick<BaseDrawArgs, \"rect\" | \"ctx\" | \"theme\">,\n    data: string,\n    contentAlign?: BaseGridCell[\"contentAlign\"],\n    allowWrapping?: boolean,\n    hyperWrapping?: boolean\n): void {\n    const { ctx, rect, theme } = args;\n\n    const { x, y, width: w, height: h } = rect;\n\n    allowWrapping = allowWrapping ?? false;\n\n    if (!allowWrapping) {\n        data = truncateString(data, w);\n    }\n\n    const bias = getMiddleCenterBias(ctx, theme);\n\n    const isRtl = direction(data) === \"rtl\";\n\n    if (contentAlign === undefined && isRtl) {\n        contentAlign = \"right\";\n    }\n\n    if (isRtl) {\n        ctx.direction = \"rtl\";\n    }\n\n    if (data.length > 0) {\n        let changed = false;\n        if (contentAlign === \"right\") {\n            // Use right alignment as default for RTL text\n            ctx.textAlign = \"right\";\n            changed = true;\n        } else if (contentAlign !== undefined && contentAlign !== \"left\") {\n            // Since default is start (=left), only apply if alignment is center or right\n            ctx.textAlign = contentAlign;\n            changed = true;\n        }\n\n        if (!allowWrapping) {\n            drawSingleTextLine(ctx, data, x, y, w, h, bias, theme, contentAlign);\n        } else {\n            drawMultiLineText(ctx, data, x, y, w, h, bias, theme, contentAlign, hyperWrapping);\n        }\n\n        if (changed) {\n            // Reset alignment to default\n            ctx.textAlign = \"start\";\n        }\n\n        if (isRtl) {\n            ctx.direction = \"inherit\";\n        }\n    }\n}\n\ninterface CornerRadius {\n    tl: number;\n    tr: number;\n    bl: number;\n    br: number;\n}\n\nexport function roundedRect(\n    ctx: CanvasRenderingContext2D,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    radius: number | CornerRadius\n) {\n    if (typeof radius === \"number\") {\n        radius = { tl: radius, tr: radius, br: radius, bl: radius };\n    }\n\n    // restrict radius to a reasonable max\n    radius = {\n        tl: Math.max(0, Math.min(radius.tl, height / 2, width / 2)),\n        tr: Math.max(0, Math.min(radius.tr, height / 2, width / 2)),\n        bl: Math.max(0, Math.min(radius.bl, height / 2, width / 2)),\n        br: Math.max(0, Math.min(radius.br, height / 2, width / 2)),\n    };\n\n    ctx.moveTo(x + radius.tl, y);\n    ctx.arcTo(x + width, y, x + width, y + radius.tr, radius.tr);\n    ctx.arcTo(x + width, y + height, x + width - radius.br, y + height, radius.br);\n    ctx.arcTo(x, y + height, x, y + height - radius.bl, radius.bl);\n    ctx.arcTo(x, y, x + radius.tl, y, radius.tl);\n}\n\ninterface Point {\n    x: number;\n    y: number;\n    radius?: number;\n}\n\ninterface Vector {\n    nx: number;\n    ny: number;\n    len: number;\n    x: number;\n    y: number;\n    ang: number;\n}\n\nexport function drawMenuDots(ctx: CanvasRenderingContext2D, dotsX: number, dotsY: number) {\n    const radius = 1.25;\n    ctx.arc(dotsX, dotsY - radius * 3.5, radius, 0, 2 * Math.PI, false);\n    ctx.arc(dotsX, dotsY, radius, 0, 2 * Math.PI, false);\n    ctx.arc(dotsX, dotsY + radius * 3.5, radius, 0, 2 * Math.PI, false);\n}\n\nexport function roundedPoly(ctx: CanvasRenderingContext2D, points: Point[], radiusAll: number) {\n    // convert 2 points into vector form, polar form, and normalised\n    const asVec = function (p: Point, pp: Point): Vector {\n        const vx = pp.x - p.x;\n        const vy = pp.y - p.y;\n        const vlen = Math.sqrt(vx * vx + vy * vy);\n        const vnx = vx / vlen;\n        const vny = vy / vlen;\n        return {\n            x: vx,\n            y: pp.y - p.y,\n            len: vlen,\n            nx: vnx,\n            ny: vny,\n            ang: Math.atan2(vny, vnx),\n        };\n    };\n    let radius: number;\n    // const v1: Vector = {} as any;\n    // const v2: Vector = {} as any;\n    const len = points.length;\n    let p1 = points[len - 1];\n    // for each point\n    for (let i = 0; i < len; i++) {\n        let p2 = points[i % len];\n        const p3 = points[(i + 1) % len];\n        //-----------------------------------------\n        // Part 1\n        const v1 = asVec(p2, p1);\n        const v2 = asVec(p2, p3);\n        const sinA = v1.nx * v2.ny - v1.ny * v2.nx;\n        const sinA90 = v1.nx * v2.nx - v1.ny * -v2.ny;\n        let angle = Math.asin(sinA < -1 ? -1 : sinA > 1 ? 1 : sinA);\n        //-----------------------------------------\n        let radDirection = 1;\n        let drawDirection = false;\n        if (sinA90 < 0) {\n            if (angle < 0) {\n                angle = Math.PI + angle;\n            } else {\n                angle = Math.PI - angle;\n                radDirection = -1;\n                drawDirection = true;\n            }\n        } else {\n            if (angle > 0) {\n                radDirection = -1;\n                drawDirection = true;\n            }\n        }\n        radius = p2.radius !== undefined ? p2.radius : radiusAll;\n        //-----------------------------------------\n        // Part 2\n        const halfAngle = angle / 2;\n        //-----------------------------------------\n\n        //-----------------------------------------\n        // Part 3\n        let lenOut = Math.abs((Math.cos(halfAngle) * radius) / Math.sin(halfAngle));\n        //-----------------------------------------\n\n        //-----------------------------------------\n        // Special part A\n        let cRadius: number;\n        if (lenOut > Math.min(v1.len / 2, v2.len / 2)) {\n            lenOut = Math.min(v1.len / 2, v2.len / 2);\n            cRadius = Math.abs((lenOut * Math.sin(halfAngle)) / Math.cos(halfAngle));\n        } else {\n            cRadius = radius;\n        }\n        //-----------------------------------------\n        // Part 4\n        let x = p2.x + v2.nx * lenOut;\n        let y = p2.y + v2.ny * lenOut;\n        //-----------------------------------------\n        // Part 5\n        x += -v2.ny * cRadius * radDirection;\n        y += v2.nx * cRadius * radDirection;\n        //-----------------------------------------\n        // Part 6\n        ctx.arc(\n            x,\n            y,\n            cRadius,\n            v1.ang + (Math.PI / 2) * radDirection,\n            v2.ang - (Math.PI / 2) * radDirection,\n            drawDirection\n        );\n        //-----------------------------------------\n        p1 = p2;\n        p2 = p3;\n    }\n    ctx.closePath();\n}\n\nexport function computeBounds(\n    col: number,\n    row: number,\n    width: number,\n    height: number,\n    groupHeaderHeight: number,\n    totalHeaderHeight: number,\n    cellXOffset: number,\n    cellYOffset: number,\n    translateX: number,\n    translateY: number,\n    rows: number,\n    freezeColumns: number,\n    freezeTrailingRows: number,\n    mappedColumns: readonly MappedGridColumn[],\n    rowHeight: number | ((index: number) => number)\n): Rectangle {\n    const result: Rectangle = {\n        x: 0,\n        y: totalHeaderHeight + translateY,\n        width: 0,\n        height: 0,\n    };\n\n    if (col >= mappedColumns.length || row >= rows || row < -2 || col < 0) {\n        return result;\n    }\n\n    const headerHeight = totalHeaderHeight - groupHeaderHeight;\n\n    if (col >= freezeColumns) {\n        const dir = cellXOffset > col ? -1 : 1;\n        const freezeWidth = getStickyWidth(mappedColumns);\n        result.x += freezeWidth + translateX;\n        for (let i = cellXOffset; i !== col; i += dir) {\n            result.x += mappedColumns[dir === 1 ? i : i - 1].width * dir;\n        }\n    } else {\n        for (let i = 0; i < col; i++) {\n            result.x += mappedColumns[i].width;\n        }\n    }\n    result.width = mappedColumns[col].width + 1;\n\n    if (row === -1) {\n        result.y = groupHeaderHeight;\n        result.height = headerHeight;\n    } else if (row === -2) {\n        result.y = 0;\n        result.height = groupHeaderHeight;\n\n        let start = col;\n        const group = mappedColumns[col].group;\n        const sticky = mappedColumns[col].sticky;\n        while (\n            start > 0 &&\n            isGroupEqual(mappedColumns[start - 1].group, group) &&\n            mappedColumns[start - 1].sticky === sticky\n        ) {\n            const c = mappedColumns[start - 1];\n            result.x -= c.width;\n            result.width += c.width;\n            start--;\n        }\n\n        let end = col;\n        while (\n            end + 1 < mappedColumns.length &&\n            isGroupEqual(mappedColumns[end + 1].group, group) &&\n            mappedColumns[end + 1].sticky === sticky\n        ) {\n            const c = mappedColumns[end + 1];\n            result.width += c.width;\n            end++;\n        }\n        if (!sticky) {\n            const freezeWidth = getStickyWidth(mappedColumns);\n            const clip = result.x - freezeWidth;\n            if (clip < 0) {\n                result.x -= clip;\n                result.width += clip;\n            }\n\n            if (result.x + result.width > width) {\n                result.width = width - result.x;\n            }\n        }\n    } else if (row >= rows - freezeTrailingRows) {\n        let dy = rows - row;\n        result.y = height;\n        while (dy > 0) {\n            const r = row + dy - 1;\n            result.height = typeof rowHeight === \"number\" ? rowHeight : rowHeight(r);\n            result.y -= result.height;\n            dy--;\n        }\n        result.height += 1;\n    } else {\n        const dir = cellYOffset > row ? -1 : 1;\n        if (typeof rowHeight === \"number\") {\n            const delta = row - cellYOffset;\n            result.y += delta * rowHeight;\n        } else {\n            for (let r = cellYOffset; r !== row; r += dir) {\n                result.y += rowHeight(r) * dir;\n            }\n        }\n        result.height = (typeof rowHeight === \"number\" ? rowHeight : rowHeight(row)) + 1;\n    }\n\n    return result;\n}\n","import { assertNever } from \"../../../common/support.js\";\nimport { getSquareWidth, getSquareXPosFromAlign, getSquareBB, pointIsWithinBB } from \"../../../common/utils.js\";\nimport type { Theme } from \"../../../index.js\";\nimport { roundedRect } from \"./data-grid-lib.js\";\nimport { BooleanEmpty, BooleanIndeterminate, type BaseGridCell } from \"../data-grid-types.js\";\n\nexport function drawCheckbox(\n    ctx: CanvasRenderingContext2D,\n    theme: Theme,\n    checked: boolean | BooleanEmpty | BooleanIndeterminate,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    highlighted: boolean,\n    hoverX: number = -20,\n    hoverY: number = -20,\n    maxSize: number = 32,\n    alignment: BaseGridCell[\"contentAlign\"] = \"center\",\n    style: \"circle\" | \"square\" = \"square\"\n) {\n    const centerY = Math.floor(y + height / 2);\n    const rectBordRadius = style === \"circle\" ? 10_000 : theme.roundingRadius ?? 4;\n    let checkBoxWidth = getSquareWidth(maxSize, height, theme.cellVerticalPadding);\n    let checkBoxHalfWidth = checkBoxWidth / 2;\n    const posX = getSquareXPosFromAlign(alignment, x, width, theme.cellHorizontalPadding, checkBoxWidth);\n    const bb = getSquareBB(posX, centerY, checkBoxWidth);\n    const hovered = pointIsWithinBB(x + hoverX, y + hoverY, bb);\n\n    switch (checked) {\n        case true: {\n            ctx.beginPath();\n            roundedRect(\n                ctx,\n                posX - checkBoxWidth / 2,\n                centerY - checkBoxWidth / 2,\n                checkBoxWidth,\n                checkBoxWidth,\n                rectBordRadius\n            );\n\n            if (style === \"circle\") {\n                checkBoxHalfWidth *= 0.8;\n                checkBoxWidth *= 0.8;\n            }\n\n            ctx.fillStyle = highlighted ? theme.accentColor : theme.textMedium;\n            ctx.fill();\n\n            ctx.beginPath();\n            ctx.moveTo(\n                posX - checkBoxHalfWidth + checkBoxWidth / 4.23,\n                centerY - checkBoxHalfWidth + checkBoxWidth / 1.97\n            );\n            ctx.lineTo(\n                posX - checkBoxHalfWidth + checkBoxWidth / 2.42,\n                centerY - checkBoxHalfWidth + checkBoxWidth / 1.44\n            );\n            ctx.lineTo(\n                posX - checkBoxHalfWidth + checkBoxWidth / 1.29,\n                centerY - checkBoxHalfWidth + checkBoxWidth / 3.25\n            );\n\n            ctx.strokeStyle = theme.bgCell;\n            ctx.lineJoin = \"round\";\n            ctx.lineCap = \"round\";\n            ctx.lineWidth = 1.9;\n            ctx.stroke();\n            break;\n        }\n\n        case BooleanEmpty:\n        case false: {\n            ctx.beginPath();\n            roundedRect(\n                ctx,\n                posX - checkBoxWidth / 2 + 0.5,\n                centerY - checkBoxWidth / 2 + 0.5,\n                checkBoxWidth - 1,\n                checkBoxWidth - 1,\n                rectBordRadius\n            );\n\n            ctx.lineWidth = 1;\n            ctx.strokeStyle = hovered ? theme.textDark : theme.textMedium;\n            ctx.stroke();\n            break;\n        }\n\n        case BooleanIndeterminate: {\n            ctx.beginPath();\n            roundedRect(\n                ctx,\n                posX - checkBoxWidth / 2,\n                centerY - checkBoxWidth / 2,\n                checkBoxWidth,\n                checkBoxWidth,\n                rectBordRadius\n            );\n\n            ctx.fillStyle = hovered ? theme.textMedium : theme.textLight;\n            ctx.fill();\n\n            if (style === \"circle\") {\n                checkBoxHalfWidth *= 0.8;\n                checkBoxWidth *= 0.8;\n            }\n\n            ctx.beginPath();\n            ctx.moveTo(posX - checkBoxWidth / 3, centerY);\n            ctx.lineTo(posX + checkBoxWidth / 3, centerY);\n            ctx.strokeStyle = theme.bgCell;\n            ctx.lineCap = \"round\";\n            ctx.lineWidth = 1.9;\n            ctx.stroke();\n            break;\n        }\n\n        default:\n            assertNever(checked);\n    }\n}\n","import * as React from \"react\";\nimport { styled } from \"@linaria/react\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\n\ninterface Props {\n    width: number;\n    height: number;\n    useMoreTopPadding?: boolean;\n    figmaDoc?: string;\n    context?: any;\n}\n\nconst BuilderWrapper = styled.div<Pick<Props, \"width\" | \"height\">>`\n    display: flex;\n    height: 100vh;\n    width: 100vw;\n    position: relative;\n\n    & > .content {\n        display: block;\n\n        width: ${p => p.width}px;\n        height: ${p => p.height}px;\n        align-self: center;\n\n        position: relative;\n\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n\n        user-select: none;\n\n        box-sizing: border-box;\n\n        *,\n        *::before,\n        *::after {\n            box-sizing: inherit;\n        }\n    }\n`;\n\nconst SimpleWrapper = styled.div`\n    box-sizing: border-box;\n\n    *,\n    *::before,\n    *::after {\n        box-sizing: inherit;\n    }\n`;\n\nexport class BuilderThemeWrapper extends React.PureComponent<React.PropsWithChildren<Props>> {\n    public render(): React.ReactNode {\n        const { context, children, ...rest } = this.props;\n        return (\n            <>\n                <BuilderWrapper {...rest}>\n                    <div className=\"content\">{children}</div>\n                </BuilderWrapper>\n                <div id=\"portal\" />\n            </>\n        );\n    }\n}\n\nexport const SimpleThemeWrapper: React.FC = p => {\n    return (\n        <SimpleWrapper>\n            <div className=\"content\">{p.children}</div>\n        </SimpleWrapper>\n    );\n};\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".bed7b9f{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:auto;margin-bottom:auto;}.bed7b9f .boe-bubble{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:var(--gdg-rounding-radius,10px);padding:0 8px;height:20px;background-color:var(--gdg-bg-bubble);color:var(--gdg-text-dark);margin:2px;}.bed7b9f textarea{position:absolute;top:0px;left:0px;width:0px;height:0px;opacity:0;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvYnViYmxlcy1vdmVybGF5LWVkaXRvci1zdHlsZS50c3giXSwibmFtZXMiOlsiLmJlZDdiOWYiXSwibWFwcGluZ3MiOiJBQUV5Q0EiLCJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmsvZ2xpZGUtZGF0YS1ncmlkL2dsaWRlLWRhdGEtZ3JpZC9wYWNrYWdlcy9jb3JlL3NyYy9pbnRlcm5hbC9kYXRhLWdyaWQtb3ZlcmxheS1lZGl0b3IvcHJpdmF0ZS9idWJibGVzLW92ZXJsYXktZWRpdG9yLXN0eWxlLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJAbGluYXJpYS9yZWFjdFwiO1xuY29uc3QgQlVCQkxFX0hFSUdIVCA9IDIwO1xuZXhwb3J0IGNvbnN0IEJ1YmJsZXNPdmVybGF5RWRpdG9yU3R5bGUgPSBzdHlsZWQuZGl2YFxuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIG1hcmdpbi10b3A6IGF1dG87XG4gICAgbWFyZ2luLWJvdHRvbTogYXV0bztcblxuICAgIC5ib2UtYnViYmxlIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tZ2RnLXJvdW5kaW5nLXJhZGl1cywgJHtCVUJCTEVfSEVJR0hUIC8gMn1weCk7XG5cbiAgICAgICAgcGFkZGluZzogMCA4cHg7XG4gICAgICAgIGhlaWdodDogJHtCVUJCTEVfSEVJR0hUfXB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1nZGctYmctYnViYmxlKTtcbiAgICAgICAgY29sb3I6IHZhcigtLWdkZy10ZXh0LWRhcmspO1xuICAgICAgICBtYXJnaW46IDJweDtcbiAgICB9XG5cbiAgICB0ZXh0YXJlYSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwcHg7XG4gICAgICAgIGxlZnQ6IDBweDtcbiAgICAgICAgd2lkdGg6IDBweDtcbiAgICAgICAgaGVpZ2h0OiAwcHg7XG5cbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG5gOyJdfQ==*/\", \"\",{\"version\":3,\"sources\":[\"/home/runner/work/glide-data-grid/glide-data-grid/packages/core/src/internal/data-grid-overlay-editor/private/bubbles-overlay-editor-style.tsx\",\"webpack://./packages/core/src/internal/data-grid-overlay-editor/private/bubbles-overlay-editor-style.tsx\"],\"names\":[\".bed7b9f\"],\"mappings\":\"AAEyCA,SAAAA,mBAAAA,CAAAA,oBAAAA,CAAAA,mBAAAA,CAAAA,YAAAA,CAAAA,sBAAAA,CAAAA,kBAAAA,CAAAA,cAAAA,CAAAA,eAAAA,CAAAA,kBAAAA,CAAAA,CAAAA,qBAAAA,mBAAAA,CAAAA,oBAAAA,CAAAA,mBAAAA,CAAAA,YAAAA,CAAAA,uBAAAA,CAAAA,8BAAAA,CAAAA,oBAAAA,CAAAA,sBAAAA,CAAAA,0BAAAA,CAAAA,wBAAAA,CAAAA,qBAAAA,CAAAA,kBAAAA,CAAAA,6CAAAA,CAAAA,aAAAA,CAAAA,WAAAA,CAAAA,qCAAAA,CAAAA,0BAAAA,CAAAA,UAAAA,CAAAA,CAAAA,kBAAAA,iBAAAA,CAAAA,OAAAA,CAAAA,QAAAA,CAAAA,SAAAA,CAAAA,UAAAA,CAAAA,SAAAA,CAAAA;ACDzC,uhDAAuhD\",\"sourcesContent\":[\"import { styled } from \\\"@linaria/react\\\";\\nconst BUBBLE_HEIGHT = 20;\\nexport const BubblesOverlayEditorStyle = styled.div`\\n    display: flex;\\n    flex-wrap: wrap;\\n    margin-top: auto;\\n    margin-bottom: auto;\\n\\n    .boe-bubble {\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n\\n        border-radius: var(--gdg-rounding-radius, ${BUBBLE_HEIGHT / 2}px);\\n\\n        padding: 0 8px;\\n        height: ${BUBBLE_HEIGHT}px;\\n        background-color: var(--gdg-bg-bubble);\\n        color: var(--gdg-text-dark);\\n        margin: 2px;\\n    }\\n\\n    textarea {\\n        position: absolute;\\n        top: 0px;\\n        left: 0px;\\n        width: 0px;\\n        height: 0px;\\n\\n        opacity: 0;\\n    }\\n`;\",\".bed7b9f{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:auto;margin-bottom:auto;}.bed7b9f .boe-bubble{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:var(--gdg-rounding-radius,10px);padding:0 8px;height:20px;background-color:var(--gdg-bg-bubble);color:var(--gdg-text-dark);margin:2px;}.bed7b9f textarea{position:absolute;top:0px;left:0px;width:0px;height:0px;opacity:0;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvYnViYmxlcy1vdmVybGF5LWVkaXRvci1zdHlsZS50c3giXSwibmFtZXMiOlsiLmJlZDdiOWYiXSwibWFwcGluZ3MiOiJBQUV5Q0EiLCJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmsvZ2xpZGUtZGF0YS1ncmlkL2dsaWRlLWRhdGEtZ3JpZC9wYWNrYWdlcy9jb3JlL3NyYy9pbnRlcm5hbC9kYXRhLWdyaWQtb3ZlcmxheS1lZGl0b3IvcHJpdmF0ZS9idWJibGVzLW92ZXJsYXktZWRpdG9yLXN0eWxlLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJAbGluYXJpYS9yZWFjdFwiO1xuY29uc3QgQlVCQkxFX0hFSUdIVCA9IDIwO1xuZXhwb3J0IGNvbnN0IEJ1YmJsZXNPdmVybGF5RWRpdG9yU3R5bGUgPSBzdHlsZWQuZGl2YFxuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIG1hcmdpbi10b3A6IGF1dG87XG4gICAgbWFyZ2luLWJvdHRvbTogYXV0bztcblxuICAgIC5ib2UtYnViYmxlIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tZ2RnLXJvdW5kaW5nLXJhZGl1cywgJHtCVUJCTEVfSEVJR0hUIC8gMn1weCk7XG5cbiAgICAgICAgcGFkZGluZzogMCA4cHg7XG4gICAgICAgIGhlaWdodDogJHtCVUJCTEVfSEVJR0hUfXB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1nZGctYmctYnViYmxlKTtcbiAgICAgICAgY29sb3I6IHZhcigtLWdkZy10ZXh0LWRhcmspO1xuICAgICAgICBtYXJnaW46IDJweDtcbiAgICB9XG5cbiAgICB0ZXh0YXJlYSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwcHg7XG4gICAgICAgIGxlZnQ6IDBweDtcbiAgICAgICAgd2lkdGg6IDBweDtcbiAgICAgICAgaGVpZ2h0OiAwcHg7XG5cbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG5gOyJdfQ==*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dy18k32{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.dy18k32 .doe-bubble{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 8px;height:24px;background-color:var(--gdg-bg-cell);color:var(--gdg-text-dark);margin:2px;border-radius:var(--gdg-rounding-radius,6px);box-shadow: 0 0 1px rgba(62,65,86,0.4), 0 1px 3px rgba(62,65,86,0.4);}.dy18k32 .doe-bubble img{height:16px;object-fit:contain;margin-right:4px;}.dy18k32 textarea{position:absolute;top:0px;left:0px;width:0px;height:0px;opacity:0;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvZHJpbGxkb3duLW92ZXJsYXktZWRpdG9yLnRzeCJdLCJuYW1lcyI6WyIuZHkxOGszMiJdLCJtYXBwaW5ncyI6IkFBSW9DQSIsImZpbGUiOiIvaG9tZS9ydW5uZXIvd29yay9nbGlkZS1kYXRhLWdyaWQvZ2xpZGUtZGF0YS1ncmlkL3BhY2thZ2VzL2NvcmUvc3JjL2ludGVybmFsL2RhdGEtZ3JpZC1vdmVybGF5LWVkaXRvci9wcml2YXRlL2RyaWxsZG93bi1vdmVybGF5LWVkaXRvci50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJAbGluYXJpYS9yZWFjdFwiO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IERyaWxsZG93bk92ZXJsYXlFZGl0b3JTdHlsZSA9IHN0eWxlZC5kaXZgXG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG5cbiAgICAuZG9lLWJ1YmJsZSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgICAgIHBhZGRpbmc6IDAgOHB4O1xuICAgICAgICBoZWlnaHQ6IDI0cHg7XG5cbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZ2RnLWJnLWNlbGwpO1xuICAgICAgICBjb2xvcjogdmFyKC0tZ2RnLXRleHQtZGFyayk7XG4gICAgICAgIG1hcmdpbjogMnB4O1xuXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWdkZy1yb3VuZGluZy1yYWRpdXMsIDZweCk7XG5cbiAgICAgICAgYm94LXNoYWRvdzpcbiAgICAgICAgICAgIDAgMCAxcHggcmdiYSg2MiwgNjUsIDg2LCAwLjQpLFxuICAgICAgICAgICAgMCAxcHggM3B4IHJnYmEoNjIsIDY1LCA4NiwgMC40KTtcblxuICAgICAgICBpbWcge1xuICAgICAgICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgICAgICAgICAgb2JqZWN0LWZpdDogY29udGFpbjtcblxuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0ZXh0YXJlYSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwcHg7XG4gICAgICAgIGxlZnQ6IDBweDtcbiAgICAgICAgd2lkdGg6IDBweDtcbiAgICAgICAgaGVpZ2h0OiAwcHg7XG5cbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG5gO1xuY29uc3QgRHJpbGxkb3duT3ZlcmxheUVkaXRvciA9IHAgPT4ge1xuICBjb25zdCB7XG4gICAgZHJpbGxkb3duc1xuICB9ID0gcDtcbiAgcmV0dXJuIF9qc3goRHJpbGxkb3duT3ZlcmxheUVkaXRvclN0eWxlLCB7XG4gICAgY2hpbGRyZW46IGRyaWxsZG93bnMubWFwKChkLCBpKSA9PiBfanN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiZG9lLWJ1YmJsZVwiLFxuICAgICAgY2hpbGRyZW46IFtkLmltZyAhPT0gdW5kZWZpbmVkICYmIF9qc3goXCJpbWdcIiwge1xuICAgICAgICBzcmM6IGQuaW1nXG4gICAgICB9KSwgX2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNoaWxkcmVuOiBkLnRleHRcbiAgICAgIH0pXVxuICAgIH0sIGkpKVxuICB9KTtcbn07XG5EcmlsbGRvd25PdmVybGF5RWRpdG9yLmRpc3BsYXlOYW1lID0gXCJEcmlsbGRvd25PdmVybGF5RWRpdG9yXCI7XG5leHBvcnQgZGVmYXVsdCBEcmlsbGRvd25PdmVybGF5RWRpdG9yOyJdfQ==*/\", \"\",{\"version\":3,\"sources\":[\"/home/runner/work/glide-data-grid/glide-data-grid/packages/core/src/internal/data-grid-overlay-editor/private/drilldown-overlay-editor.tsx\",\"webpack://./packages/core/src/internal/data-grid-overlay-editor/private/drilldown-overlay-editor.tsx\"],\"names\":[\".dy18k32\"],\"mappings\":\"AAIoCA,SAAAA,mBAAAA,CAAAA,oBAAAA,CAAAA,mBAAAA,CAAAA,YAAAA,CAAAA,sBAAAA,CAAAA,kBAAAA,CAAAA,cAAAA,CAAAA,CAAAA,qBAAAA,mBAAAA,CAAAA,oBAAAA,CAAAA,mBAAAA,CAAAA,YAAAA,CAAAA,uBAAAA,CAAAA,8BAAAA,CAAAA,oBAAAA,CAAAA,sBAAAA,CAAAA,0BAAAA,CAAAA,wBAAAA,CAAAA,qBAAAA,CAAAA,kBAAAA,CAAAA,aAAAA,CAAAA,WAAAA,CAAAA,mCAAAA,CAAAA,0BAAAA,CAAAA,UAAAA,CAAAA,4CAAAA,CAAAA,oEAAAA,CAAAA,CAAAA,yBAAAA,WAAAA,CAAAA,kBAAAA,CAAAA,gBAAAA,CAAAA,CAAAA,kBAAAA,iBAAAA,CAAAA,OAAAA,CAAAA,QAAAA,CAAAA,SAAAA,CAAAA,UAAAA,CAAAA,SAAAA,CAAAA;ACHpC,++EAA++E\",\"sourcesContent\":[\"import * as React from \\\"react\\\";\\nimport { styled } from \\\"@linaria/react\\\";\\nimport { jsx as _jsx } from \\\"react/jsx-runtime\\\";\\nimport { jsxs as _jsxs } from \\\"react/jsx-runtime\\\";\\nconst DrilldownOverlayEditorStyle = styled.div`\\n    display: flex;\\n    flex-wrap: wrap;\\n\\n    .doe-bubble {\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n\\n        padding: 0 8px;\\n        height: 24px;\\n\\n        background-color: var(--gdg-bg-cell);\\n        color: var(--gdg-text-dark);\\n        margin: 2px;\\n\\n        border-radius: var(--gdg-rounding-radius, 6px);\\n\\n        box-shadow:\\n            0 0 1px rgba(62, 65, 86, 0.4),\\n            0 1px 3px rgba(62, 65, 86, 0.4);\\n\\n        img {\\n            height: 16px;\\n            object-fit: contain;\\n\\n            margin-right: 4px;\\n        }\\n    }\\n\\n    textarea {\\n        position: absolute;\\n        top: 0px;\\n        left: 0px;\\n        width: 0px;\\n        height: 0px;\\n\\n        opacity: 0;\\n    }\\n`;\\nconst DrilldownOverlayEditor = p => {\\n  const {\\n    drilldowns\\n  } = p;\\n  return _jsx(DrilldownOverlayEditorStyle, {\\n    children: drilldowns.map((d, i) => _jsxs(\\\"div\\\", {\\n      className: \\\"doe-bubble\\\",\\n      children: [d.img !== undefined && _jsx(\\\"img\\\", {\\n        src: d.img\\n      }), _jsx(\\\"div\\\", {\\n        children: d.text\\n      })]\\n    }, i))\\n  });\\n};\\nDrilldownOverlayEditor.displayName = \\\"DrilldownOverlayEditor\\\";\\nexport default DrilldownOverlayEditor;\",\".dy18k32{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.dy18k32 .doe-bubble{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 8px;height:24px;background-color:var(--gdg-bg-cell);color:var(--gdg-text-dark);margin:2px;border-radius:var(--gdg-rounding-radius,6px);box-shadow: 0 0 1px rgba(62,65,86,0.4), 0 1px 3px rgba(62,65,86,0.4);}.dy18k32 .doe-bubble img{height:16px;object-fit:contain;margin-right:4px;}.dy18k32 textarea{position:absolute;top:0px;left:0px;width:0px;height:0px;opacity:0;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvZHJpbGxkb3duLW92ZXJsYXktZWRpdG9yLnRzeCJdLCJuYW1lcyI6WyIuZHkxOGszMiJdLCJtYXBwaW5ncyI6IkFBSW9DQSIsImZpbGUiOiIvaG9tZS9ydW5uZXIvd29yay9nbGlkZS1kYXRhLWdyaWQvZ2xpZGUtZGF0YS1ncmlkL3BhY2thZ2VzL2NvcmUvc3JjL2ludGVybmFsL2RhdGEtZ3JpZC1vdmVybGF5LWVkaXRvci9wcml2YXRlL2RyaWxsZG93bi1vdmVybGF5LWVkaXRvci50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJAbGluYXJpYS9yZWFjdFwiO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IERyaWxsZG93bk92ZXJsYXlFZGl0b3JTdHlsZSA9IHN0eWxlZC5kaXZgXG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG5cbiAgICAuZG9lLWJ1YmJsZSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgICAgIHBhZGRpbmc6IDAgOHB4O1xuICAgICAgICBoZWlnaHQ6IDI0cHg7XG5cbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZ2RnLWJnLWNlbGwpO1xuICAgICAgICBjb2xvcjogdmFyKC0tZ2RnLXRleHQtZGFyayk7XG4gICAgICAgIG1hcmdpbjogMnB4O1xuXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWdkZy1yb3VuZGluZy1yYWRpdXMsIDZweCk7XG5cbiAgICAgICAgYm94LXNoYWRvdzpcbiAgICAgICAgICAgIDAgMCAxcHggcmdiYSg2MiwgNjUsIDg2LCAwLjQpLFxuICAgICAgICAgICAgMCAxcHggM3B4IHJnYmEoNjIsIDY1LCA4NiwgMC40KTtcblxuICAgICAgICBpbWcge1xuICAgICAgICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgICAgICAgICAgb2JqZWN0LWZpdDogY29udGFpbjtcblxuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0ZXh0YXJlYSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwcHg7XG4gICAgICAgIGxlZnQ6IDBweDtcbiAgICAgICAgd2lkdGg6IDBweDtcbiAgICAgICAgaGVpZ2h0OiAwcHg7XG5cbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG5gO1xuY29uc3QgRHJpbGxkb3duT3ZlcmxheUVkaXRvciA9IHAgPT4ge1xuICBjb25zdCB7XG4gICAgZHJpbGxkb3duc1xuICB9ID0gcDtcbiAgcmV0dXJuIF9qc3goRHJpbGxkb3duT3ZlcmxheUVkaXRvclN0eWxlLCB7XG4gICAgY2hpbGRyZW46IGRyaWxsZG93bnMubWFwKChkLCBpKSA9PiBfanN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiZG9lLWJ1YmJsZVwiLFxuICAgICAgY2hpbGRyZW46IFtkLmltZyAhPT0gdW5kZWZpbmVkICYmIF9qc3goXCJpbWdcIiwge1xuICAgICAgICBzcmM6IGQuaW1nXG4gICAgICB9KSwgX2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNoaWxkcmVuOiBkLnRleHRcbiAgICAgIH0pXVxuICAgIH0sIGkpKVxuICB9KTtcbn07XG5EcmlsbGRvd25PdmVybGF5RWRpdG9yLmRpc3BsYXlOYW1lID0gXCJEcmlsbGRvd25PdmVybGF5RWRpdG9yXCI7XG5leHBvcnQgZGVmYXVsdCBEcmlsbGRvd25PdmVybGF5RWRpdG9yOyJdfQ==*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".i1f2fhaz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;}.i1f2fhaz .gdg-centering-container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;}.i1f2fhaz .gdg-centering-container img,.i1f2fhaz .gdg-centering-container canvas{max-height:calc(100vh - var(--overlay-top) - 20px);object-fit:contain;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.i1f2fhaz .gdg-centering-container canvas{max-width:380px;}.i1f2fhaz .gdg-edit-icon{position:absolute;top:12px;right:0;width:48px;height:48px;color:var(--gdg-accent-color);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.i1f2fhaz .gdg-edit-icon > *{width:24px;height:24px;}.i1f2fhaz textarea{position:absolute;top:0px;left:0px;width:0px;height:0px;opacity:0;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvaW1hZ2Utb3ZlcmxheS1lZGl0b3Itc3R5bGUudHN4Il0sIm5hbWVzIjpbIi5pMWYyZmhheiJdLCJtYXBwaW5ncyI6IkFBQ3VDQSIsImZpbGUiOiIvaG9tZS9ydW5uZXIvd29yay9nbGlkZS1kYXRhLWdyaWQvZ2xpZGUtZGF0YS1ncmlkL3BhY2thZ2VzL2NvcmUvc3JjL2ludGVybmFsL2RhdGEtZ3JpZC1vdmVybGF5LWVkaXRvci9wcml2YXRlL2ltYWdlLW92ZXJsYXktZWRpdG9yLXN0eWxlLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJAbGluYXJpYS9yZWFjdFwiO1xuZXhwb3J0IGNvbnN0IEltYWdlT3ZlcmxheUVkaXRvclN0eWxlID0gc3R5bGVkLmRpdmBcbiAgICBkaXNwbGF5OiBmbGV4O1xuXG4gICAgaGVpZ2h0OiAxMDAlO1xuXG4gICAgLmdkZy1jZW50ZXJpbmctY29udGFpbmVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuXG4gICAgICAgIGltZyxcbiAgICAgICAgY2FudmFzIHtcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSB2YXIoLS1vdmVybGF5LXRvcCkgLSAyMHB4KTtcbiAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbnZhcyB7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDM4MHB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmdkZy1lZGl0LWljb24ge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMTJweDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIHdpZHRoOiA0OHB4O1xuICAgICAgICBoZWlnaHQ6IDQ4cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1nZGctYWNjZW50LWNvbG9yKTtcblxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgICAgPiAqIHtcbiAgICAgICAgICAgIHdpZHRoOiAyNHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGV4dGFyZWEge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMHB4O1xuICAgICAgICBsZWZ0OiAwcHg7XG4gICAgICAgIHdpZHRoOiAwcHg7XG4gICAgICAgIGhlaWdodDogMHB4O1xuXG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxuYDsiXX0=*/\", \"\",{\"version\":3,\"sources\":[\"/home/runner/work/glide-data-grid/glide-data-grid/packages/core/src/internal/data-grid-overlay-editor/private/image-overlay-editor-style.tsx\",\"webpack://./packages/core/src/internal/data-grid-overlay-editor/private/image-overlay-editor-style.tsx\"],\"names\":[\".i1f2fhaz\"],\"mappings\":\"AACuCA,UAAAA,mBAAAA,CAAAA,oBAAAA,CAAAA,mBAAAA,CAAAA,YAAAA,CAAAA,WAAAA,CAAAA,CAAAA,mCAAAA,mBAAAA,CAAAA,oBAAAA,CAAAA,mBAAAA,CAAAA,YAAAA,CAAAA,uBAAAA,CAAAA,8BAAAA,CAAAA,oBAAAA,CAAAA,sBAAAA,CAAAA,0BAAAA,CAAAA,wBAAAA,CAAAA,qBAAAA,CAAAA,kBAAAA,CAAAA,WAAAA,CAAAA,CAAAA,iFAAAA,kDAAAA,CAAAA,kBAAAA,CAAAA,wBAAAA,CAAAA,qBAAAA,CAAAA,oBAAAA,CAAAA,gBAAAA,CAAAA,CAAAA,0CAAAA,eAAAA,CAAAA,CAAAA,yBAAAA,iBAAAA,CAAAA,QAAAA,CAAAA,OAAAA,CAAAA,UAAAA,CAAAA,WAAAA,CAAAA,6BAAAA,CAAAA,cAAAA,CAAAA,mBAAAA,CAAAA,oBAAAA,CAAAA,mBAAAA,CAAAA,YAAAA,CAAAA,uBAAAA,CAAAA,8BAAAA,CAAAA,oBAAAA,CAAAA,sBAAAA,CAAAA,0BAAAA,CAAAA,wBAAAA,CAAAA,qBAAAA,CAAAA,kBAAAA,CAAAA,CAAAA,6BAAAA,UAAAA,CAAAA,WAAAA,CAAAA,CAAAA,mBAAAA,iBAAAA,CAAAA,OAAAA,CAAAA,QAAAA,CAAAA,SAAAA,CAAAA,UAAAA,CAAAA,SAAAA,CAAAA;ACAvC,28DAA28D\",\"sourcesContent\":[\"import { styled } from \\\"@linaria/react\\\";\\nexport const ImageOverlayEditorStyle = styled.div`\\n    display: flex;\\n\\n    height: 100%;\\n\\n    .gdg-centering-container {\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n\\n        height: 100%;\\n\\n        img,\\n        canvas {\\n            max-height: calc(100vh - var(--overlay-top) - 20px);\\n            object-fit: contain;\\n            user-select: none;\\n        }\\n\\n        canvas {\\n            max-width: 380px;\\n        }\\n    }\\n\\n    .gdg-edit-icon {\\n        position: absolute;\\n        top: 12px;\\n        right: 0;\\n        width: 48px;\\n        height: 48px;\\n        color: var(--gdg-accent-color);\\n\\n        cursor: pointer;\\n\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n\\n        > * {\\n            width: 24px;\\n            height: 24px;\\n        }\\n    }\\n\\n    textarea {\\n        position: absolute;\\n        top: 0px;\\n        left: 0px;\\n        width: 0px;\\n        height: 0px;\\n\\n        opacity: 0;\\n    }\\n`;\",\".i1f2fhaz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;}.i1f2fhaz .gdg-centering-container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;}.i1f2fhaz .gdg-centering-container img,.i1f2fhaz .gdg-centering-container canvas{max-height:calc(100vh - var(--overlay-top) - 20px);object-fit:contain;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.i1f2fhaz .gdg-centering-container canvas{max-width:380px;}.i1f2fhaz .gdg-edit-icon{position:absolute;top:12px;right:0;width:48px;height:48px;color:var(--gdg-accent-color);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.i1f2fhaz .gdg-edit-icon > *{width:24px;height:24px;}.i1f2fhaz textarea{position:absolute;top:0px;left:0px;width:0px;height:0px;opacity:0;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvaW1hZ2Utb3ZlcmxheS1lZGl0b3Itc3R5bGUudHN4Il0sIm5hbWVzIjpbIi5pMWYyZmhheiJdLCJtYXBwaW5ncyI6IkFBQ3VDQSIsImZpbGUiOiIvaG9tZS9ydW5uZXIvd29yay9nbGlkZS1kYXRhLWdyaWQvZ2xpZGUtZGF0YS1ncmlkL3BhY2thZ2VzL2NvcmUvc3JjL2ludGVybmFsL2RhdGEtZ3JpZC1vdmVybGF5LWVkaXRvci9wcml2YXRlL2ltYWdlLW92ZXJsYXktZWRpdG9yLXN0eWxlLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJAbGluYXJpYS9yZWFjdFwiO1xuZXhwb3J0IGNvbnN0IEltYWdlT3ZlcmxheUVkaXRvclN0eWxlID0gc3R5bGVkLmRpdmBcbiAgICBkaXNwbGF5OiBmbGV4O1xuXG4gICAgaGVpZ2h0OiAxMDAlO1xuXG4gICAgLmdkZy1jZW50ZXJpbmctY29udGFpbmVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuXG4gICAgICAgIGltZyxcbiAgICAgICAgY2FudmFzIHtcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSB2YXIoLS1vdmVybGF5LXRvcCkgLSAyMHB4KTtcbiAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbnZhcyB7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDM4MHB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmdkZy1lZGl0LWljb24ge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMTJweDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIHdpZHRoOiA0OHB4O1xuICAgICAgICBoZWlnaHQ6IDQ4cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1nZGctYWNjZW50LWNvbG9yKTtcblxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgICAgPiAqIHtcbiAgICAgICAgICAgIHdpZHRoOiAyNHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGV4dGFyZWEge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMHB4O1xuICAgICAgICBsZWZ0OiAwcHg7XG4gICAgICAgIHdpZHRoOiAwcHg7XG4gICAgICAgIGhlaWdodDogMHB4O1xuXG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxuYDsiXX0=*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mmv7gx6{min-width:var(--mmv7gx6-0);width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;color:var(--gdg-text-dark);}.mmv7gx6 .g1d7u5bt{-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;min-width:0;}.mmv7gx6 .gdg-spacer{-webkit-flex:1;-ms-flex:1;flex:1;}.mmv7gx6 .gdg-edit-icon{position:relative;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--gdg-accent-color);padding:0;height:24px;width:24px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:all \\\"0.125s ease\\\";transition:all \\\"0.125s ease\\\";border-radius:6px;}.mmv7gx6 .gdg-edit-icon > *{width:16px;height:16px;}.mmv7gx6 .gdg-edit-hover:hover{background-color:var(--gdg-accent-light);-webkit-transition:background-color 150ms;transition:background-color 150ms;}.mmv7gx6 .gdg-checkmark-hover:hover{color:#ffffff;background-color:var(--gdg-accent-color);}.mmv7gx6 .gdg-md-edit-textarea{position:relative;top:0px;left:0px;width:0px;height:0px;margin-top:25px;opacity:0;padding:0;}.mmv7gx6 .gdg-ml-6{margin-left:6px;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvbWFya2Rvd24tb3ZlcmxheS1lZGl0b3Itc3R5bGUudHN4Il0sIm5hbWVzIjpbIi5tbXY3Z3g2Il0sIm1hcHBpbmdzIjoiQUFFMENBIiwiZmlsZSI6Ii9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvbWFya2Rvd24tb3ZlcmxheS1lZGl0b3Itc3R5bGUudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3Jvd2luZ0VudHJ5U3R5bGUgfSBmcm9tIFwiLi4vLi4vZ3Jvd2luZy1lbnRyeS9ncm93aW5nLWVudHJ5LXN0eWxlLmpzXCI7XG5pbXBvcnQgeyBzdHlsZWQgfSBmcm9tIFwiQGxpbmFyaWEvcmVhY3RcIjtcbmV4cG9ydCBjb25zdCBNYXJrZG93bk92ZXJsYXlFZGl0b3JTdHlsZSA9IHN0eWxlZC5kaXZgXG4gICAgbWluLXdpZHRoOiAke3AgPT4gcC50YXJnZXRXaWR0aH1weDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgY29sb3I6IHZhcigtLWdkZy10ZXh0LWRhcmspO1xuXG4gICAgJHtHcm93aW5nRW50cnlTdHlsZX0ge1xuICAgICAgICBmbGV4LXNocmluazogMTtcbiAgICAgICAgbWluLXdpZHRoOiAwO1xuICAgIH1cblxuICAgIC5nZGctc3BhY2VyIHtcbiAgICAgICAgZmxleDogMTtcbiAgICB9XG5cbiAgICAuZ2RnLWVkaXQtaWNvbiB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgICAgIGNvbG9yOiB2YXIoLS1nZGctYWNjZW50LWNvbG9yKTtcblxuICAgICAgICBwYWRkaW5nOiAwO1xuXG4gICAgICAgIGhlaWdodDogMjRweDtcbiAgICAgICAgd2lkdGg6IDI0cHg7XG4gICAgICAgIGZsZXgtc2hyaW5rOiAwO1xuXG4gICAgICAgIHRyYW5zaXRpb246IGFsbCBcIjAuMTI1cyBlYXNlXCI7XG5cbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuXG4gICAgICAgID4gKiB7XG4gICAgICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgICAgIGhlaWdodDogMTZweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5nZGctZWRpdC1ob3ZlciB7XG4gICAgICAgIDpob3ZlciB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1nZGctYWNjZW50LWxpZ2h0KTtcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMTUwbXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAuZ2RnLWNoZWNrbWFyay1ob3ZlciB7XG4gICAgICAgIDpob3ZlciB7XG4gICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWdkZy1hY2NlbnQtY29sb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmdkZy1tZC1lZGl0LXRleHRhcmVhIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB0b3A6IDBweDtcbiAgICAgICAgbGVmdDogMHB4O1xuICAgICAgICB3aWR0aDogMHB4O1xuICAgICAgICBoZWlnaHQ6IDBweDtcbiAgICAgICAgbWFyZ2luLXRvcDogMjVweDtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICB9XG5cbiAgICAuZ2RnLW1sLTYge1xuICAgICAgICBtYXJnaW4tbGVmdDogNnB4O1xuICAgIH1cbmA7Il19*/\", \"\",{\"version\":3,\"sources\":[\"/home/runner/work/glide-data-grid/glide-data-grid/packages/core/src/internal/data-grid-overlay-editor/private/markdown-overlay-editor-style.tsx\",\"webpack://./packages/core/src/internal/data-grid-overlay-editor/private/markdown-overlay-editor-style.tsx\"],\"names\":[\".mmv7gx6\"],\"mappings\":\"AAE0CA,SAAAA,0BAAAA,CAAAA,UAAAA,CAAAA,mBAAAA,CAAAA,oBAAAA,CAAAA,mBAAAA,CAAAA,YAAAA,CAAAA,8BAAAA,CAAAA,4BAAAA,CAAAA,yBAAAA,CAAAA,sBAAAA,CAAAA,wBAAAA,CAAAA,qCAAAA,CAAAA,qBAAAA,CAAAA,6BAAAA,CAAAA,iBAAAA,CAAAA,0BAAAA,CAAAA,CAAAA,mBAAAA,qBAAAA,CAAAA,mBAAAA,CAAAA,aAAAA,CAAAA,WAAAA,CAAAA,CAAAA,qBAAAA,cAAAA,CAAAA,UAAAA,CAAAA,MAAAA,CAAAA,CAAAA,wBAAAA,iBAAAA,CAAAA,cAAAA,CAAAA,mBAAAA,CAAAA,oBAAAA,CAAAA,mBAAAA,CAAAA,YAAAA,CAAAA,uBAAAA,CAAAA,8BAAAA,CAAAA,oBAAAA,CAAAA,sBAAAA,CAAAA,0BAAAA,CAAAA,wBAAAA,CAAAA,qBAAAA,CAAAA,kBAAAA,CAAAA,6BAAAA,CAAAA,SAAAA,CAAAA,WAAAA,CAAAA,UAAAA,CAAAA,qBAAAA,CAAAA,mBAAAA,CAAAA,aAAAA,CAAAA,oCAAAA,CAAAA,4BAAAA,CAAAA,iBAAAA,CAAAA,CAAAA,4BAAAA,UAAAA,CAAAA,WAAAA,CAAAA,CAAAA,+BAAAA,wCAAAA,CAAAA,yCAAAA,CAAAA,iCAAAA,CAAAA,CAAAA,oCAAAA,aAAAA,CAAAA,wCAAAA,CAAAA,CAAAA,+BAAAA,iBAAAA,CAAAA,OAAAA,CAAAA,QAAAA,CAAAA,SAAAA,CAAAA,UAAAA,CAAAA,eAAAA,CAAAA,SAAAA,CAAAA,SAAAA,CAAAA,CAAAA,mBAAAA,eAAAA,CAAAA;ACD1C,+mFAA+mF\",\"sourcesContent\":[\"import { GrowingEntryStyle } from \\\"../../growing-entry/growing-entry-style.js\\\";\\nimport { styled } from \\\"@linaria/react\\\";\\nexport const MarkdownOverlayEditorStyle = styled.div`\\n    min-width: ${p => p.targetWidth}px;\\n    width: 100%;\\n    display: flex;\\n    align-items: flex-start;\\n    justify-content: space-between;\\n    position: relative;\\n    color: var(--gdg-text-dark);\\n\\n    ${GrowingEntryStyle} {\\n        flex-shrink: 1;\\n        min-width: 0;\\n    }\\n\\n    .gdg-spacer {\\n        flex: 1;\\n    }\\n\\n    .gdg-edit-icon {\\n        position: relative;\\n        cursor: pointer;\\n\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n\\n        color: var(--gdg-accent-color);\\n\\n        padding: 0;\\n\\n        height: 24px;\\n        width: 24px;\\n        flex-shrink: 0;\\n\\n        transition: all \\\"0.125s ease\\\";\\n\\n        border-radius: 6px;\\n\\n        > * {\\n            width: 16px;\\n            height: 16px;\\n        }\\n    }\\n\\n    .gdg-edit-hover {\\n        :hover {\\n            background-color: var(--gdg-accent-light);\\n            transition: background-color 150ms;\\n        }\\n    }\\n\\n    .gdg-checkmark-hover {\\n        :hover {\\n            color: #ffffff;\\n            background-color: var(--gdg-accent-color);\\n        }\\n    }\\n\\n    .gdg-md-edit-textarea {\\n        position: relative;\\n        top: 0px;\\n        left: 0px;\\n        width: 0px;\\n        height: 0px;\\n        margin-top: 25px;\\n        opacity: 0;\\n        padding: 0;\\n    }\\n\\n    .gdg-ml-6 {\\n        margin-left: 6px;\\n    }\\n`;\",\".mmv7gx6{min-width:var(--mmv7gx6-0);width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;color:var(--gdg-text-dark);}.mmv7gx6 .g1d7u5bt{-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;min-width:0;}.mmv7gx6 .gdg-spacer{-webkit-flex:1;-ms-flex:1;flex:1;}.mmv7gx6 .gdg-edit-icon{position:relative;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--gdg-accent-color);padding:0;height:24px;width:24px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:all \\\"0.125s ease\\\";transition:all \\\"0.125s ease\\\";border-radius:6px;}.mmv7gx6 .gdg-edit-icon > *{width:16px;height:16px;}.mmv7gx6 .gdg-edit-hover:hover{background-color:var(--gdg-accent-light);-webkit-transition:background-color 150ms;transition:background-color 150ms;}.mmv7gx6 .gdg-checkmark-hover:hover{color:#ffffff;background-color:var(--gdg-accent-color);}.mmv7gx6 .gdg-md-edit-textarea{position:relative;top:0px;left:0px;width:0px;height:0px;margin-top:25px;opacity:0;padding:0;}.mmv7gx6 .gdg-ml-6{margin-left:6px;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvbWFya2Rvd24tb3ZlcmxheS1lZGl0b3Itc3R5bGUudHN4Il0sIm5hbWVzIjpbIi5tbXY3Z3g2Il0sIm1hcHBpbmdzIjoiQUFFMENBIiwiZmlsZSI6Ii9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvbWFya2Rvd24tb3ZlcmxheS1lZGl0b3Itc3R5bGUudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3Jvd2luZ0VudHJ5U3R5bGUgfSBmcm9tIFwiLi4vLi4vZ3Jvd2luZy1lbnRyeS9ncm93aW5nLWVudHJ5LXN0eWxlLmpzXCI7XG5pbXBvcnQgeyBzdHlsZWQgfSBmcm9tIFwiQGxpbmFyaWEvcmVhY3RcIjtcbmV4cG9ydCBjb25zdCBNYXJrZG93bk92ZXJsYXlFZGl0b3JTdHlsZSA9IHN0eWxlZC5kaXZgXG4gICAgbWluLXdpZHRoOiAke3AgPT4gcC50YXJnZXRXaWR0aH1weDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgY29sb3I6IHZhcigtLWdkZy10ZXh0LWRhcmspO1xuXG4gICAgJHtHcm93aW5nRW50cnlTdHlsZX0ge1xuICAgICAgICBmbGV4LXNocmluazogMTtcbiAgICAgICAgbWluLXdpZHRoOiAwO1xuICAgIH1cblxuICAgIC5nZGctc3BhY2VyIHtcbiAgICAgICAgZmxleDogMTtcbiAgICB9XG5cbiAgICAuZ2RnLWVkaXQtaWNvbiB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgICAgIGNvbG9yOiB2YXIoLS1nZGctYWNjZW50LWNvbG9yKTtcblxuICAgICAgICBwYWRkaW5nOiAwO1xuXG4gICAgICAgIGhlaWdodDogMjRweDtcbiAgICAgICAgd2lkdGg6IDI0cHg7XG4gICAgICAgIGZsZXgtc2hyaW5rOiAwO1xuXG4gICAgICAgIHRyYW5zaXRpb246IGFsbCBcIjAuMTI1cyBlYXNlXCI7XG5cbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuXG4gICAgICAgID4gKiB7XG4gICAgICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgICAgIGhlaWdodDogMTZweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5nZGctZWRpdC1ob3ZlciB7XG4gICAgICAgIDpob3ZlciB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1nZGctYWNjZW50LWxpZ2h0KTtcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMTUwbXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAuZ2RnLWNoZWNrbWFyay1ob3ZlciB7XG4gICAgICAgIDpob3ZlciB7XG4gICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWdkZy1hY2NlbnQtY29sb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmdkZy1tZC1lZGl0LXRleHRhcmVhIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB0b3A6IDBweDtcbiAgICAgICAgbGVmdDogMHB4O1xuICAgICAgICB3aWR0aDogMHB4O1xuICAgICAgICBoZWlnaHQ6IDBweDtcbiAgICAgICAgbWFyZ2luLXRvcDogMjVweDtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICB9XG5cbiAgICAuZ2RnLW1sLTYge1xuICAgICAgICBtYXJnaW4tbGVmdDogNnB4O1xuICAgIH1cbmA7Il19*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".uwr6ffw{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:21px;}.uwr6ffw .gdg-link-area{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;cursor:pointer;margin-right:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--gdg-link-color);-webkit-text-decoration:underline !important;text-decoration:underline !important;}.uwr6ffw .gdg-edit-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:32px;color:var(--gdg-accent-color);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.uwr6ffw .gdg-edit-icon > *{width:24px;height:24px;}.uwr6ffw textarea{position:absolute;top:0px;left:0px;width:0px;height:0px;opacity:0;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvdXJpLW92ZXJsYXktZWRpdG9yLXN0eWxlLnRzeCJdLCJuYW1lcyI6WyIudXdyNmZmdyJdLCJtYXBwaW5ncyI6IkFBQ3FDQSIsImZpbGUiOiIvaG9tZS9ydW5uZXIvd29yay9nbGlkZS1kYXRhLWdyaWQvZ2xpZGUtZGF0YS1ncmlkL3BhY2thZ2VzL2NvcmUvc3JjL2ludGVybmFsL2RhdGEtZ3JpZC1vdmVybGF5LWVkaXRvci9wcml2YXRlL3VyaS1vdmVybGF5LWVkaXRvci1zdHlsZS50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHlsZWQgfSBmcm9tIFwiQGxpbmFyaWEvcmVhY3RcIjtcbmV4cG9ydCBjb25zdCBVcmlPdmVybGF5RWRpdG9yU3R5bGUgPSBzdHlsZWQuZGl2YFxuICAgIGRpc3BsYXk6IGZsZXg7XG5cbiAgICBmbGV4LWdyb3c6IDE7XG5cbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgbWluLWhlaWdodDogMjFweDtcblxuICAgIC5nZGctbGluay1hcmVhIHtcbiAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICBmbGV4LXNocmluazogMTtcblxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgICAgICAgbWFyZ2luLXJpZ2h0OiA4cHg7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuXG4gICAgICAgIGNvbG9yOiB2YXIoLS1nZGctbGluay1jb2xvcik7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lICFpbXBvcnRhbnQ7XG4gICAgfVxuXG4gICAgLmdkZy1lZGl0LWljb24ge1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1nZGctYWNjZW50LWNvbG9yKTtcblxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgICAgPiAqIHtcbiAgICAgICAgICAgIHdpZHRoOiAyNHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGV4dGFyZWEge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMHB4O1xuICAgICAgICBsZWZ0OiAwcHg7XG4gICAgICAgIHdpZHRoOiAwcHg7XG4gICAgICAgIGhlaWdodDogMHB4O1xuXG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxuYDsiXX0=*/\", \"\",{\"version\":3,\"sources\":[\"/home/runner/work/glide-data-grid/glide-data-grid/packages/core/src/internal/data-grid-overlay-editor/private/uri-overlay-editor-style.tsx\",\"webpack://./packages/core/src/internal/data-grid-overlay-editor/private/uri-overlay-editor-style.tsx\"],\"names\":[\".uwr6ffw\"],\"mappings\":\"AACqCA,SAAAA,mBAAAA,CAAAA,oBAAAA,CAAAA,mBAAAA,CAAAA,YAAAA,CAAAA,kBAAAA,CAAAA,mBAAAA,CAAAA,mBAAAA,CAAAA,WAAAA,CAAAA,0BAAAA,CAAAA,wBAAAA,CAAAA,qBAAAA,CAAAA,kBAAAA,CAAAA,eAAAA,CAAAA,CAAAA,wBAAAA,kBAAAA,CAAAA,mBAAAA,CAAAA,mBAAAA,CAAAA,WAAAA,CAAAA,qBAAAA,CAAAA,mBAAAA,CAAAA,aAAAA,CAAAA,cAAAA,CAAAA,gBAAAA,CAAAA,eAAAA,CAAAA,sBAAAA,CAAAA,kBAAAA,CAAAA,2BAAAA,CAAAA,4CAAAA,CAAAA,oCAAAA,CAAAA,CAAAA,wBAAAA,qBAAAA,CAAAA,mBAAAA,CAAAA,aAAAA,CAAAA,UAAAA,CAAAA,6BAAAA,CAAAA,cAAAA,CAAAA,mBAAAA,CAAAA,oBAAAA,CAAAA,mBAAAA,CAAAA,YAAAA,CAAAA,uBAAAA,CAAAA,8BAAAA,CAAAA,oBAAAA,CAAAA,sBAAAA,CAAAA,0BAAAA,CAAAA,wBAAAA,CAAAA,qBAAAA,CAAAA,kBAAAA,CAAAA,CAAAA,4BAAAA,UAAAA,CAAAA,WAAAA,CAAAA,CAAAA,kBAAAA,iBAAAA,CAAAA,OAAAA,CAAAA,QAAAA,CAAAA,SAAAA,CAAAA,UAAAA,CAAAA,SAAAA,CAAAA;ACArC,20DAA20D\",\"sourcesContent\":[\"import { styled } from \\\"@linaria/react\\\";\\nexport const UriOverlayEditorStyle = styled.div`\\n    display: flex;\\n\\n    flex-grow: 1;\\n\\n    align-items: center;\\n\\n    min-height: 21px;\\n\\n    .gdg-link-area {\\n        flex-grow: 1;\\n        flex-shrink: 1;\\n\\n        cursor: pointer;\\n\\n        margin-right: 8px;\\n        overflow: hidden;\\n        text-overflow: ellipsis;\\n        white-space: nowrap;\\n\\n        color: var(--gdg-link-color);\\n        text-decoration: underline !important;\\n    }\\n\\n    .gdg-edit-icon {\\n        flex-shrink: 0;\\n        width: 32px;\\n        color: var(--gdg-accent-color);\\n\\n        cursor: pointer;\\n\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n\\n        > * {\\n            width: 24px;\\n            height: 24px;\\n        }\\n    }\\n\\n    textarea {\\n        position: absolute;\\n        top: 0px;\\n        left: 0px;\\n        width: 0px;\\n        height: 0px;\\n\\n        opacity: 0;\\n    }\\n`;\",\".uwr6ffw{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:21px;}.uwr6ffw .gdg-link-area{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;cursor:pointer;margin-right:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--gdg-link-color);-webkit-text-decoration:underline !important;text-decoration:underline !important;}.uwr6ffw .gdg-edit-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:32px;color:var(--gdg-accent-color);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.uwr6ffw .gdg-edit-icon > *{width:24px;height:24px;}.uwr6ffw textarea{position:absolute;top:0px;left:0px;width:0px;height:0px;opacity:0;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvdXJpLW92ZXJsYXktZWRpdG9yLXN0eWxlLnRzeCJdLCJuYW1lcyI6WyIudXdyNmZmdyJdLCJtYXBwaW5ncyI6IkFBQ3FDQSIsImZpbGUiOiIvaG9tZS9ydW5uZXIvd29yay9nbGlkZS1kYXRhLWdyaWQvZ2xpZGUtZGF0YS1ncmlkL3BhY2thZ2VzL2NvcmUvc3JjL2ludGVybmFsL2RhdGEtZ3JpZC1vdmVybGF5LWVkaXRvci9wcml2YXRlL3VyaS1vdmVybGF5LWVkaXRvci1zdHlsZS50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHlsZWQgfSBmcm9tIFwiQGxpbmFyaWEvcmVhY3RcIjtcbmV4cG9ydCBjb25zdCBVcmlPdmVybGF5RWRpdG9yU3R5bGUgPSBzdHlsZWQuZGl2YFxuICAgIGRpc3BsYXk6IGZsZXg7XG5cbiAgICBmbGV4LWdyb3c6IDE7XG5cbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgbWluLWhlaWdodDogMjFweDtcblxuICAgIC5nZGctbGluay1hcmVhIHtcbiAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICBmbGV4LXNocmluazogMTtcblxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgICAgICAgbWFyZ2luLXJpZ2h0OiA4cHg7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuXG4gICAgICAgIGNvbG9yOiB2YXIoLS1nZGctbGluay1jb2xvcik7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lICFpbXBvcnRhbnQ7XG4gICAgfVxuXG4gICAgLmdkZy1lZGl0LWljb24ge1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1nZGctYWNjZW50LWNvbG9yKTtcblxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgICAgPiAqIHtcbiAgICAgICAgICAgIHdpZHRoOiAyNHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGV4dGFyZWEge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMHB4O1xuICAgICAgICBsZWZ0OiAwcHg7XG4gICAgICAgIHdpZHRoOiAwcHg7XG4gICAgICAgIGhlaWdodDogMHB4O1xuXG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxuYDsiXX0=*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".iotb8b8{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;height:100%;border-radius:0px;resize:none;white-space:pre-wrap;min-width:100%;overflow:hidden;border:0;background-color:transparent;font-size:var(--gdg-editor-font-size);line-height:16px;font-family:var(--gdg-font-family);-webkit-text-fill-color:var(--gdg-text-dark);color:var(--gdg-text-dark);padding:0;margin:0;}.iotb8b8::-webkit-input-placeholder{color:var(--gdg-text-light);}.iotb8b8::-moz-placeholder{color:var(--gdg-text-light);}.iotb8b8:-ms-input-placeholder{color:var(--gdg-text-light);}.iotb8b8::placeholder{color:var(--gdg-text-light);}.gdg-invalid .iotb8b8{-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration-color:#d60606;text-decoration-color:#d60606;}\\n.s1xtsfdl{visibility:hidden;white-space:pre-wrap;word-wrap:break-word;width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;min-width:100%;font-size:var(--gdg-editor-font-size);line-height:16px;font-family:var(--gdg-font-family);color:var(--gdg-text-dark);padding:0;margin:0;padding-bottom:2px;}\\n.g1d7u5bt{position:relative;margin-top:6px;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZ3Jvd2luZy1lbnRyeS9ncm93aW5nLWVudHJ5LXN0eWxlLnRzeCJdLCJuYW1lcyI6WyIuaW90YjhiOCIsIi5zMXh0c2ZkbCIsIi5nMWQ3dTVidCJdLCJtYXBwaW5ncyI6IkFBQ3dCQTtBQW1DQ0M7QUFtQlFDIiwiZmlsZSI6Ii9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZ3Jvd2luZy1lbnRyeS9ncm93aW5nLWVudHJ5LXN0eWxlLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJAbGluYXJpYS9yZWFjdFwiO1xuZXhwb3J0IGNvbnN0IElucHV0Qm94ID0gc3R5bGVkLnRleHRhcmVhYFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIHRvcDogMDtcbiAgICBib3R0b206IDA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuXG4gICAgYm9yZGVyLXJhZGl1czogMHB4O1xuXG4gICAgcmVzaXplOiBub25lO1xuICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgICBtaW4td2lkdGg6IDEwMCU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBib3JkZXI6IDA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG5cbiAgICA6OnBsYWNlaG9sZGVyIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWdkZy10ZXh0LWxpZ2h0KTtcbiAgICB9XG5cbiAgICBmb250LXNpemU6IHZhcigtLWdkZy1lZGl0b3ItZm9udC1zaXplKTtcbiAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICBmb250LWZhbWlseTogdmFyKC0tZ2RnLWZvbnQtZmFtaWx5KTtcbiAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdmFyKC0tZ2RnLXRleHQtZGFyayk7XG4gICAgY29sb3I6IHZhcigtLWdkZy10ZXh0LWRhcmspO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAwO1xuXG4gICAgLmdkZy1pbnZhbGlkICYge1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiAjZDYwNjA2O1xuICAgIH1cbmA7XG5leHBvcnQgY29uc3QgU2hhZG93Qm94ID0gc3R5bGVkLmRpdmBcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xuICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcblxuICAgIHdpZHRoOiBtYXgtY29udGVudDtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG5cbiAgICBtaW4td2lkdGg6IDEwMCU7XG5cbiAgICBmb250LXNpemU6IHZhcigtLWdkZy1lZGl0b3ItZm9udC1zaXplKTtcbiAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICBmb250LWZhbWlseTogdmFyKC0tZ2RnLWZvbnQtZmFtaWx5KTtcbiAgICBjb2xvcjogdmFyKC0tZ2RnLXRleHQtZGFyayk7XG4gICAgcGFkZGluZzogMDtcbiAgICBtYXJnaW46IDA7XG5cbiAgICBwYWRkaW5nLWJvdHRvbTogMnB4O1xuYDtcbmV4cG9ydCBjb25zdCBHcm93aW5nRW50cnlTdHlsZSA9IHN0eWxlZC5kaXZgXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIG1hcmdpbi10b3A6IDZweDtcbmA7Il19*/\", \"\",{\"version\":3,\"sources\":[\"/home/runner/work/glide-data-grid/glide-data-grid/packages/core/src/internal/growing-entry/growing-entry-style.tsx\",\"webpack://./packages/core/src/internal/growing-entry/growing-entry-style.tsx\"],\"names\":[\".iotb8b8\",\".s1xtsfdl\",\".g1d7u5bt\"],\"mappings\":\"AACwBA,SAAAA,iBAAAA,CAAAA,MAAAA,CAAAA,OAAAA,CAAAA,KAAAA,CAAAA,QAAAA,CAAAA,UAAAA,CAAAA,WAAAA,CAAAA,iBAAAA,CAAAA,WAAAA,CAAAA,oBAAAA,CAAAA,cAAAA,CAAAA,eAAAA,CAAAA,QAAAA,CAAAA,4BAAAA,CAAAA,qCAAAA,CAAAA,gBAAAA,CAAAA,kCAAAA,CAAAA,4CAAAA,CAAAA,0BAAAA,CAAAA,SAAAA,CAAAA,QAAAA,CAAAA,CAAAA,oCAAAA,2BAAAA,CAAAA,CAAAA,2BAAAA,2BAAAA,CAAAA,CAAAA,+BAAAA,2BAAAA,CAAAA,CAAAA,sBAAAA,2BAAAA,CAAAA,CAAAA,sBAAAA,iCAAAA,CAAAA,yBAAAA,CAAAA,qCAAAA,CAAAA,6BAAAA,CAAAA;AAmCCC,UAAAA,iBAAAA,CAAAA,oBAAAA,CAAAA,oBAAAA,CAAAA,yBAAAA,CAAAA,sBAAAA,CAAAA,iBAAAA,CAAAA,cAAAA,CAAAA,cAAAA,CAAAA,qCAAAA,CAAAA,gBAAAA,CAAAA,kCAAAA,CAAAA,0BAAAA,CAAAA,SAAAA,CAAAA,QAAAA,CAAAA,kBAAAA,CAAAA;AAmBQC,UAAAA,iBAAAA,CAAAA,cAAAA,CAAAA;ACpDjC,utEAAutE\",\"sourcesContent\":[\"import { styled } from \\\"@linaria/react\\\";\\nexport const InputBox = styled.textarea`\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n    top: 0;\\n    bottom: 0;\\n    width: 100%;\\n    height: 100%;\\n\\n    border-radius: 0px;\\n\\n    resize: none;\\n    white-space: pre-wrap;\\n    min-width: 100%;\\n    overflow: hidden;\\n    border: 0;\\n    background-color: transparent;\\n\\n    ::placeholder {\\n        color: var(--gdg-text-light);\\n    }\\n\\n    font-size: var(--gdg-editor-font-size);\\n    line-height: 16px;\\n    font-family: var(--gdg-font-family);\\n    -webkit-text-fill-color: var(--gdg-text-dark);\\n    color: var(--gdg-text-dark);\\n    padding: 0;\\n    margin: 0;\\n\\n    .gdg-invalid & {\\n        text-decoration: underline;\\n        text-decoration-color: #d60606;\\n    }\\n`;\\nexport const ShadowBox = styled.div`\\n    visibility: hidden;\\n    white-space: pre-wrap;\\n    word-wrap: break-word;\\n\\n    width: max-content;\\n    max-width: 100%;\\n\\n    min-width: 100%;\\n\\n    font-size: var(--gdg-editor-font-size);\\n    line-height: 16px;\\n    font-family: var(--gdg-font-family);\\n    color: var(--gdg-text-dark);\\n    padding: 0;\\n    margin: 0;\\n\\n    padding-bottom: 2px;\\n`;\\nexport const GrowingEntryStyle = styled.div`\\n    position: relative;\\n    margin-top: 6px;\\n`;\",\".iotb8b8{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;height:100%;border-radius:0px;resize:none;white-space:pre-wrap;min-width:100%;overflow:hidden;border:0;background-color:transparent;font-size:var(--gdg-editor-font-size);line-height:16px;font-family:var(--gdg-font-family);-webkit-text-fill-color:var(--gdg-text-dark);color:var(--gdg-text-dark);padding:0;margin:0;}.iotb8b8::-webkit-input-placeholder{color:var(--gdg-text-light);}.iotb8b8::-moz-placeholder{color:var(--gdg-text-light);}.iotb8b8:-ms-input-placeholder{color:var(--gdg-text-light);}.iotb8b8::placeholder{color:var(--gdg-text-light);}.gdg-invalid .iotb8b8{-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration-color:#d60606;text-decoration-color:#d60606;}\\n.s1xtsfdl{visibility:hidden;white-space:pre-wrap;word-wrap:break-word;width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;min-width:100%;font-size:var(--gdg-editor-font-size);line-height:16px;font-family:var(--gdg-font-family);color:var(--gdg-text-dark);padding:0;margin:0;padding-bottom:2px;}\\n.g1d7u5bt{position:relative;margin-top:6px;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZ3Jvd2luZy1lbnRyeS9ncm93aW5nLWVudHJ5LXN0eWxlLnRzeCJdLCJuYW1lcyI6WyIuaW90YjhiOCIsIi5zMXh0c2ZkbCIsIi5nMWQ3dTVidCJdLCJtYXBwaW5ncyI6IkFBQ3dCQTtBQW1DQ0M7QUFtQlFDIiwiZmlsZSI6Ii9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZ3Jvd2luZy1lbnRyeS9ncm93aW5nLWVudHJ5LXN0eWxlLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJAbGluYXJpYS9yZWFjdFwiO1xuZXhwb3J0IGNvbnN0IElucHV0Qm94ID0gc3R5bGVkLnRleHRhcmVhYFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIHRvcDogMDtcbiAgICBib3R0b206IDA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuXG4gICAgYm9yZGVyLXJhZGl1czogMHB4O1xuXG4gICAgcmVzaXplOiBub25lO1xuICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgICBtaW4td2lkdGg6IDEwMCU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBib3JkZXI6IDA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG5cbiAgICA6OnBsYWNlaG9sZGVyIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWdkZy10ZXh0LWxpZ2h0KTtcbiAgICB9XG5cbiAgICBmb250LXNpemU6IHZhcigtLWdkZy1lZGl0b3ItZm9udC1zaXplKTtcbiAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICBmb250LWZhbWlseTogdmFyKC0tZ2RnLWZvbnQtZmFtaWx5KTtcbiAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdmFyKC0tZ2RnLXRleHQtZGFyayk7XG4gICAgY29sb3I6IHZhcigtLWdkZy10ZXh0LWRhcmspO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAwO1xuXG4gICAgLmdkZy1pbnZhbGlkICYge1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiAjZDYwNjA2O1xuICAgIH1cbmA7XG5leHBvcnQgY29uc3QgU2hhZG93Qm94ID0gc3R5bGVkLmRpdmBcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xuICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcblxuICAgIHdpZHRoOiBtYXgtY29udGVudDtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG5cbiAgICBtaW4td2lkdGg6IDEwMCU7XG5cbiAgICBmb250LXNpemU6IHZhcigtLWdkZy1lZGl0b3ItZm9udC1zaXplKTtcbiAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICBmb250LWZhbWlseTogdmFyKC0tZ2RnLWZvbnQtZmFtaWx5KTtcbiAgICBjb2xvcjogdmFyKC0tZ2RnLXRleHQtZGFyayk7XG4gICAgcGFkZGluZzogMDtcbiAgICBtYXJnaW46IDA7XG5cbiAgICBwYWRkaW5nLWJvdHRvbTogMnB4O1xuYDtcbmV4cG9ydCBjb25zdCBHcm93aW5nRW50cnlTdHlsZSA9IHN0eWxlZC5kaXZgXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIG1hcmdpbi10b3A6IDZweDtcbmA7Il19*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".m1ec5h7p{word-break:break-word;-webkit-touch-callout:default;padding-top:6px;}.m1ec5h7p > *{margin:0;}.m1ec5h7p *:last-child{margin-bottom:0;}.m1ec5h7p p img{width:100%;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvbWFya2Rvd24tZGl2L3ByaXZhdGUvbWFya2Rvd24tY29udGFpbmVyLnRzeCJdLCJuYW1lcyI6WyIubTFlYzVoN3AiXSwibWFwcGluZ3MiOiJBQUNpQ0EiLCJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmsvZ2xpZGUtZGF0YS1ncmlkL2dsaWRlLWRhdGEtZ3JpZC9wYWNrYWdlcy9jb3JlL3NyYy9pbnRlcm5hbC9tYXJrZG93bi1kaXYvcHJpdmF0ZS9tYXJrZG93bi1jb250YWluZXIudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIkBsaW5hcmlhL3JlYWN0XCI7XG5leHBvcnQgY29uc3QgTWFya2Rvd25Db250YWluZXIgPSBzdHlsZWQuZGl2YFxuICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBkZWZhdWx0O1xuICAgIHBhZGRpbmctdG9wOiA2cHg7XG5cbiAgICA+ICoge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgfVxuXG4gICAgJiAqOmxhc3QtY2hpbGQge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgIH1cblxuICAgICYgcCBpbWcge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG5gOyJdfQ==*/\", \"\",{\"version\":3,\"sources\":[\"/home/runner/work/glide-data-grid/glide-data-grid/packages/core/src/internal/markdown-div/private/markdown-container.tsx\",\"webpack://./packages/core/src/internal/markdown-div/private/markdown-container.tsx\"],\"names\":[\".m1ec5h7p\"],\"mappings\":\"AACiCA,UAAAA,qBAAAA,CAAAA,6BAAAA,CAAAA,eAAAA,CAAAA,CAAAA,cAAAA,QAAAA,CAAAA,CAAAA,uBAAAA,eAAAA,CAAAA,CAAAA,gBAAAA,UAAAA,CAAAA;ACAjC,+6BAA+6B\",\"sourcesContent\":[\"import { styled } from \\\"@linaria/react\\\";\\nexport const MarkdownContainer = styled.div`\\n    word-break: break-word;\\n    -webkit-touch-callout: default;\\n    padding-top: 6px;\\n\\n    > * {\\n        margin: 0;\\n    }\\n\\n    & *:last-child {\\n        margin-bottom: 0;\\n    }\\n\\n    & p img {\\n        width: 100%;\\n    }\\n`;\",\".m1ec5h7p{word-break:break-word;-webkit-touch-callout:default;padding-top:6px;}.m1ec5h7p > *{margin:0;}.m1ec5h7p *:last-child{margin-bottom:0;}.m1ec5h7p p img{width:100%;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvbWFya2Rvd24tZGl2L3ByaXZhdGUvbWFya2Rvd24tY29udGFpbmVyLnRzeCJdLCJuYW1lcyI6WyIubTFlYzVoN3AiXSwibWFwcGluZ3MiOiJBQUNpQ0EiLCJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmsvZ2xpZGUtZGF0YS1ncmlkL2dsaWRlLWRhdGEtZ3JpZC9wYWNrYWdlcy9jb3JlL3NyYy9pbnRlcm5hbC9tYXJrZG93bi1kaXYvcHJpdmF0ZS9tYXJrZG93bi1jb250YWluZXIudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIkBsaW5hcmlhL3JlYWN0XCI7XG5leHBvcnQgY29uc3QgTWFya2Rvd25Db250YWluZXIgPSBzdHlsZWQuZGl2YFxuICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBkZWZhdWx0O1xuICAgIHBhZGRpbmctdG9wOiA2cHg7XG5cbiAgICA+ICoge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgfVxuXG4gICAgJiAqOmxhc3QtY2hpbGQge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgIH1cblxuICAgICYgcCBpbWcge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG5gOyJdfQ==*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".bheiboo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100vh;width:100vw;position:relative;}.bheiboo > .content{display:block;width:var(--bheiboo-0);height:var(--bheiboo-1);-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box;}.bheiboo > .content *,.bheiboo > .content *::before,.bheiboo > .content *::after{box-sizing:inherit;}\\n.s15ez7jv{box-sizing:border-box;}.s15ez7jv *,.s15ez7jv *::before,.s15ez7jv *::after{box-sizing:inherit;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvc3Rvcmllcy9zdG9yeS11dGlscy50c3giXSwibmFtZXMiOlsiLmJoZWlib28iLCIuczE1ZXo3anYiXSwibWFwcGluZ3MiOiJBQU11QkE7QUE0QkRDIiwiZmlsZSI6Ii9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvc3Rvcmllcy9zdG9yeS11dGlscy50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJAbGluYXJpYS9yZWFjdFwiO1xuaW1wb3J0IFwicmVhY3QtcmVzcG9uc2l2ZS1jYXJvdXNlbC9saWIvc3R5bGVzL2Nhcm91c2VsLm1pbi5jc3NcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBfRnJhZ21lbnQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IEJ1aWxkZXJXcmFwcGVyID0gc3R5bGVkLmRpdmBcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGhlaWdodDogMTAwdmg7XG4gICAgd2lkdGg6IDEwMHZ3O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAgICYgPiAuY29udGVudCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuXG4gICAgICAgIHdpZHRoOiAke3AgPT4gcC53aWR0aH1weDtcbiAgICAgICAgaGVpZ2h0OiAke3AgPT4gcC5oZWlnaHR9cHg7XG4gICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcblxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xuXG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuXG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5cbiAgICAgICAgKixcbiAgICAgICAgKjo6YmVmb3JlLFxuICAgICAgICAqOjphZnRlciB7XG4gICAgICAgICAgICBib3gtc2l6aW5nOiBpbmhlcml0O1xuICAgICAgICB9XG4gICAgfVxuYDtcbmNvbnN0IFNpbXBsZVdyYXBwZXIgPSBzdHlsZWQuZGl2YFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5cbiAgICAqLFxuICAgICo6OmJlZm9yZSxcbiAgICAqOjphZnRlciB7XG4gICAgICAgIGJveC1zaXppbmc6IGluaGVyaXQ7XG4gICAgfVxuYDtcbmV4cG9ydCBjbGFzcyBCdWlsZGVyVGhlbWVXcmFwcGVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjb250ZXh0LFxuICAgICAgY2hpbGRyZW4sXG4gICAgICAuLi5yZXN0XG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIF9qc3hzKF9GcmFnbWVudCwge1xuICAgICAgY2hpbGRyZW46IFtfanN4KEJ1aWxkZXJXcmFwcGVyLCB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIGNoaWxkcmVuOiBfanN4KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiY29udGVudFwiLFxuICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgICAgICB9KVxuICAgICAgfSksIF9qc3goXCJkaXZcIiwge1xuICAgICAgICBpZDogXCJwb3J0YWxcIlxuICAgICAgfSldXG4gICAgfSk7XG4gIH1cbn1cbkJ1aWxkZXJUaGVtZVdyYXBwZXIuZGlzcGxheU5hbWUgPSBcIkJ1aWxkZXJUaGVtZVdyYXBwZXJcIjtcbmV4cG9ydCBjb25zdCBTaW1wbGVUaGVtZVdyYXBwZXIgPSBwID0+IHtcbiAgcmV0dXJuIF9qc3goU2ltcGxlV3JhcHBlciwge1xuICAgIGNoaWxkcmVuOiBfanN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjb250ZW50XCIsXG4gICAgICBjaGlsZHJlbjogcC5jaGlsZHJlblxuICAgIH0pXG4gIH0pO1xufTtcblNpbXBsZVRoZW1lV3JhcHBlci5kaXNwbGF5TmFtZSA9IFwiU2ltcGxlVGhlbWVXcmFwcGVyXCI7Il19*/\", \"\",{\"version\":3,\"sources\":[\"/home/runner/work/glide-data-grid/glide-data-grid/packages/core/src/stories/story-utils.tsx\",\"webpack://./packages/core/src/stories/story-utils.tsx\"],\"names\":[\".bheiboo\",\".s15ez7jv\"],\"mappings\":\"AAMuBA,SAAAA,mBAAAA,CAAAA,oBAAAA,CAAAA,mBAAAA,CAAAA,YAAAA,CAAAA,YAAAA,CAAAA,WAAAA,CAAAA,iBAAAA,CAAAA,CAAAA,oBAAAA,aAAAA,CAAAA,sBAAAA,CAAAA,uBAAAA,CAAAA,yBAAAA,CAAAA,0BAAAA,CAAAA,iBAAAA,CAAAA,iBAAAA,CAAAA,yCAAAA,CAAAA,wBAAAA,CAAAA,qBAAAA,CAAAA,oBAAAA,CAAAA,gBAAAA,CAAAA,qBAAAA,CAAAA,CAAAA,iFAAAA,kBAAAA,CAAAA;AA4BDC,UAAAA,qBAAAA,CAAAA,CAAAA,mDAAAA,kBAAAA,CAAAA;AChCtB,+sFAA+sF\",\"sourcesContent\":[\"import * as React from \\\"react\\\";\\nimport { styled } from \\\"@linaria/react\\\";\\nimport \\\"react-responsive-carousel/lib/styles/carousel.min.css\\\";\\nimport { jsx as _jsx } from \\\"react/jsx-runtime\\\";\\nimport { Fragment as _Fragment } from \\\"react/jsx-runtime\\\";\\nimport { jsxs as _jsxs } from \\\"react/jsx-runtime\\\";\\nconst BuilderWrapper = styled.div`\\n    display: flex;\\n    height: 100vh;\\n    width: 100vw;\\n    position: relative;\\n\\n    & > .content {\\n        display: block;\\n\\n        width: ${p => p.width}px;\\n        height: ${p => p.height}px;\\n        align-self: center;\\n\\n        position: relative;\\n\\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n\\n        user-select: none;\\n\\n        box-sizing: border-box;\\n\\n        *,\\n        *::before,\\n        *::after {\\n            box-sizing: inherit;\\n        }\\n    }\\n`;\\nconst SimpleWrapper = styled.div`\\n    box-sizing: border-box;\\n\\n    *,\\n    *::before,\\n    *::after {\\n        box-sizing: inherit;\\n    }\\n`;\\nexport class BuilderThemeWrapper extends React.PureComponent {\\n  render() {\\n    const {\\n      context,\\n      children,\\n      ...rest\\n    } = this.props;\\n    return _jsxs(_Fragment, {\\n      children: [_jsx(BuilderWrapper, {\\n        ...rest,\\n        children: _jsx(\\\"div\\\", {\\n          className: \\\"content\\\",\\n          children: children\\n        })\\n      }), _jsx(\\\"div\\\", {\\n        id: \\\"portal\\\"\\n      })]\\n    });\\n  }\\n}\\nBuilderThemeWrapper.displayName = \\\"BuilderThemeWrapper\\\";\\nexport const SimpleThemeWrapper = p => {\\n  return _jsx(SimpleWrapper, {\\n    children: _jsx(\\\"div\\\", {\\n      className: \\\"content\\\",\\n      children: p.children\\n    })\\n  });\\n};\\nSimpleThemeWrapper.displayName = \\\"SimpleThemeWrapper\\\";\",\".bheiboo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100vh;width:100vw;position:relative;}.bheiboo > .content{display:block;width:var(--bheiboo-0);height:var(--bheiboo-1);-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box;}.bheiboo > .content *,.bheiboo > .content *::before,.bheiboo > .content *::after{box-sizing:inherit;}\\n.s15ez7jv{box-sizing:border-box;}.s15ez7jv *,.s15ez7jv *::before,.s15ez7jv *::after{box-sizing:inherit;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvc3Rvcmllcy9zdG9yeS11dGlscy50c3giXSwibmFtZXMiOlsiLmJoZWlib28iLCIuczE1ZXo3anYiXSwibWFwcGluZ3MiOiJBQU11QkE7QUE0QkRDIiwiZmlsZSI6Ii9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvc3Rvcmllcy9zdG9yeS11dGlscy50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJAbGluYXJpYS9yZWFjdFwiO1xuaW1wb3J0IFwicmVhY3QtcmVzcG9uc2l2ZS1jYXJvdXNlbC9saWIvc3R5bGVzL2Nhcm91c2VsLm1pbi5jc3NcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBfRnJhZ21lbnQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IEJ1aWxkZXJXcmFwcGVyID0gc3R5bGVkLmRpdmBcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGhlaWdodDogMTAwdmg7XG4gICAgd2lkdGg6IDEwMHZ3O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAgICYgPiAuY29udGVudCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuXG4gICAgICAgIHdpZHRoOiAke3AgPT4gcC53aWR0aH1weDtcbiAgICAgICAgaGVpZ2h0OiAke3AgPT4gcC5oZWlnaHR9cHg7XG4gICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcblxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xuXG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuXG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5cbiAgICAgICAgKixcbiAgICAgICAgKjo6YmVmb3JlLFxuICAgICAgICAqOjphZnRlciB7XG4gICAgICAgICAgICBib3gtc2l6aW5nOiBpbmhlcml0O1xuICAgICAgICB9XG4gICAgfVxuYDtcbmNvbnN0IFNpbXBsZVdyYXBwZXIgPSBzdHlsZWQuZGl2YFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5cbiAgICAqLFxuICAgICo6OmJlZm9yZSxcbiAgICAqOjphZnRlciB7XG4gICAgICAgIGJveC1zaXppbmc6IGluaGVyaXQ7XG4gICAgfVxuYDtcbmV4cG9ydCBjbGFzcyBCdWlsZGVyVGhlbWVXcmFwcGVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjb250ZXh0LFxuICAgICAgY2hpbGRyZW4sXG4gICAgICAuLi5yZXN0XG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIF9qc3hzKF9GcmFnbWVudCwge1xuICAgICAgY2hpbGRyZW46IFtfanN4KEJ1aWxkZXJXcmFwcGVyLCB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIGNoaWxkcmVuOiBfanN4KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiY29udGVudFwiLFxuICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgICAgICB9KVxuICAgICAgfSksIF9qc3goXCJkaXZcIiwge1xuICAgICAgICBpZDogXCJwb3J0YWxcIlxuICAgICAgfSldXG4gICAgfSk7XG4gIH1cbn1cbkJ1aWxkZXJUaGVtZVdyYXBwZXIuZGlzcGxheU5hbWUgPSBcIkJ1aWxkZXJUaGVtZVdyYXBwZXJcIjtcbmV4cG9ydCBjb25zdCBTaW1wbGVUaGVtZVdyYXBwZXIgPSBwID0+IHtcbiAgcmV0dXJuIF9qc3goU2ltcGxlV3JhcHBlciwge1xuICAgIGNoaWxkcmVuOiBfanN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjb250ZW50XCIsXG4gICAgICBjaGlsZHJlbjogcC5jaGlsZHJlblxuICAgIH0pXG4gIH0pO1xufTtcblNpbXBsZVRoZW1lV3JhcHBlci5kaXNwbGF5TmFtZSA9IFwiU2ltcGxlVGhlbWVXcmFwcGVyXCI7Il19*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./bubbles-overlay-editor-style.tsx\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./bubbles-overlay-editor-style.tsx\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./drilldown-overlay-editor.tsx\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./drilldown-overlay-editor.tsx\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./image-overlay-editor-style.tsx\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./image-overlay-editor-style.tsx\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./markdown-overlay-editor-style.tsx\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./markdown-overlay-editor-style.tsx\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./uri-overlay-editor-style.tsx\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./uri-overlay-editor-style.tsx\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./growing-entry-style.tsx\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./growing-entry-style.tsx\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./markdown-container.tsx\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./markdown-container.tsx\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./story-utils.tsx\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./story-utils.tsx\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":["getSquareWidth","getSquareXPosFromAlign","getSquareBB","pointIsWithinBB","toggleBoolean","GridCellKind","booleanCellIsEditable","BooleanEmpty","BooleanIndeterminate","drawCheckbox","defaultCellMaxSize","booleanCellRenderer","getAccessibilityString","c","_c$data$toString","_c$data","data","toString","kind","Boolean","needsHover","useLabel","needsHoverPosition","measure","draw","a","_a$cell$maxSize","drawBoolean","cell","maxSize","onDelete","onClick","e","_cell$maxSize","_cell$contentAlign","posX","pointerX","posY","pointerY","bounds","theme","width","height","x","cellX","y","cellY","maxWidth","cellCenterY","Math","floor","checkBoxWidth","cellVerticalPadding","contentAlign","cellHorizontalPadding","bb","checkBoxClicked","undefined","onPaste","toPaste","newVal","toLowerCase","args","canEdit","ctx","hoverAmount","rect","highlighted","hoverX","hoverY","w","h","hoverEffect","alpha","globalAlpha","styled","BubblesOverlayEditorStyle","name","class","propsAsIs","React","jsx","_jsx","jsxs","_jsxs","BubblesOverlayEditor","p","bubbles","children","map","b","i","className","autoFocus","displayName","getMiddleCenterBias","measureTextCached","roundedRect","makeAccessibilityStringForArray","bubbleCellRenderer","Bubble","t","reduce","acc","measureText","drawBubbles","provideEditor","value","itemMargin","bubbleHeight","bubblePad","bubbleMargin","renderX","renderBoxes","s","textWidth","baseFontFull","push","beginPath","rectInfo","_theme$roundingRadius","roundingRadius","fillStyle","bgBubbleSelected","bgBubble","fill","entries","textBubble","fillText","DrilldownOverlayEditorStyle","DrilldownOverlayEditor","drilldowns","d","img","src","text","getEmHeight","drilldownCellRenderer","Drilldown","drawDrilldownCell","drilldownCache","getAndCacheDrilldownBorder","bgCell","border","rounding","dpr","ceil","window","devicePixelRatio","shadowBlur","targetHeight","middleWidth","innerHeight","sideWidth","targetWidth","innerWidth","key","el","padding","canvas","document","createElement","getContext","scale","shadowColor","shadowOffsetY","strokeStyle","lineWidth","stroke","imageLoader","col","row","font","emHeight","min","max","lineHeight","tileMap","drilldownBorder","textMetrics","imgWidth","loadOrGetImage","renderWidth","outerSideWidth","outerPadding","rx","rw","outerMiddleWidth","imageSmoothingEnabled","drawImage","drawX","_theme$roundingRadius2","imgSize","srcX","srcY","srcWidth","srcHeight","save","clip","restore","ImageOverlayEditorStyle","Carousel","EditPencil","ImageOverlayEditor","urls","canWrite","onEditClick","renderImage","filtered","filter","u","length","allowMove","showArrows","showThumbs","swipeable","emulateTouch","infiniteLoop","url","_renderImage","innerContent","draggable","imageCellRenderer","join","Image","_a$cell$displayData","_ref","_a$cell$rounding","displayData","_ctx","onFinishedEditing","imageEditorOverride","ImageEditor","readonly","onCancel","onChange","newImage","trim","fragments","split","uris","f","URL","every","imgHeight","images","totalWidth","index","withAlpha","getRandomNumber","seed","loadingCellRenderer","Loading","_cell$skeletonHeight","skeletonWidth","skeletonWidthVariability","round","hpad","rectHeight","skeletonHeight","textDark","MarkdownContainer","marked","MarkdownDiv","PureComponent","constructor","arguments","targetElement","containerRefHook","element","renderMarkdownIntoDiv","props","contents","createNode","innerHTML","childRange","createRange","selectNodeContents","deleteContents","newChild","childDoc","content","append","tags","getElementsByTagName","tag","target","rel","render","ref","InputBox","ShadowBox","GrowingEntryStyle","assert","globalInputID","GrowingEntry","placeholder","onKeyDown","highlight","altNewline","validatedSelection","rest","inputRef","useRef","useText","inputID","useState","useEffect","ta","current","disabled","focus","setSelectionRange","useLayoutEffect","_inputRef$current","range","onKeyDownInner","useCallback","shiftKey","id","dir","_exp","MarkdownOverlayEditorStyle","vars","Checkmark","Fragment","_Fragment","MarkdownOverlayEditor","forceEditMode","targetRect","onFinish","markdown","editMode","setEditMode","addLeftPad","stopPropagation","drawTextCell","prepTextCell","markdownCellRenderer","Markdown","drawPrep","firstLine","markdownDivCreateNode","InnerGridCellKind","markerCellRenderer","Marker","prepMarkerRowCell","drawMarkerRowCell","checked","markerKind","drawHandle","checkboxStyle","centerX","centerY","abs","lastPrep","newFont","markerFontFull","result","deprep","deprepMarkerRowCell","textAlign","style","checkedboxAlpha","offsetAmount","xOffset","yOffset","textLight","fontStyle","start","newRowCellRenderer","NewRow","drawNewRowCell","hint","icon","spriteManager","bgHeaderHovered","alwaysShowIcon","textX","size","px","py","drawSprite","finalLineSize","lineSize","xTranslate","padPlus","moveTo","lineTo","bgIconHeader","lineCap","textMedium","NumberOverlayEditor","lazy","numberCellRenderer","Number","isHighlighted","Suspense","fallback","fixedDecimals","allowNegative","thousandSeparator","decimalSeparator","_x$floatValue","isNaN","floatValue","details","_details$formattedStr","newNumber","rawValue","parseFloat","formattedString","degreesToRadians","protectedCellRenderer","Protected","drawProtectedCell","radius","xStart","center","cos","q","sin","rowIDCellRenderer","RowID","textCellRenderer","Text","textCell","hyperWrapping","overrideCursor","allowWrapping","textBaseline","padX","padY","m","maxH","actualBoundingBoxAscent","lines","maxLineWidth","line","disablePadding","editor","UriOverlayEditorStyle","UriOverlayEditor","uri","preview","href","getMeasuredTextCache","pointInRect","getTextRect","metrics","uriCellRenderer","Uri","uriCell","_cell$displayData","txt","isLinky","textRect","middleCenterBias","underlineOffset","drawY","linkColor","cellFillColor","_cell$displayData2","onClickUri","didClick","_cell$displayData3","_value$displayData","AllCellRenderers","Lazy","fn","val","_this$val","browserIsFirefox","navigator","userAgent","includes","browserIsSafari","browserIsOSX","platform","startsWith","CellSet","throttle","packColRowToNumber","unpackNumberToColRow","WindowingTrackerBase","imgPool","ImageWindowLoaderImpl","imageLoaded","loadedLocations","cache","sendLoaded","clearOutOfWindow","keys","Object","obj","keep","j","cells","packed","isInWindow","cancel","setCallback","loadImage","_imgPool$pop","loaded","pop","canceled","unshift","loadPromise","Promise","r","addEventListener","requestAnimationFrame","decode","toWrite","itemIsInRect","getClosestRect","allowedDirections","combineRects","distanceToLeft","distanceToRight","distanceToTop","distanceToBottom","minDistance","MAX_SAFE_INTEGER","intersectRect","x1","y1","w1","h1","x2","y2","w2","h2","rectContains","hugRectToTarget","mod","leftMax","topMax","rightMax","bottomMax","leftOverflow","rightOverflow","topOverflow","bottomOverflow","left","right","top","bottom","splitRectIntoRegions","splitIndicies","splitLocations","lSplit","tSplit","rSplit","bSplit","lClip","tClip","rClip","bClip","inX","inY","inW","inH","inRight","inBottom","isOverLeft","isOverTop","isOverRight","isOverBottom","isOverCenterVert","isOverCenterHoriz","isOverCenter","deepEqual","rowShift","unpackCol","unpackRow","visibleWindow","freezeCols","freezeRows","colInWindow","rowInWindow","setWindow","newWindow","RenderStateProvider","Map","setValue","location","state","set","getValue","get","delete","blend","makeCSSStyle","_theme$textGroupHeade","_theme$horizontalBord","accentColor","accentFg","accentLight","fgIconHeader","textHeader","textGroupHeader","textHeaderSelected","bgCellMedium","bgHeader","bgHeaderHasFocus","bgSearchResult","borderColor","horizontalBorderColor","headerFontStyle","baseFontStyle","markerFontStyle","fontFamily","editorFontSize","resizeIndicatorColor","headerBottomBorderColor","dataEditorBaseTheme","headerIconSize","getDataEditorTheme","ThemeContext","createContext","useTheme","useContext","mergeAndRealizeTheme","merged","_len","overlays","Array","_key","overlay","hasOwnProperty","headerFontFull","proveType","_val","panic","message","Error","fact","assertNever","_never","msg","maybe","defaultValue","has","prototype","foo","bar","ctor","len","Date","getTime","RegExp","call","debounce","useEventListener","eventName","handler","passive","capture","savedHandler","eventListener","event","_savedHandler$current","removeEventListener","whenDefined","PI","degrees","squareSideLength","alignment","containerX","containerWidth","horizontalPadding","squareWidth","containerHeight","verticalPadding","_props$fgColor","fg","fgColor","viewBox","xmlns","strokeWidth","strokeLinecap","strokeLinejoin","vectorEffect","_props$fgColor2","useDebouncedMemo","factory","deps","time","setState","mountedRef","debouncedSetState","rtlRange","ltrRange","rtl","direction","test","scrollbarWidthCache","getScrollBarWidth","inner","outer","position","visibility","overflow","body","offsetWidth","clientWidth","remove","empty","Symbol","useStateWithReactiveInput","inputState","inputStateRef","forceRender","setStateOuter","nv","pv","onEmpty","arr","count","str","slice","useDeepMemo","convertCellToBuffer","copyData","formatted","format","Custom","createBufferFromGridCells","columnIndexes","copyBuffer","mappedIndex","span","escapeIfNeeded","withComma","replace","createTextBuffer","_cell$rawValue$toStri","_cell$rawValue","formatHtmlTextContent","match","repeat","formatHtmlAttributeContent","attrText","restoreHtmlEntities","createHtmlBuffer","formatStr","ind","_cell$rawValue$toStri2","_cell$rawValue2","getCopyBufferContents","textPlain","textHtml","decodeHTML","html","fragment","tableEl","querySelector","walkEl","HTMLTableElement","nodeName","reverse","HTMLTableRowElement","HTMLTableCellElement","_clone$getAttribute","clone","cloneNode","firstTagIsPara","para","isAppleNumbers","brs","querySelectorAll","br","replaceWith","attributeValue","getAttribute","formatValue","_current","_clone$querySelector$","_clone$querySelector","_clone$textContent","textContent","_current2","rawValues","_x$getAttribute","_x$textContent","_current3","_clone$textContent2","_clone$textContent3","_current4","_textContent","_textContent2","expandSelection","getCellsForSelection","rowMarkerOffset","spanRangeBehavior","abortController","origVal","isFilled","_newVal","_newVal$current","leftCells","signal","rightCells","rCells","_newVal$current$cell","rangeStack","columns","rows","descape","endsWith","unquote","State","None","char","inString","inStringPostQuote","copyToClipboard","_window$navigator$cli3","copyWithWriteText","_window$navigator$cli","clipboard","writeText","copyWithWrite","_window$navigator$cli2","write","ClipboardItem","Blob","type","copyWithClipboardData","_e$clipboardData","_e$clipboardData2","clipboardData","setData","preventDefault","items","Set","add","clear","hasHeader","cellNumber","hasItemInRectangle","hasItemInRegion","values","div","createDiv","opacity","pointerEvents","parseToRgba","color","normalizedColor","control","getComputedStyle","computedColor","process","env","NODE_ENV","console","warn","g","blendResultCache","blendCache","background","cacheKey","bg","ba","ao","ro","go","bo","interpolateColors","leftColor","rightColor","hScaler","nScaler","getLuminance","channel","pow","GridColumnIcon","GridColumnMenuIcon","isSizedGridColumn","resolveCellsThunk","thunk","isEditableGridCell","isTextEditableGridCell","isInnerOnlyCell","isReadWriteCell","isRectangleEqual","isObjectEditorCallbackResult","_cell$readonly","mergeRanges","input","ranges","stack","sort","emptyCompactSelection","_Symbol$iterator","iterator","CompactSelection","offset","amount","newItems","selection","selMin","selMax","end","toAdd","splice","first","last","hasIndex","hasAll","some","predicate","equals","other","toArray","_class","_emptyCompactSelectio","fromSingleSelection","getColors","variant","SpriteManager","headerIcons","onSettled","spriteMap","inFlight","sprite","bgColor","rSize","spriteCanvas","spriteCb","spriteCtx","imgSource","encodeURIComponent","promise","then","finally","isGroupEqual","getSkipPoint","drawRegions","drawRegionsLowestY","dr","_drawRegionsLowestY","walkRowsInCol","startRow","getRowHeight","freezeTrailingRows","hasAppendRow","skipToY","cb","_skipToY","rowEnd","didBreak","rh","fr","walkColumns","effectiveCols","cellYOffset","translateX","translateY","totalHeaderHeight","clipX","sticky","walkGroups","groupHeaderHeight","_startCol$group","startCol","boxWidth","group","endCol","localX","delta","sourceIndex","getSpanBounds","cellW","cellH","column","allColumns","_allColumns$find$sour","_allColumns$find","frozenRect","contentRect","firstNonSticky","find","renderFromCol","tempX","tempW","renderToCol","cellIsSelected","cellIsInRange","getFreezeTrailingHeight","drawLastUpdateUnderlay","loadingCell","allowOverlay","drawCells","effectiveColumns","getCellContent","getGroupDetails","getRowThemeOverride","disabledRows","isFocused","drawFocus","damage","prelightCells","highlightRegions","hoverValues","hoverInfo","drawCellCallback","outerTheme","enqueue","renderStateProvider","getCellRenderer","minimumCellWidth","_damage$size","toDraw","frameTime","performance","now","deprepArg","cellIndex","freezeTrailingRowsHeight","handledSpans","skipPoint","colDrawStartY","_c$group","diff","colDrawX","colDrawY","colWidth","colHeight","found","reclip","colSelected","groupTheme","overrideTheme","colTheme","themeOverride","colFont","prepResult","isSticky","isTrailingRow","_c$trailingRowOptions","_c$trailingRowOptions2","rowSelected","rowDisabled","cellWidth","drawingSpan","skipContents","spanKey","areas","area","rowTheme","trailingTheme","trailingRowOptions","isSelected","accentCount","spanIsHighlighted","pre","region","didDamageClip","isLastColumn","isLastRow","fillRect","hoverValue","hv","item","_fill","_hoverValue$hoverAmou","_hoverValue","cellFont","drawCell","_prepResult","_prepResult$deprep","allocatedItem","reusableRect","drawState","animationFrameRequested","animRequest","isLastCol","finalCellFillColor","needsAnim","lastUpdated","_lastPrep","_r$drawPrep","renderer","_lastPrep2","_lastPrep2$deprep","partialPrepResult","drawMenuDots","roundedPoly","drawGridHeaders","enableGroups","hovered","headerHeight","dragAndDropState","isResizing","verticalBorder","drawHeaderCallback","touchMode","_hovered$","hCol","hRow","_y","_hoverValues$find$hov","_hoverValues$find","selected","noHover","hoveredBoolean","hover","hasSelectedCell","bgFillStyle","drawHeader","drawGroups","_hoverValues","_hovered$2","xPad","finalX","groupName","_groupTheme$textGroup","isHovered","fillColor","actions","_hovered$3","actionBoxes","getActionBoundsForGroup","fadeStartX","fadeWidth","grad","createLinearGradient","trans","addColorStop","mouseX","mouseY","action","box","actionHovered","menuButtonSize","getHeaderMenuBounds","isRtl","drawHeaderInner","menuBounds","rowMarker","rowMarkerChecked","shouldDrawMenu","hasMenu","dirScalar","headerSize","overlayIcon","fadeStart","fadeEnd","fadeStartPercent","fadeEndPercent","title","menuIcon","Triangle","triangleX","triangleY","Dots","dotsX","dotsY","iconX","iconY","columnIndex","groupBy","getStickyWidth","drawBlanks","getRowTheme","selectedRows","blankTheme","overdrawStickyBoundaries","drawFreezeBorder","hColor","vColor","vStroke","hStroke","getMinMaxXY","minX","maxX","minY","maxY","MIN_SAFE_INTEGER","drawExtraRowThemes","freezeY","extraRowsStartY","ty","rowThemeBgCell","needDraw","_c$themeOverride","tx","colThemeBgCell","drawGridLines","spans","_theme$horizontalBord2","verticalOnly","_rowTheme$horizontalB","groups","blitLastFrame","blitSource","blitSourceScroll","targetScroll","cellXOffset","mappedColumns","doubleBuffer","deltaY","deltaX","stickyWidth","regions","blitWidth","blitHeight","sx","sy","sw","sh","dx","dy","dw","dh","setTransform","blitResizedCol","resizedIndex","_drawY","computeCanBlit","rowHeight","freezeColumns","maxScaleFactor","resized","curCol","lastCol","curRest","lastWidth","lastRest","computeBounds","drawHighlightRings","allHighlightRegions","freezeLeft","freezeBottom","drawRects","_h$style","arg","topLeftBounds","bottomRightBounds","drawCb","dashed","wasDashed","needsClip","setLineDash","strokeRect","drawColumnResizeOutline","drawFocusRing","selectedCell","fillHandle","_cell$span","currentItem","fillHandleTarget","mustDraw","targetCol","targetRow","targetColSpan","isStickyRow","stickRowHeight","fillHandleRow","drawHandleCb","isBeforeTarget","isAfterTarget","isFillHandleCol","doHandle","doRing","_col$themeOverride$ac","_col$themeOverride","_col$themeOverride$ac2","_col$themeOverride2","_drawCb","_drawHandleCb","getEffectiveColumns","rectBottomRight","clipHeaderDamage","_group","hasItemInSpan","_colDrawY","finalWidth","getLastRow","_c","__drawX","_clipX","_rh","drawGrid","lastArg","_window$devicePixelRa","_selection$current","canvasCtx","headerCanvasCtx","resizeCol","lastBlitData","renderStrategy","bufferACtx","bufferBCtx","canBlit","overlayCanvas","overlayHeight","bufferA","bufferB","aBufferScroll","bBufferScroll","mainCtx","overlayCtx","targetCtx","lastBuffer","targetBuffer","mustDrawFocusOnHeader","mustDrawHighlightRingsOnHeader","drawHeaderTexture","_theme$headerBottomBo","viewRegionWidth","damageInView","when","doDamage","selectionCurrent","doHeaders","resizedCol","highlightRedraw","focusRedraw","_theme$resizeIndicato","_theme$resizeIndicato2","lastRowDrawn","from","_","scrollX","scrollY","clamp","itemsAreEqual","hoverTime","easeOutCubic","AnimationManager","callback","currentHoveredItem","leavingItems","lastAnimationTime","addToLeavingItems","isAlreadyLeaving","removeFromLeavingItems","_leavingItem$hoverAmo","leavingItem","cleanUpLeavingElements","shouldStep","hasLeavingItems","currentHoveredIsAnimating","getAnimatingItems","step","timestamp","animating","setHovered","_this$currentHoveredI","useAnimationQueue","queue","seq","drawRef","loop","requeue","getColumnIndexForX","getRowIndexForY","useMappedColumns","makeRange","OutOfBoundsRegionAxis","outOfBoundsKind","groupHeaderKind","headerKind","mouseEventArgsAreEqual","fillHandleClickSize","getRowData","_r$getAccessibilitySt","DataGrid","forwardedRef","_p$translateX","_p$translateY","_experimental$enableF","_experimental$enableS","_eventTargetRef$curre","_eventTargetRef$curre2","_eventTargetRef$curre3","_eventTargetRef$curre4","_eventTargetRef$curre5","_eventTargetRef$curre6","accessibilityHeight","cellXOffsetReal","onHeaderMenuClick","isFilling","onCanvasFocused","onCanvasBlur","onContextMenu","fixedShadowX","fixedShadowY","onMouseDown","onMouseUp","onMouseMoveRaw","onMouseMove","onItemHovered","firstColAccessible","onKeyUp","canvasRef","onDragStart","onDragEnd","eventTargetRef","resizeColumn","isDragging","isDraggable","allowResize","onCellFocused","onDragOverCell","onDrop","onDragLeave","imageWindowLoader","smoothScrollX","smoothScrollY","experimental","damageRegion","scrolling","setScrolling","hoveredItemInfo","setHoveredItemInfo","hoveredOnEdge","setHoveredOnEdge","overlayRef","drawCursorOverride","setDrawCursorOverride","lastWasTouch","setLastWasTouch","lastWasTouchRef","useMemo","lastArgsRef","lastDrawRef","scrollingStopRef","enableFirefoxRescaling","enableSafariRescaling","clearTimeout","setTimeout","stickyX","getBoundsForItem","getBoundingClientRect","getMouseArgsForPosition","ev","edgeDetectionBuffer","button","buttons","MouseEvent","ctrlKey","metaKey","isTouch","pointerType","scrollEdge","horizontal","vertical","innerHorizontal","innerVertical","EndPadding","Center","isEdge","isMaybeScrollbar","previousCol","_mappedColumns$previo","localEventX","localEventY","_mappedColumns$col$gr","isFillHandle","fillHandleLocation","fillHandleCellBounds","handleLogicalCenterX","handleLogicalCenterY","hoveredItem","enqueueRef","hoverInfoRef","documentElement","maxDPR","disableMinimumCellWidth","_experimental$hyperWr","_experimental$renderS","_hoverInfoRef$current","didOverride","cursor","_document","fonts","ready","damageInternal","locations","overFill","setOverFill","headerHovered","groupHeaderHovered","clickableInnerCellHovered","editableBoolHovered","cursorOverride","canDrag","contain","display","lastSetCursor","groupHeaderActionForEvent","groupDesc","boxes","isOverHeaderMenu","clientX","clientY","header","headerBounds","downTime","downPosition","mouseDown","onMouseDownImpl","eventTarget","touches","lastUpTime","onMouseUpImpl","lastUpTimeValue","isOutside","canCancel","changedTouches","isLongTouch","isDoubleClick","cancelable","_downPosition$current","_downPosition$current2","onClickImpl","_downPosition$current3","_downPosition$current4","onContextMenuImpl","onAnimationFrame","animManagerValue","animationManager","am","cellNeedsHover","hoveredRef","onMouseMoveImpl","isIndirect","maybeSetHoveredInfo","needPosition","cv","needsDamageCell","_getCellRenderer","toCheck","rendererNeeds","newInfo","notRowMarkerCol","onKeyDownImpl","altKey","keyCode","rawEvent","onKeyUpImpl","refImpl","instance","onDragStartImpl","dragMime","dragData","mime","payload","dragImage","dragImageX","dragImageY","setDragImage","image","prevented","defaultPrevented","dataTransfer","effectAllowed","offscreen","boundsForDragTarget","activeDropTarget","onDragOverImpl","_activeDropTarget$cur","rawCol","activeCol","activeRow","onDragEndImpl","onDropImpl","onDragLeaveImpl","selectionRef","focusRef","focusElement","contains","activeElement","_canvasRef$current","preventScroll","useImperativeHandle","_canvasRef$current2","getBounds","lastFocusedSubdomNode","accessibilityTree","_effectiveCols$","_selection$current$ce","_selection$current2","disableAccessibilityTree","colOffset","fCol","fRow","visibleCols","visibleRows","role","tabIndex","onFocus","focused","cellContent","onFocusCapture","_lastFocusedSubdomNod","_lastFocusedSubdomNod2","opacityX","absoluteOffsetY","opacityY","stickyShadow","styleX","transition","boxShadow","styleY","overlayStyle","onBlur","memo","forwardRef","splitText","clearCache","grow","growOffset","gridSelectionHasItem","sel","cellIsInRect","startX","endX","startY","endY","cellCol","cellRow","spanStart","spanEnd","includeSingleSelection","remapForDnDState","dndState","mappedCols","writable","temp","dest","remapped","endIndex","curX","targetX","cx","targetY","hasGroups","effectiveRows","curY","metricsSize","metricsCache","isSSR","clearCacheOnLoad","makeCacheKey","baseline","getMiddleCenterBiasInner","loadMetric","sample","biasCache","alphabeticMetrics","middleMetrics","bias","actualBoundingBoxDescent","lastUpdate","progress","animTime","fade","overrideColor","newFill","drawTextCellExternal","drawSingleTextLine","truncateString","drawMultiLineText","actualHeight","mustClip","optimalY","_allowWrapping","changed","tl","tr","bl","arcTo","arc","points","radiusAll","asVec","pp","vx","vy","vlen","sqrt","vnx","vny","nx","ny","ang","atan2","p1","p2","p3","v1","v2","sinA","sinA90","angle","asin","radDirection","drawDirection","halfAngle","lenOut","cRadius","closePath","freezeWidth","rectBordRadius","checkBoxHalfWidth","lineJoin","_exp2","BuilderWrapper","SimpleWrapper","BuilderThemeWrapper","context","SimpleThemeWrapper"],"sourceRoot":""}
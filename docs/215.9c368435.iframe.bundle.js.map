{"version":3,"file":"215.9c368435.iframe.bundle.js","mappings":"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","sources":["webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/number-overlay-editor-style.tsx","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/number-overlay-editor.tsx","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/number-overlay-editor-style.tsx?658b","webpack://root/./packages/core/src/internal/data-grid-overlay-editor/private/number-overlay-editor-style.tsx?fb01"],"sourcesContent":["import { styled } from \"@linaria/react\";\n\nexport const NumberOverlayEditorStyle = styled.div`\n    display: flex;\n    margin: 6px 0 3px;\n    color: var(--gdg-text-dark);\n\n    > input {\n        font-size: var(--gdg-editor-font-size);\n        padding: 0;\n        font-family: var(--gdg-font-family);\n        color: var(--gdg-text-dark);\n        background-color: var(--gdg-bg-cell);\n    }\n`;\n","import * as React from \"react\";\nimport { NumberOverlayEditorStyle } from \"./number-overlay-editor-style.js\";\nimport { NumericFormat } from \"react-number-format\";\nimport type { SelectionRange } from \"../../data-grid/data-grid-types.js\";\nimport type { NumberFormatValues } from \"react-number-format/types/types.js\";\n\ninterface Props {\n    readonly value: number | undefined;\n    readonly disabled?: boolean;\n    readonly onChange: (values: NumberFormatValues) => void;\n    readonly highlight: boolean;\n    readonly validatedSelection?: SelectionRange;\n    readonly fixedDecimals?: number;\n    readonly allowNegative?: boolean;\n    readonly thousandSeparator?: boolean | string;\n    readonly decimalSeparator?: string;\n}\n\nfunction getDecimalSeparator() {\n    const numberWithDecimalSeparator = 1.1;\n    const result = Intl.NumberFormat()\n        ?.formatToParts(numberWithDecimalSeparator)\n        ?.find(part => part.type === \"decimal\")?.value;\n\n    return result ?? \".\";\n}\n\nfunction getThousandSeprator() {\n    return getDecimalSeparator() === \".\" ? \",\" : \".\";\n}\n\nconst NumberOverlayEditor: React.FunctionComponent<Props> = p => {\n    const {\n        value,\n        onChange,\n        disabled,\n        highlight,\n        validatedSelection,\n        fixedDecimals,\n        allowNegative,\n        thousandSeparator,\n        decimalSeparator,\n    } = p;\n\n    const inputRef = React.useRef<HTMLInputElement>();\n\n    React.useLayoutEffect(() => {\n        if (validatedSelection !== undefined) {\n            const range = typeof validatedSelection === \"number\" ? [validatedSelection, null] : validatedSelection;\n            inputRef.current?.setSelectionRange(range[0], range[1]);\n        }\n    }, [validatedSelection]);\n\n    return (\n        <NumberOverlayEditorStyle>\n            <NumericFormat\n                autoFocus={true}\n                getInputRef={inputRef}\n                className=\"gdg-input\"\n                onFocus={(e: React.FocusEvent<HTMLInputElement>) =>\n                    e.target.setSelectionRange(highlight ? 0 : e.target.value.length, e.target.value.length)\n                }\n                disabled={disabled === true}\n                decimalScale={fixedDecimals}\n                allowNegative={allowNegative}\n                thousandSeparator={thousandSeparator ?? getThousandSeprator()}\n                decimalSeparator={decimalSeparator ?? getDecimalSeparator()}\n                value={Object.is(value, -0) ? \"-\" : value ?? \"\"}\n                // decimalScale={3}\n                // prefix={\"$\"}\n                onValueChange={onChange}\n            />\n        </NumberOverlayEditorStyle>\n    );\n};\n\nexport default NumberOverlayEditor;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".npc9kuo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:6px 0 3px;color:var(--gdg-text-dark);}.npc9kuo > input{font-size:var(--gdg-editor-font-size);padding:0;font-family:var(--gdg-font-family);color:var(--gdg-text-dark);background-color:var(--gdg-bg-cell);}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvbnVtYmVyLW92ZXJsYXktZWRpdG9yLXN0eWxlLnRzeCJdLCJuYW1lcyI6WyIubnBjOWt1byJdLCJtYXBwaW5ncyI6IkFBQ3dDQSIsImZpbGUiOiIvaG9tZS9ydW5uZXIvd29yay9nbGlkZS1kYXRhLWdyaWQvZ2xpZGUtZGF0YS1ncmlkL3BhY2thZ2VzL2NvcmUvc3JjL2ludGVybmFsL2RhdGEtZ3JpZC1vdmVybGF5LWVkaXRvci9wcml2YXRlL251bWJlci1vdmVybGF5LWVkaXRvci1zdHlsZS50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHlsZWQgfSBmcm9tIFwiQGxpbmFyaWEvcmVhY3RcIjtcbmV4cG9ydCBjb25zdCBOdW1iZXJPdmVybGF5RWRpdG9yU3R5bGUgPSBzdHlsZWQuZGl2YFxuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgbWFyZ2luOiA2cHggMCAzcHg7XG4gICAgY29sb3I6IHZhcigtLWdkZy10ZXh0LWRhcmspO1xuXG4gICAgPiBpbnB1dCB7XG4gICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tZ2RnLWVkaXRvci1mb250LXNpemUpO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZ2RnLWZvbnQtZmFtaWx5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWdkZy10ZXh0LWRhcmspO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1nZGctYmctY2VsbCk7XG4gICAgfVxuYDsiXX0=*/\", \"\",{\"version\":3,\"sources\":[\"/home/runner/work/glide-data-grid/glide-data-grid/packages/core/src/internal/data-grid-overlay-editor/private/number-overlay-editor-style.tsx\",\"webpack://./packages/core/src/internal/data-grid-overlay-editor/private/number-overlay-editor-style.tsx\"],\"names\":[\".npc9kuo\"],\"mappings\":\"AACwCA,SAAAA,mBAAAA,CAAAA,oBAAAA,CAAAA,mBAAAA,CAAAA,YAAAA,CAAAA,gBAAAA,CAAAA,0BAAAA,CAAAA,CAAAA,iBAAAA,qCAAAA,CAAAA,SAAAA,CAAAA,kCAAAA,CAAAA,0BAAAA,CAAAA,mCAAAA,CAAAA;ACAxC,2kCAA2kC\",\"sourcesContent\":[\"import { styled } from \\\"@linaria/react\\\";\\nexport const NumberOverlayEditorStyle = styled.div`\\n    display: flex;\\n    margin: 6px 0 3px;\\n    color: var(--gdg-text-dark);\\n\\n    > input {\\n        font-size: var(--gdg-editor-font-size);\\n        padding: 0;\\n        font-family: var(--gdg-font-family);\\n        color: var(--gdg-text-dark);\\n        background-color: var(--gdg-bg-cell);\\n    }\\n`;\",\".npc9kuo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:6px 0 3px;color:var(--gdg-text-dark);}.npc9kuo > input{font-size:var(--gdg-editor-font-size);padding:0;font-family:var(--gdg-font-family);color:var(--gdg-text-dark);background-color:var(--gdg-bg-cell);}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2dsaWRlLWRhdGEtZ3JpZC9nbGlkZS1kYXRhLWdyaWQvcGFja2FnZXMvY29yZS9zcmMvaW50ZXJuYWwvZGF0YS1ncmlkLW92ZXJsYXktZWRpdG9yL3ByaXZhdGUvbnVtYmVyLW92ZXJsYXktZWRpdG9yLXN0eWxlLnRzeCJdLCJuYW1lcyI6WyIubnBjOWt1byJdLCJtYXBwaW5ncyI6IkFBQ3dDQSIsImZpbGUiOiIvaG9tZS9ydW5uZXIvd29yay9nbGlkZS1kYXRhLWdyaWQvZ2xpZGUtZGF0YS1ncmlkL3BhY2thZ2VzL2NvcmUvc3JjL2ludGVybmFsL2RhdGEtZ3JpZC1vdmVybGF5LWVkaXRvci9wcml2YXRlL251bWJlci1vdmVybGF5LWVkaXRvci1zdHlsZS50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHlsZWQgfSBmcm9tIFwiQGxpbmFyaWEvcmVhY3RcIjtcbmV4cG9ydCBjb25zdCBOdW1iZXJPdmVybGF5RWRpdG9yU3R5bGUgPSBzdHlsZWQuZGl2YFxuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgbWFyZ2luOiA2cHggMCAzcHg7XG4gICAgY29sb3I6IHZhcigtLWdkZy10ZXh0LWRhcmspO1xuXG4gICAgPiBpbnB1dCB7XG4gICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tZ2RnLWVkaXRvci1mb250LXNpemUpO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZ2RnLWZvbnQtZmFtaWx5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWdkZy10ZXh0LWRhcmspO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1nZGctYmctY2VsbCk7XG4gICAgfVxuYDsiXX0=*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./number-overlay-editor-style.tsx\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!../../../../../../node_modules/@linaria/webpack5-loader/lib/outputCssLoader.js?cacheProvider=!./number-overlay-editor-style.tsx\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":["styled","NumberOverlayEditorStyle","name","class","propsAsIs","React","NumericFormat","jsx","_jsx","getDecimalSeparator","_Intl$NumberFormat","numberWithDecimalSeparator","result","Intl","NumberFormat","formatToParts","find","part","type","value","getThousandSeprator","NumberOverlayEditor","p","onChange","disabled","highlight","validatedSelection","fixedDecimals","allowNegative","thousandSeparator","decimalSeparator","inputRef","useRef","useLayoutEffect","undefined","_inputRef$current","range","current","setSelectionRange","children","autoFocus","getInputRef","className","onFocus","e","target","length","decimalScale","Object","is","onValueChange","displayName"],"sourceRoot":""}